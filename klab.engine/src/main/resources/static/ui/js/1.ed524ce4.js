(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"/HmZ":function(t,e,s){},"5RL2":function(t,e,s){},"6BcA":function(t,e,s){"use strict";var a=s("dbei"),i=s.n(a);i.a},"7QM7":function(t,e,s){"use strict";var a=s("wxf7"),i=s.n(a);i.a},JFNH:function(t,e,s){"use strict";var a=s("ofTP"),i=s.n(a);i.a},M4pf:function(t,e,s){},TfIi:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IS0tIENyZWF0ZWQgd2l0aCBJbmtzY2FwZSAoaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvKSAtLT4NCg0KPHN2Zw0KICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIg0KICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyINCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyINCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciDQogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiDQogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSINCiAgIHdpZHRoPSIzMDAiDQogICBoZWlnaHQ9IjMxNS45MjI1OCINCiAgIHZpZXdCb3g9IjAgMCA3OS4zNzQ5OTggODMuNTg3ODUxIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgaWQ9InN2ZzgiDQogICBzb2RpcG9kaTpkb2NuYW1lPSJrbGFiLXNwaW5uZXIuc3ZnIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45Mi4zICgyNDA1NTQ2LCAyMDE4LTAzLTExKSI+DQogIDxkZWZzDQogICAgIGlkPSJkZWZzMiIgLz4NCiAgPHNvZGlwb2RpOm5hbWVkdmlldw0KICAgICBpZD0iYmFzZSINCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIg0KICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiINCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIg0KICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIg0KICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIg0KICAgICBpbmtzY2FwZTp6b29tPSIwLjk2MDE5OTg0Ig0KICAgICBpbmtzY2FwZTpjeD0iLTg2LjM3NzY2OSINCiAgICAgaW5rc2NhcGU6Y3k9IjcuMTEwNTY4MiINCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIg0KICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiDQogICAgIHNob3dncmlkPSJmYWxzZSINCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI3Ig0KICAgICBpbmtzY2FwZTp3aW5kb3cteD0iLTgiDQogICAgIGlua3NjYXBlOndpbmRvdy15PSItOCINCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSINCiAgICAgdW5pdHM9InB4Ig0KICAgICBmaXQtbWFyZ2luLXRvcD0iMCINCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIg0KICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIg0KICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIgLz4NCiAgPG1ldGFkYXRhDQogICAgIGlkPSJtZXRhZGF0YTUiPg0KICAgIDxyZGY6UkRGPg0KICAgICAgPGNjOldvcmsNCiAgICAgICAgIHJkZjphYm91dD0iIj4NCiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+DQogICAgICAgIDxkYzp0eXBlDQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+DQogICAgICAgIDxkYzp0aXRsZT48L2RjOnRpdGxlPg0KICAgICAgPC9jYzpXb3JrPg0KICAgIDwvcmRmOlJERj4NCiAgPC9tZXRhZGF0YT4NCiAgPGcNCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiDQogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiDQogICAgIGlkPSJsYXllcjEiDQogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00My40NjU1NzQsLTE1NS4zNjMwOSkiPg0KICAgIDxwYXRoDQogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCINCiAgICAgICBpZD0icGF0aDM3NzkiDQogICAgICAgZD0ibSA4NC43NjE5MDYsMjM4Ljg5NjkxIGMgMCwtMC4wNDcyIDAuMTc3NzE4LC0wLjM4MTA3IDAuMzk0OTMsLTAuNzQxOTcgMC43NzE4NTcsLTEuMjgyNDggMS4zMDA1MDEsLTIuODM2NzEgMS40OTY0MDYsLTQuMzk5NSAwLjExODU4NCwtMC45NDU5NyAwLjA2MTg2LC0yLjY2MzM2IC0wLjExODE1MiwtMy41NzcyOSAtMC40NTI2NTUsLTIuMjk4MTEgLTEuNzAzOTc2LC00LjU1OTQ3IC0zLjQwMzAzNiwtNi4xNDk4OSAtMC43MjQzMDUsLTAuNjc3OTkgLTEuOTg0MTA2LC0xLjU3NTQ4IC0yLjIxMTQ4NiwtMS41NzU0OCAtMC4wOTA2NCwwIC0wLjE5MjU0NiwwLjE1NjQ4IC0wLjMyMDI1NywwLjQ5MTc2IC0wLjEwMzAyNCwwLjI3MDQ3IC0wLjM5NDQ1NCwwLjkwMTMxIC0wLjY0NzYxOSwxLjQwMTg2IC0yLjA2MzgwNCw0LjA4MDQ3IC01Ljg0Mjc4NSw2LjkzMDI5IC0xMC40OTQ1Nyw3LjkxNDIgLTAuOTQxMTM2LDAuMTk5MDcgLTEuMTY3NDg1LDAuMjE2NjcgLTIuODMyNTc3LDAuMjIwMjkgLTEuODk4MzUsMC4wMDQgLTIuMzI0Njk5LC0wLjA0MTMgLTMuNzc2NzY3LC0wLjQwMjc5IC0wLjcxNDE4OSwtMC4xNzc3NyAtMi4wNjUwNDUsLTAuNjM5MDggLTIuNDI2MjMyLC0wLjgyODU0IC0wLjI0OTA2OCwtMC4xMzA2NCAtMC4wODcwMywtMC4xNTQ5MiAwLjQyMDE3NCwtMC4wNjI5IDAuMjY4ODM0LDAuMDQ4NyAwLjkzMDMxNiwwLjExNzI2IDEuNDY5OTYsMC4xNTIyNiA0LjEyMDg3MSwwLjI2NzI3IDguMTI0MjI3LC0xLjI0MTA2IDExLjA0NDI3MiwtNC4xNjExMSAwLjk4Mzk3NywtMC45ODM5NyAyLjE0OTc3NywtMi41MTg3MyAyLjAxNTM0NSwtMi42NTMxNiAtMC4wMjUyMywtMC4wMjUyIC0wLjQ4MTA2NSwwLjEzMTM2IC0xLjAxMjk1OCwwLjM0Nzk5IC0wLjUzMTg5NiwwLjIxNjYzIC0xLjI1MDM0LDAuNDg1MTkgLTEuNTk2NTQzLDAuNTk2NzkgLTUuNjc1ODMsMS44Mjk3OCAtMTEuOTgyMjQ4LDEuMDQ5ODQgLTE3LjAxMjI1LC0yLjEwMzk2IC0xLjg5NjMwOCwtMS4xODg5OCAtMy43NjA1NTgsLTIuODU0MDUgLTUuMDU4NjA4LC00LjUxODEzIC02LjAwMDIyLC03LjY5MjE5IC04LjQwNTYwNywtMTcuNDQ5MzMgLTYuNjgxNTQ5LC0yNy4xMDI4NSAwLjg3NzU4NCwtNC45MTM4NiAzLjQyMjIxNywtMTAuOTE0NDcgNi40NjM3MTMsLTE1LjI0MjM2IDMuMjY1NzI3LC00LjY0Njk2IDcuNjk5NzQyLC04Ljc3MDcgMTIuMjIzNjE5LC0xMS4zNjgyNSAxLjgxNzMyNiwtMS4wNDM0OSA0LjM5OTQ3MywtMi4yODA0MiA0LjY1MTAyNCwtMi4yMjc5OCAwLjA3ODMyLDAuMDE2MyAtMC4wMzI1NSwwLjIzMTI2IC0wLjM2NDMxNiwwLjcwNjI3IC0wLjI2MjI5OSwwLjM3NTU1IC0wLjQ3NjkwNiwwLjcyMDEgLTAuNDc2OTA2LDAuNzY1NjYgMCwwLjA4NjQgMC4wMzY2OSwwLjA5NjkgMC44NTY4MDUsMC4yNDM5NyAxLjA0Mzc0MiwwLjE4NzE4IDEuMDQ4Njk0LDAuMTcxNDcgLTAuMjY5ODM5LDAuODU2MTMgLTMuNjI4NTY0LDEuODg0MTggLTYuODMyNTQ1LDQuMzA2MTQgLTkuNDE3MTYyLDcuMTE4NjcgLTUuMjE2NzA4LDUuNjc2NyAtOC4yODY3MDEsMTIuNjM5NTMgLTguOTU1Mjk3LDIwLjMxMDg3IC0wLjE4NzkzNSwyLjE1NjMxIC0wLjA1ODYxLDUuODAwNDYgMC4yNzkyMjMsNy44NjgyNiAwLjY2MjM1Nyw0LjA1NDExIDAuOTkyNTQsNS4yNTg0MiAyLjAwNjIyNyw3LjMxNzQ5IDEuNjkzMjEsMy40MzkzNyA0LjQzMTI3LDYuMTk5NTcgNy44MjkwMjQsNy44OTIzNCAxLjY5ODcxMiwwLjg0NjMgMy4xMzIzMTUsMS4zMDc1MyA0LjM0OTgxNCwxLjM5OTQ0IDEuODEzNzUsMC4xMzY5MiAzLjk1NTk5MiwtMC41NjY4MSA1LjI1Nzk3NiwtMS43MjcyNSAxLjEwMTk3OSwtMC45ODIxOCAyLjM1NTk0MSwtMy40ODYxIDIuOTgxMjc0LC01Ljk1MzAyIDAuNDY1MDExLC0xLjgzNDQ2IDAuNjQzNjU5LC0zLjU1NzAyIDAuNzQyNDI1LC03LjE1ODYzIDAuMDc2NDYsLTIuNzg4MzYgMC4xNTA1MTQsLTMuNDA0MjIgMC41OTYyMjEsLTQuOTU4NTUgMS40MzM2MDEsLTQuOTk5NDQgNC4yMzI2MjgsLTkuNDk2MzkgNy43NDg4MjYsLTEyLjQ0OTM1IDIuMTg3OTM2LC0xLjgzNzQ3IDUuMTcwMzAzLC0zLjQwNzA2IDcuNzQ1OTI5LC00LjA3NjYzIDIuOTkyNzU2LC0wLjc3OCA1LjgzNzQwNSwtMC44OTg1NyA4LjkzODI4NSwtMC4zNzg4NiBsIDAuOTg3MDE5LDAuMTY1NDMgMC40MDM2ODEsLTAuMjQ4MzkgYyAwLjcxNjA2NCwtMC40NDA2IDEuMzAwOTIyLC0wLjYyMDgxIDMuMzM0NTk2LC0xLjAyNzQ3IDUuMzg5MzIsLTEuMDc3NjYgOC4yNTUxMiwtMi4xNDI3MyAxMS4zODM3OSwtNC4yMzA3MiAwLjUzNDk3LC0wLjM1NzAzIDAuOTk5MzMsLTAuNjQ5MTQgMS4wMzE5MywtMC42NDkxNCAwLjA3LDAgMS4yMDc0OCwxLjU0Nzk4IDEuODc5MSwyLjU1NzE5IDUuODE0NTMsOC43MzcyMSA3LjkyMjM5LDE5LjUxNzA1IDUuODM4NzQsMjkuODYwMDggLTIuMjMyMjUsMTEuMDgwNjQgLTkuMDAzOCwyMC41ODc0OSAtMTguODAzNzcsMjYuMzk5MzYgLTQuNzU4NjgsMi44MjIxMiAtMTAuNTgxNzYsNC43MzAxMSAtMTYuMDUxMjcxLDUuMjU5MzMgLTIuMTEwNzk0LDAuMjA0MjQgLTIuNDM5MTYzLDAuMjIxNTUgLTIuNDM5MTYzLDAuMTI4NTcgeiBNIDgwLjg3MzA0NSwyMDIuODA4MiBjIDAuNTAwNzc1LC0wLjI0NTIxIDEuMDc5NzA3LC0wLjgyOTY3IDEuMjkyNDE2LC0xLjMwNDc4IDAuMTg0MDgyLC0wLjQxMTE2IDAuMTI0MjgzLC0wLjQ5NzA5IC0wLjU1OTQ1OSwtMC44MDM5MyAtMS4yNDI0NDgsLTAuNTU3NTggLTIuOTUzMTUsLTAuMjA2NjEgLTMuOTUzMjkxLDAuODExMDYgLTAuMjk0MDMsMC4yOTkxOSAtMC4zNjk5NywwLjQyNTg4IC0wLjMzMDI2MywwLjU1MDk5IDAuMDYxMDMsMC4xOTIyOCAwLjY4NzIyMywwLjY2ODUxIDEuMTE2Njc4LDAuODQ5MjUgMC43MDY3NjgsMC4yOTc0NSAxLjcwMjY2MiwwLjI1NTQ3IDIuNDMzOTE5LC0wLjEwMjU5IHoiDQogICAgICAgc3R5bGU9ImZpbGw6IzAxMDEwMjtzdHJva2Utd2lkdGg6MC4wNzg2ODI2OSIgLz4NCiAgPC9nPg0KPC9zdmc+DQo="},aAhD:function(t,e,s){"use strict";var a=s("M4pf"),i=s.n(a);i.a},aZgW:function(t,e,s){"use strict";var a=s("5RL2"),i=s.n(a);i.a},dbei:function(t,e,s){},gcVc:function(t,e,s){"use strict";var a=s("kBBf"),i=s.n(a);i.a},kBBf:function(t,e,s){},"kmF/":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"column bg-red-1"},[s("div",{staticClass:"col row full-height bg-red-1"},[s("viewer")],1),s("div",{staticClass:"col-1 row bg-red-1"},[s("klab-log")],1),s("klab-tree"),s("q-modal",{directives:[{name:"show",rawName:"v-show",value:t.connectionState===t.$constants.CONNECTION_UNKNOWN||t.connectionState===t.$constants.CONNECTION_ERROR||t.connectionState===t.$constants.CONNECTION_WORKING,expression:"connectionState === $constants.CONNECTION_UNKNOWN ||\n              connectionState === $constants.CONNECTION_ERROR ||\n              connectionState === $constants.CONNECTION_WORKING"}],attrs:{minimized:"","no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":{width:"30vw","background-color":"rgba("+t.hexToRgb(t.modalColor)+", .5)"},"content-classes":["text-center","round-modal","q-ma-sm"]},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[s("div",{staticClass:"bg-white q-ma-md round-modal"},[t.connectionState===t.$constants.CONNECTION_DOWN?s("div",[s("div",{staticClass:"q-display-1 q-pa-md bg-opaque-white round-modal text-bol",style:{color:t.modalColor}},[t._v("\n          "+t._s(t.modalText)+"\n        ")]),s("q-btn",{attrs:{color:"secondary"},on:{click:t.reconnect}},[t._v(t._s(t.$t("label.reconnect"))+"\n        ")])],1):s("div",[s("div",{staticClass:"q-display-1 q-pa-md round-modal text-bold",style:{color:t.modalColor}},[t._v("\n          "+t._s(t.modalText)+"\n        ")]),s("klab-spinner",{attrs:{color:t.modalColor,size:200}})],1)])])],1)},i=[];a._withStripped=!0;var n=s("lSNA"),o=s.n(n),c=s("MVZn"),r=s.n(c),M=s("L2JU"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"tree-container"},[s("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[s("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.hasContext&&t.treeIsHidden,expression:"hasContext && treeIsHidden"}],staticClass:"fixed shadow-1",staticStyle:{left:".5em",top:"1.5em"},attrs:{color:"primary",round:"",size:"md",icon:"ion-ios-bookmarks"},on:{click:t.show}})],1),s("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[s("q-card",{directives:[{name:"show",rawName:"v-show",value:t.hasContext&&!t.treeIsHidden,expression:"hasContext && !treeIsHidden"},{name:"draggable",rawName:"v-draggable",value:t.draggableValue,expression:"draggableValue"}],staticClass:"fixed bg-white shadow-1",staticStyle:{left:"1vw",top:"1vw"}},[s("q-card-title",{ref:"dr-handler",staticClass:"q-pa-sm bg-primary"},[s("span",{staticClass:"q-pr-md text-white"},[t._v(t._s(t.contextLabel))]),s("q-btn",{attrs:{color:"primary",round:"",size:"sm",icon:"ion-ios-arrow-back"},on:{click:t.hide}})],1),s("q-card-main",[s("q-tree",{ref:"klabTree",attrs:{nodes:t.tree,"node-key":"id","default-expand-all":"",selected:t.selected,ticked:t.ticked},on:{"update:selected":function(e){t.selected=e},"update:ticked":function(e){t.ticked=e}}}),s("klab-spinner",{directives:[{name:"show",rawName:"v-show",value:t.hasTasks,expression:"hasTasks"}],attrs:{color:"#26A69A",size:100}})],1)],1)],1)],1)},N=[];l._withStripped=!0;var g=s("on+m"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{attrs:{width:t.size,height:t.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("image",{attrs:{"data-v-4a3160ec":"",x:"-100",y:"-100",width:"200",height:"200","xlink:href":s("TfIi")}}),a("circle",{style:{fill:t.color},attrs:{id:"spinner",cx:"0",cy:"-90",r:"15"}})])},d=[];I._withStripped=!0;s("xfY5");var u={props:{size:{type:Number,default:200},color:{type:String}},computed:{computedColor:function(){return this.color||this.$colors.primary}}},C=u,w=(s("v8fI"),s("KHd+")),L=Object(w["a"])(C,I,d,!1,null,"df51d72a",null),T=L.exports,j=s("fMpr"),A={name:"klabTree",data:function(){return{selected:null,ticked:[],treeIsHidden:!1,draggableValue:{handle:void 0,resetInitialPos:!1}}},computed:r()({},Object(M["c"])("data",["tree","contextLabel","hasContext"]),Object(M["c"])("stomp",["hasTasks"])),methods:r()({},Object(M["b"])("data",["setNodeSelected"]),{hide:function(){this.draggableValue.resetInitialPos=!1,this.treeIsHidden=!0},show:function(){this.draggableValue.resetInitialPos=!0,this.treeIsHidden=!1}}),watch:{selected:function(t){if(null!==t){var e=this.$refs.klabTree.getNodeByKey(t);e&&(e.type!==j["a"].TREE_FOLDER?this.setNodeSelected(e):console.log("Folder selected!"))}}},mounted:function(){this.draggableValue.handle=this.$refs["dr-handler"]},directives:{Draggable:g["Draggable"]},components:{KlabSpinner:T}},D=A,y=(s("JFNH"),Object(w["a"])(D,l,N,!1,null,null,null)),O=y.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row full-width bg-gray-1"},[s("div",{staticClass:"col-1 no-padding stomp-status bg-gray-1"},[s("q-icon",{attrs:{name:t.CONN_INDICATOR[t.connectionState].icon,color:t.CONN_INDICATOR[t.connectionState].color}})],1),s("div",{staticClass:"col-3 message-log q-pt-xs stomp-message bg-gray-1"},[s("q-icon",{attrs:{name:"call_received",color:t.hasError?"negative":"positive"}}),s("span",{class:"text-"+(t.hasError?"negative":"positive")},[t._v(t._s(t.receivedMessage))])],1),s("div",{staticClass:"ic"}),s("div",{staticClass:"col-4 message-log q-pt-xs stomp-message bg-gray-1"},[s("q-icon",{attrs:{name:"call_made"}}),s("span",[t._v(t._s(t.sendedMessage))])],1),s("div",{staticClass:"col-4 message-log q-pt-xs stomp-message bg-gray-1"},[s("q-icon",{attrs:{name:"ion-at",color:t.lastLogActionMessage.color}}),s("span",{class:["text-"+t.lastLogActionMessage.color]},[t._v("\n      "+t._s(t.lastLogActionMessage.text)+" / "+t._s(t.lastLogActionMessage.time)+"\n    ")])],1)])},h=[];m._withStripped=!0;var p=s("sSqL"),b={name:"KLabLog",data:function(){var t;return{CONN_INDICATOR:(t={},o()(t,this.$constants.CONNECTION_UP,{icon:"signal_wifi_4_bar",color:"positive"}),o()(t,this.$constants.CONNECTION_DOWN,{icon:"signal_wifi_off",color:"positive"}),o()(t,this.$constants.CONNECTION_WORKING,{icon:"sync",color:"warning"}),o()(t,this.$constants.CONNECTION_UNKNOWN,{icon:"signal_wifi_4_bar",color:"positive"}),o()(t,this.$constants.CONNECTION_ERROR,{icon:"signal_wifi_off",color:"negative"}),t)}},computed:r()({},Object(M["d"])("stomp",["connectionState"]),Object(M["c"])("stomp",["lastSendedMessage","lastReceivedMessage","queuedMessage"]),Object(M["c"])("view",["lastLogAction"]),{hasError:function(){return this.lastReceivedMessage&&this.lastReceivedMessage.type===this.$constants.TYPE_ERROR},receivedMessage:function(){if(this.lastReceivedMessage){if(this.lastReceivedMessage.type===this.$constants.TYPE_ERROR)return""===this.lastReceivedMessage.message.reason?this.$t("label.klabUnknownError"):this.lastReceivedMessage.message.reason;if(""!==this.lastReceivedMessage.message.body){var t,e=JSON.parse(this.lastReceivedMessage.message.body);return t="string"===typeof e.payload?e.payload:e.type||this.lastReceivedMessage.message.body.command,"".concat(t," - ").concat(this.lastReceivedMessage.date)}return"".concat(this.lastReceivedMessage.message.command," - ").concat(this.lastReceivedMessage.date)}return this.$t("label.klabNoMessage")},sendedMessage:function(){return this.queuedMessage?this.$t("label.klabMessagesToSend"):this.lastSendedMessage?"".concat(this.lastSendedMessage.date," [").concat(p["b"].formatExtent(this.lastSendedMessage.payload),"]")||this.$t("label.klabNoDate"):this.$t("label.klabNoMessage")},lastLogActionMessage:function(){var t=this.lastLogAction();return t&&t.payload?{text:t.payload.message||t.payload,time:t.time?t.time.format("HH:mm:ss"):"no time",color:t.type===this.$constants.TYPE_ERROR?"negative":t.type===this.$constants.TYPE_WARN?"warning":"positive"}:this.$t("label.klabNoMessage")}}),watch:{},mounted:function(){}},z=b,v=(s("aAhD"),Object(w["a"])(z,m,h,!1,null,null,null)),x=v.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-padding relative-position full-width"},t._l(t.viewers,function(e){return s("div",{key:e.idx,class:["no-padding",e.main?"absolute-top full-height full-width":"absolute thumb-view"],style:t.viewerStyle(e)},[e.main?t._e():s("div",{staticClass:"thumb-viewer-title absolute-top"},[s("div",{staticClass:"relative-position"},[s("div",{staticClass:"thumb-viewer-label float-left q-ma-sm"},[t._v("\n        "+t._s(e.idx)+"\n      ")]),s("div",{staticClass:"float-right q-ma-sm"},[s("q-btn",{staticClass:"shadow-1",attrs:{round:"",color:"red-6",size:"xs",icon:"ion-ios-arrow-up"},on:{click:function(s){t.setMainViewer(e.idx)}}})],1)])]),s(e.type,{tag:"component",attrs:{idx:e.idx}})],1)}))},f=[];E._withStripped=!0;var S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fit no-padding map-viewer"},[s("div",{ref:"map"+t.idx,staticClass:"fit",attrs:{id:"map"+t.idx}}),s("q-resize-observable",{on:{resize:t.handleResize}})],1)},k=[];S._withStripped=!0;s("rGqo"),s("dRSK");var Y=s("J4zp"),R=s.n(Y),_=s("0kf8"),Q=s("I2m6"),Z=s("wd/R"),G=s.n(Z);function U(t,e,s,a,i){var n=Q["b"].validateJsonSchema(a,s);return{validated:n,body:{messageClass:t,type:e,payloadClass:s,payload:a,identity:i,timestamp:G()().valueOf(),inResponseTo:null}}}var W={SPATIAL_EXTENT:function(t){var e=R()(t,4),s=e[0],a=e[1],i=e[2],n=e[3];return{south:a,west:s,north:n,east:i}}},P={REGION_OF_INTEREST:function(t,e){return U(_["b"].CLASS_USERCONTEXTCHANGE,_["b"].TYPE_REGIONOFINTEREST,_["b"].PAYLOAD_CLASS_SPATIALEXTENT,W.SPATIAL_EXTENT(t),e)}},B=s("TKYB"),$=s("iVa1"),H=s("Jz61"),K=s("QD1l"),F=s("2SgD"),V=s("IbxR"),J=s("JW8z"),X={OSM_LAYER:new B["a"]({title:"Open Street Map",baseLayer:!0,source:new $["a"]}),STAMEN_WATER_COLOR_LAYER:new B["a"]({title:"Stamen Watercolor",baseLayer:!0,source:new H["a"]({layer:"watercolor"})}),OPEN_TOPO_MAT:new B["a"]({title:"Open Topo",baseLayer:!0,source:new K["a"]({url:"//{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:"© OpenTopoMap"})}),GOOGLE_HYBRID:new B["a"]({title:"Google Hybrid",baseLayer:!0,source:new K["a"]({crossOrigin:"anonymous",url:"http://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga",attribution:"© 2018 Google, Inc"})}),GOOGLE_STREET:new B["a"]({title:"Google Street",baseLayer:!0,source:new K["a"]({crossOrigin:"anonymous",url:"http://mt{0-3}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",attribution:"© 2018 Google, Inc"})}),GOOGLE_TERRAIN:new B["a"]({title:"Google Terrain",baseLayer:!0,source:new K["a"]({crossOrigin:"anonymous",url:"https://mt1.google.com/vt/lyrs=t&x={x}&y={y}&z={z}",attribution:"© 2018 Google, Inc"})}),BING_IMAGINERY:new B["a"]({title:"Bing Imagery",baseLayer:!0,source:new F["a"]({crossOrigin:"anonymous",maxZoom:19,key:j["a"].BING_KEY,imagerySet:"AerialWithLabels",attribution:"© 2017 Bing, Inc"})})},q={controls:V["a"].defaults({attribution:!1}).extend([]),layers:[X.GOOGLE_TERRAIN],target:"map",projection:j["a"].PROJ_EPSG_4326,center:J["a"].transform(j["a"].COORD_BC3,j["a"].PROJ_EPSG_4326,j["a"].PROJ_EPSG_3857),zoom:13},tt=s("Q9/c"),et=s("My6b"),st=s("pcsQ"),at=s("CUE8"),it=(s("W8A/"),{name:"MapViewer",props:{idx:{type:Number,required:!0}},data:function(){return{center:q.center,zoom:q.zoom,map:null,view:null,layers:new at["a"]}},computed:r()({observations:function(){return this.$store.getters["data/observations"](this.idx)}},Object(M["c"])("data",["hasContext","session"]),Object(M["c"])("view",["contextLayer"])),methods:r()({},Object(M["b"])("view",["pushLogAction"]),{handleResize:function(){console.log("handleResize called!!!"),this.map.updateSize()},onMoveEnd:function(t){if(!this.hasContext){var e=t.map,s=null;try{s=P.REGION_OF_INTEREST(J["a"].transformExtent(e.getView().calculateExtent(e.getSize()),"EPSG:3857","EPSG:4326"),this.session)}catch(t){this.pushLogAction({type:this.$constants.TYPE_ERROR,payload:t})}s&&s.body&&(this.sendStompMessage(s.body),this.pushLogAction({type:s.validated?this.$constants.TYPE_INFO:this.$constants.TYPE_WARN,payload:{message:"Message ".concat(s.validated?"":"not "," validated"),other:s}}))}},findLayerById:function(t){if(this.layers&&null!==this.layers){var e=this.layers.getArray(),s=e.find(function(e){return e.get("id")===t});return"undefined"!==typeof s?s:null}return null},drawContextLayer:function(){if(null!==this.contextLayer){var t=this.contextLayer.getSource().getFeatures()[0].getGeometry();this.layers.push(this.contextLayer),this.view.fit(t,{padding:[30,30,30,30],constrainResolution:!1})}},drawObservations:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.observations&&this.observations.length>0){var s=null,a=null;this.observations.forEach(function(i){var n=t.findLayerById(i.id);if(null===n&&(console.log("Creating layer: ".concat(i.label)),n=p["b"].getLayerObject(i,!1),t.layers.push(n)),n.setVisible(i.visible),i.visible&&e)switch(s=n.getSource().getExtent(),i.shapeType){case t.$constants.SHAPE_POINT:a=[s[0],s[1]];break;case t.$constants.SHAPE_POLYGON:s=n.getSource().getExtent();break;default:}}),e&&(null!==a?this.center=a:null!==s&&this.view.fit(s))}}}),watch:{contextLayer:function(t,e){this.drawContextLayer(t,e)},observations:{handler:function(){this.drawObservations(!0)},deep:!0},center:function(){this.view.setCenter(this.center)}},mounted:function(){this.map=new tt["a"]({view:new et["a"]({center:this.center,zoom:this.zoom}),layers:q.layers,target:"map".concat(this.idx),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),this.map.on("moveend",this.onMoveEnd),this.view=this.map.getView(),this.map.addLayer(new st["a"]({layers:this.layers})),this.drawContextLayer(),this.drawObservations(!0)}}),nt=it,ot=(s("6BcA"),Object(w["a"])(nt,S,k,!1,null,null,null)),ct=ot.exports,rt=[],Mt={computed:r()({},Object(M["c"])("view",["viewers","mainViewer"])),methods:r()({},Object(M["b"])("view",["setMainViewer"]),{viewerStyle:function(t){return t.main?"":(rt.push(t),0===rt.length?"left: 0":"left: ".concat(200*(rt.length-1)+10*(rt.length-1),"px"))}}),watch:{mainViewer:function(){rt=[]}},components:{MapViewer:ct},beforeUpdate:function(){rt=[]},mounted:function(){rt=[]}},lt=Mt,Nt=(s("aZgW"),Object(w["a"])(lt,E,f,!1,null,"df044d18",null)),gt=Nt.exports,It=s("4IOb"),dt={name:"IndexPage",computed:r()({},Object(M["c"])("stomp",["connectionState"]),{modalVisible:function(){return this.connectionState!==this.$constants.CONNECTION_UP},modalText:function(){var t;return(t={},o()(t,this.$constants.CONNECTION_UNKNOWN,this.$t("messages.connectionClosed")),o()(t,this.$constants.CONNECTION_DOWN,this.$t("messages.connectionClosed")),o()(t,this.$constants.CONNECTION_WORKING,this.$t("messages.connectionWorking")),o()(t,this.$constants.CONNECTION_ERROR,this.$t("errors.connectionError")),t)[this.connectionState]},modalColor:function(){var t;return(t={},o()(t,this.$constants.CONNECTION_UNKNOWN,It["F"].getBrand("warning")),o()(t,this.$constants.CONNECTION_DOWN,It["F"].getBrand("warning")),o()(t,this.$constants.CONNECTION_WORKING,It["F"].getBrand("info")),o()(t,this.$constants.CONNECTION_ERROR,It["F"].getBrand("negative")),t)[this.connectionState]}}),methods:{},components:{KlabTree:O,KlabLog:x,Viewer:gt,KlabSpinner:T},watch:{},mounted:function(){}},ut=dt,Ct=(s("gcVc"),s("7QM7"),Object(w["a"])(ut,a,i,!1,null,"6cadc2b6",null));e["default"]=Ct.exports},ofTP:function(t,e,s){},v8fI:function(t,e,s){"use strict";var a=s("/HmZ"),i=s.n(a);i.a},wxf7:function(t,e,s){}}]);