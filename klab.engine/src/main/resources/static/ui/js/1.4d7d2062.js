(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"6BcA":function(e,t,s){"use strict";var n=s("dbei"),i=s.n(n);i.a},"7QM7":function(e,t,s){"use strict";var n=s("wxf7"),i=s.n(n);i.a},"8d0B":function(e,t,s){"use strict";var n=s("Gelk"),i=s.n(n);i.a},A0nk:function(e,t,s){},Gelk:function(e,t,s){},JXPH:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:e.size,height:e.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("image",{attrs:{x:"-100",y:"-100",width:"200",height:"200","xlink:href":s("TfIi")}}),n("circle",{class:{moving:this.moving},style:{fill:e.realColor},attrs:{id:"spinner",cx:"0",cy:"-90",r:e.ball}})])},i=[];n._withStripped=!0;var a=s("MVZn"),o=s.n(a),c=(s("xfY5"),s("4IOb")),r=s("L2JU"),l={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:c["L"].getBrand("primary")},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!1}},computed:o()({},Object(r["c"])("view",["spinner"]),{moving:function(){return this.storeControlled?this.spinner.animated:this.animated},realColor:function(){return this.storeControlled?this.spinner.colorValue:this.color},errorMessage:function(){return this.spinner.errorMessage}}),watch:{errorMessage:function(e){null!==e&&(console.error(e),this.$q.notify(e))}}},d=l,u=(s("8d0B"),s("KHd+")),h=Object(u["a"])(d,n,i,!1,null,"8a5d9692",null);t["a"]=h.exports},KbJ9:function(e,t,s){"use strict";var n=s("A0nk"),i=s.n(n);i.a},M4pf:function(e,t,s){},TfIi:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzAwIgogICBoZWlnaHQ9IjMxNS45MjI1OCIKICAgdmlld0JveD0iMCAwIDc5LjM3NDk5OCA4My41ODc4NTEiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzgiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImtsYWItc3Bpbm5lci5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1Ij4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMC45NjAxOTk4NCIKICAgICBpbmtzY2FwZTpjeD0iLTIzOS45OTE1MyIKICAgICBpbmtzY2FwZTpjeT0iNy4xMTA3MjY4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI4IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgdW5pdHM9InB4IgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9ImtsYWItZWxlcGhhbnQtbGF5ZXIiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00My40NjU1NzQsLTE1NS4zNjMwOSkiPgogICAgPHBhdGgKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpZD0ia2xhYi1lbGVwaGFudCIKICAgICAgIGQ9Im0gODQuNzYxOTA2LDIzOC44OTY5MSBjIDAsLTAuMDQ3MiAwLjE3NzcxOCwtMC4zODEwNyAwLjM5NDkzLC0wLjc0MTk3IDAuNzcxODU3LC0xLjI4MjQ4IDEuMzAwNTAxLC0yLjgzNjcxIDEuNDk2NDA2LC00LjM5OTUgMC4xMTg1ODQsLTAuOTQ1OTcgMC4wNjE4NiwtMi42NjMzNiAtMC4xMTgxNTIsLTMuNTc3MjkgLTAuNDUyNjU1LC0yLjI5ODExIC0xLjcwMzk3NiwtNC41NTk0NyAtMy40MDMwMzYsLTYuMTQ5ODkgLTAuNzI0MzA1LC0wLjY3Nzk5IC0xLjk4NDEwNiwtMS41NzU0OCAtMi4yMTE0ODYsLTEuNTc1NDggLTAuMDkwNjQsMCAtMC4xOTI1NDYsMC4xNTY0OCAtMC4zMjAyNTcsMC40OTE3NiAtMC4xMDMwMjQsMC4yNzA0NyAtMC4zOTQ0NTQsMC45MDEzMSAtMC42NDc2MTksMS40MDE4NiAtMi4wNjM4MDQsNC4wODA0NyAtNS44NDI3ODUsNi45MzAyOSAtMTAuNDk0NTcsNy45MTQyIC0wLjk0MTEzNiwwLjE5OTA3IC0xLjE2NzQ4NSwwLjIxNjY3IC0yLjgzMjU3NywwLjIyMDI5IC0xLjg5ODM1LDAuMDA0IC0yLjMyNDY5OSwtMC4wNDEzIC0zLjc3Njc2NywtMC40MDI3OSAtMC43MTQxODksLTAuMTc3NzcgLTIuMDY1MDQ1LC0wLjYzOTA4IC0yLjQyNjIzMiwtMC44Mjg1NCAtMC4yNDkwNjgsLTAuMTMwNjQgLTAuMDg3MDMsLTAuMTU0OTIgMC40MjAxNzQsLTAuMDYyOSAwLjI2ODgzNCwwLjA0ODcgMC45MzAzMTYsMC4xMTcyNiAxLjQ2OTk2LDAuMTUyMjYgNC4xMjA4NzEsMC4yNjcyNyA4LjEyNDIyNywtMS4yNDEwNiAxMS4wNDQyNzIsLTQuMTYxMTEgMC45ODM5NzcsLTAuOTgzOTcgMi4xNDk3NzcsLTIuNTE4NzMgMi4wMTUzNDUsLTIuNjUzMTYgLTAuMDI1MjMsLTAuMDI1MiAtMC40ODEwNjUsMC4xMzEzNiAtMS4wMTI5NTgsMC4zNDc5OSAtMC41MzE4OTYsMC4yMTY2MyAtMS4yNTAzNCwwLjQ4NTE5IC0xLjU5NjU0MywwLjU5Njc5IC01LjY3NTgzLDEuODI5NzggLTExLjk4MjI0OCwxLjA0OTg0IC0xNy4wMTIyNSwtMi4xMDM5NiAtMS44OTYzMDgsLTEuMTg4OTggLTMuNzYwNTU4LC0yLjg1NDA1IC01LjA1ODYwOCwtNC41MTgxMyAtNi4wMDAyMiwtNy42OTIxOSAtOC40MDU2MDcsLTE3LjQ0OTMzIC02LjY4MTU0OSwtMjcuMTAyODUgMC44Nzc1ODQsLTQuOTEzODYgMy40MjIyMTcsLTEwLjkxNDQ3IDYuNDYzNzEzLC0xNS4yNDIzNiAzLjI2NTcyNywtNC42NDY5NiA3LjY5OTc0MiwtOC43NzA3IDEyLjIyMzYxOSwtMTEuMzY4MjUgMS44MTczMjYsLTEuMDQzNDkgNC4zOTk0NzMsLTIuMjgwNDIgNC42NTEwMjQsLTIuMjI3OTggMC4wNzgzMiwwLjAxNjMgLTAuMDMyNTUsMC4yMzEyNiAtMC4zNjQzMTYsMC43MDYyNyAtMC4yNjIyOTksMC4zNzU1NSAtMC40NzY5MDYsMC43MjAxIC0wLjQ3NjkwNiwwLjc2NTY2IDAsMC4wODY0IDAuMDM2NjksMC4wOTY5IDAuODU2ODA1LDAuMjQzOTcgMS4wNDM3NDIsMC4xODcxOCAxLjA0ODY5NCwwLjE3MTQ3IC0wLjI2OTgzOSwwLjg1NjEzIC0zLjYyODU2NCwxLjg4NDE4IC02LjgzMjU0NSw0LjMwNjE0IC05LjQxNzE2Miw3LjExODY3IC01LjIxNjcwOCw1LjY3NjcgLTguMjg2NzAxLDEyLjYzOTUzIC04Ljk1NTI5NywyMC4zMTA4NyAtMC4xODc5MzUsMi4xNTYzMSAtMC4wNTg2MSw1LjgwMDQ2IDAuMjc5MjIzLDcuODY4MjYgMC42NjIzNTcsNC4wNTQxMSAwLjk5MjU0LDUuMjU4NDIgMi4wMDYyMjcsNy4zMTc0OSAxLjY5MzIxLDMuNDM5MzcgNC40MzEyNyw2LjE5OTU3IDcuODI5MDI0LDcuODkyMzQgMS42OTg3MTIsMC44NDYzIDMuMTMyMzE1LDEuMzA3NTMgNC4zNDk4MTQsMS4zOTk0NCAxLjgxMzc1LDAuMTM2OTIgMy45NTU5OTIsLTAuNTY2ODEgNS4yNTc5NzYsLTEuNzI3MjUgMS4xMDE5NzksLTAuOTgyMTggMi4zNTU5NDEsLTMuNDg2MSAyLjk4MTI3NCwtNS45NTMwMiAwLjQ2NTAxMSwtMS44MzQ0NiAwLjY0MzY1OSwtMy41NTcwMiAwLjc0MjQyNSwtNy4xNTg2MyAwLjA3NjQ2LC0yLjc4ODM2IDAuMTUwNTE0LC0zLjQwNDIyIDAuNTk2MjIxLC00Ljk1ODU1IDEuNDMzNjAxLC00Ljk5OTQ0IDQuMjMyNjI4LC05LjQ5NjM5IDcuNzQ4ODI2LC0xMi40NDkzNSAyLjE4NzkzNiwtMS44Mzc0NyA1LjE3MDMwMywtMy40MDcwNiA3Ljc0NTkyOSwtNC4wNzY2MyAyLjk5Mjc1NiwtMC43NzggNS44Mzc0MDUsLTAuODk4NTcgOC45MzgyODUsLTAuMzc4ODYgbCAwLjk4NzAxOSwwLjE2NTQzIDAuNDAzNjgxLC0wLjI0ODM5IGMgMC43MTYwNjQsLTAuNDQwNiAxLjMwMDkyMiwtMC42MjA4MSAzLjMzNDU5NiwtMS4wMjc0NyA1LjM4OTMyLC0xLjA3NzY2IDguMjU1MTIsLTIuMTQyNzMgMTEuMzgzNzksLTQuMjMwNzIgMC41MzQ5NywtMC4zNTcwMyAwLjk5OTMzLC0wLjY0OTE0IDEuMDMxOTMsLTAuNjQ5MTQgMC4wNywwIDEuMjA3NDgsMS41NDc5OCAxLjg3OTEsMi41NTcxOSA1LjgxNDUzLDguNzM3MjEgNy45MjIzOSwxOS41MTcwNSA1LjgzODc0LDI5Ljg2MDA4IC0yLjIzMjI1LDExLjA4MDY0IC05LjAwMzgsMjAuNTg3NDkgLTE4LjgwMzc3LDI2LjM5OTM2IC00Ljc1ODY4LDIuODIyMTIgLTEwLjU4MTc2LDQuNzMwMTEgLTE2LjA1MTI3MSw1LjI1OTMzIC0yLjExMDc5NCwwLjIwNDI0IC0yLjQzOTE2MywwLjIyMTU1IC0yLjQzOTE2MywwLjEyODU3IHogTSA4MC44NzMwNDUsMjAyLjgwODIgYyAwLjUwMDc3NSwtMC4yNDUyMSAxLjA3OTcwNywtMC44Mjk2NyAxLjI5MjQxNiwtMS4zMDQ3OCAwLjE4NDA4MiwtMC40MTExNiAwLjEyNDI4MywtMC40OTcwOSAtMC41NTk0NTksLTAuODAzOTMgLTEuMjQyNDQ4LC0wLjU1NzU4IC0yLjk1MzE1LC0wLjIwNjYxIC0zLjk1MzI5MSwwLjgxMTA2IC0wLjI5NDAzLDAuMjk5MTkgLTAuMzY5OTcsMC40MjU4OCAtMC4zMzAyNjMsMC41NTA5OSAwLjA2MTAzLDAuMTkyMjggMC42ODcyMjMsMC42Njg1MSAxLjExNjY3OCwwLjg0OTI1IDAuNzA2NzY4LDAuMjk3NDUgMS43MDI2NjIsMC4yNTU0NyAyLjQzMzkxOSwtMC4xMDI1OSB6IgogICAgICAgc3R5bGU9ImZpbGw6IzAxMDEwMjtzdHJva2Utd2lkdGg6MC4wNzg2ODI2OSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGUzMzk1Ij5rLkxBQiBFbGVwaGFudDwvdGl0bGU+CiAgICA8L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},YGtZ:function(e,t,s){"use strict";var n=s("l02H"),i=s.n(n);i.a},a8BT:function(e,t,s){},aAhD:function(e,t,s){"use strict";var n=s("M4pf"),i=s.n(n);i.a},c29x:function(e,t,s){"use strict";var n=s("a8BT"),i=s.n(n);i.a},dbei:function(e,t,s){},eedv:function(e,t,s){"use strict";var n=s("y/Ei"),i=s.n(n);i.a},"kmF/":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"column bg-red-1"},[s("div",{staticClass:"col row full-height bg-red-1",attrs:{id:"viewer-container"}},[s("viewer")],1),s("div",{staticClass:"col-1 row bg-red-1"},[e.logVisible?s("klab-log"):e._e()],1),s("klab-main-control"),e.connectionState===e.$constants.CONNECTION_UNKNOWN||e.connectionState===e.$constants.CONNECTION_ERROR||e.connectionState===e.$constants.CONNECTION_WORKING?s("q-modal",{attrs:{minimized:"","no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":{width:"30vw","background-color":"rgba("+e.hexToRgb(e.modalColor)+", .5)"},"content-classes":["text-center","round-modal","q-ma-sm"]},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[s("div",{staticClass:"bg-white q-ma-md round-modal"},[e.connectionState===e.$constants.CONNECTION_DOWN?s("div",[s("div",{staticClass:"q-display-1 q-pa-md bg-opaque-white round-modal text-bol",style:{color:e.modalColor}},[e._v("\n          "+e._s(e.modalText)+"\n        ")]),s("q-btn",{attrs:{color:"secondary"},on:{click:e.reconnect}},[e._v(e._s(e.$t("label.reconnect"))+"\n        ")])],1):s("div",[s("div",{staticClass:"q-display-1 q-pa-md round-modal text-bold",style:{color:e.modalColor}},[e._v("\n          "+e._s(e.modalText)+"\n        ")]),s("klab-spinner",{attrs:{color:e.modalColor,size:200}})],1)])]):e._e()],1)},i=[];n._withStripped=!0;var a=s("lSNA"),o=s.n(a),c=s("MVZn"),r=s.n(c),l=s("L2JU"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"main-control-container",on:{"search-on":e.searchActivated}},[s("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[s("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.isHidden,expression:"isHidden"}],staticClass:"fixed shadow-1",staticStyle:{left:".5em",top:"1.5em"},attrs:{color:e.controlColor.name,round:"",size:"17px",icon:"ion-ios-bookmarks"},on:{click:e.show}})],1),s("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[s("q-card",{directives:[{name:"show",rawName:"v-show",value:!e.isHidden,expression:"!isHidden"},{name:"draggable",rawName:"v-draggable",value:e.draggableConfig,expression:"draggableConfig"}],class:["no-box","shadow","bg-transparent",e.hasContext?"with-context":"without-context","absolute-position"],attrs:{flat:!0}},[s("q-card-title",{ref:"dr-handler",class:[e.hasContext?"no-b-radius":"","q-pa-xs","no-margin"],style:{"background-color":"rgba("+e.hexToRgb(e.controlColor.value)+",.3)"},attrs:{id:"q-card-title"}},[s("div",{style:{border:"2px solid "+e.controlColor.value},attrs:{id:"spinner-div"}},[s("klab-spinner",{attrs:{id:"main-spinner","store-controlled":!0,color:e.controlColor.value,size:40,ball:25},nativeOn:{dblclick:function(t){return e.hide(t)}}})],1),e.searchIsActive?s("klab-search"):s("div",{staticClass:"q-pa-md text-white",attrs:{id:"mc-text-div"}},[e._v("\n        "+e._s(null===e.contextLabel?e.$t("label.noContext"):e.contextLabel)+"\n      ")]),s("q-btn",{attrs:{color:e.controlColor.name,round:"",size:"sm",icon:"ion-ios-arrow-back",id:"hide-btn"},on:{click:e.hide}})],1),s("q-card-main",{directives:[{name:"show",rawName:"v-show",value:e.hasContext&&!e.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin"},[s(e.content,{tag:"component"})],1),s("q-card-actions",{directives:[{name:"show",rawName:"v-show",value:e.hasContext&&!e.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin",style:{"background-color":"rgba("+e.hexToRgb(e.controlColor.value)+",.3)"},attrs:{id:"context-control",align:"end"}},[s("div",{staticClass:"q-ma-xs"},[e._v(" ")]),e.hasTasks?e._e():s("q-btn",{staticClass:"no-padding",attrs:{flat:"",round:"",size:"md",id:"btn-reset-context",icon:"ion-close-circle-outline",color:e.controlColor.name},on:{click:e.resetContext}},[s("q-tooltip",{attrs:{offset:[0,5],self:"top middle",anchor:"bottom middle"}},[e._v(e._s(e.$t("label.btnContextReset")))])],1)],1)],1)],1)],1)},u=[];d._withStripped=!0;var h=s("on+m"),g=s("JXPH"),I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.tree.length>0?s("q-tree",{ref:"klabTree",attrs:{nodes:e.tree,"node-key":"id",ticked:e.ticked,selected:e.selected,"tick-strategy":"strict","text-color":"white","control-color":"white",color:"white",dark:!0},on:{"update:ticked":function(t){e.ticked=t},"update:selected":function(t){e.selected=t}}}):s("div",{staticClass:"q-ma-md text-center text-white"},[e._v("\n  "+e._s(e.$t("label.noObservation"))+"\n")])},M=[];I._withStripped=!0;var N=s("RIqP"),C=s.n(N),w=(s("rGqo"),s("sSqL")),T={name:"klabTree",data:function(){return{ticked:[],selected:null}},computed:r()({},Object(l["c"])("data",["tree"])),methods:r()({},Object(l["b"])("data",["hideNode","showNode","selectNode"]),Object(l["b"])("view",["setSpinner"])),watch:{selected:function(e){this.selectNode(e),this.selected=null},ticked:function(e,t){var s=this;if(t!==e)if(t.length>e.length){var n=t.filter(function(t){return e.indexOf(t)<0})[0],i=w["b"].findNodeById(this.tree,n);if(i)if(i.type===w["a"].GEOMTYP_FOLDER){var a=[],o=function e(t){t.forEach(function(t){t.noTick||(a.push(t.id),s.hideNode(t.id)),t.children&&t.children.length>0&&e(t.children)})};o(i.children),a.length>0&&(this.ticked=this.ticked.filter(function(e){return-1===a.indexOf(e)}))}else null!==i.folderId&&-1!==this.ticked.indexOf(i.folderId)&&this.ticked.splice(this.ticked.indexOf(i.folderId),1),this.hideNode(n)}else{var c=e[e.length-1],r=w["b"].findNodeById(this.tree,c);if(r.type===w["a"].GEOMTYP_FOLDER){var l=[],d=function e(t){var n,i=!0;(t.forEach(function(t){t.noTick||(l.push(t.id),s.showNode({nodeId:t.id,selectMainViewer:i}),i&&(i=!1)),t.children&&t.children.length>0&&e(t.children)}),l.length>0)&&(l=l.filter(function(e){return-1===s.ticked.indexOf(e)}),(n=s.ticked).push.apply(n,C()(l)))};d(r.children)}else this.showNode({nodeId:c,selectMainViewer:!0})}}}},m=T,p=(s("YGtZ"),s("KHd+")),f=Object(p["a"])(m,I,M,!1,null,null,null),y=f.exports,L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"mc-search-div",attrs:{id:"mc-search-div"}},[s("div",{attrs:{id:"left-shadow"}}),e._l(e.acceptedTokens,function(t,n){return s("div",{key:t.index,ref:"token-"+t.index,refInFor:!0,class:["tokens-accepted","tokens","bg-semantic-elements",t.selected?"selected":"","text-"+t.leftColor],style:{"border-color":t.selected?t.rgb:"transparent"},attrs:{tabindex:n},on:{focus:function(s){e.onFocus(t,s)},blur:function(s){e.onFocus(t,s)},keydown:e.tokenOnKeyPressed}},[e._v(e._s(t.value)+"\n    "),s("q-tooltip",{attrs:{delay:500,offset:[0,15],self:"top left",anchor:"bottom left"}},[t.sublabel.length>0?s("span",[e._v(e._s(t.sublabel))]):s("span",[e._v(e._s(e.$t("label.noTokenDescription")))])])],1)}),s("div",{staticClass:"tokens"},[s("q-input",{ref:"mc-search-input",attrs:{autofocus:!0,color:e.controlColor.name,placeholder:e.$t("label.searchPlaceholder"),size:"10",id:"mc-search-input",tabindex:e.acceptedTokens.length,"hide-underline":!0},on:{focus:function(t){e.searchFocus({focused:!0})},blur:function(t){e.searchFocus({focused:!1})},keydown:e.searchInputOnKeyPressed,keyup:function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.searchEnd(t):null}},model:{value:e.actualToken,callback:function(t){e.actualToken=t},expression:"actualToken"}},[s("q-autocomplete",{ref:"mc-autocomplete",attrs:{debounce:200,"min-characters":2,"max-results":15},on:{search:e.search,selected:e.selected,show:function(t){e.suggestionShowed=!0},hide:function(t){e.suggestionShowed=!1}}})],1)],1)],2)},v=[];L._withStripped=!0;s("f3/d");var O=s("J4zp"),A=s.n(O),b=(s("INYr"),s("xfY5"),s("0kf8")),j=s("I2m6"),x=s("wd/R"),D=s.n(x);function E(e,t,s,n,i){var a=j["b"].validateJsonSchema(n,s);return{validated:a,body:{messageClass:e,type:t,payloadClass:s,payload:n,identity:i,timestamp:D()().valueOf(),inResponseTo:null}}}var z={SPATIAL_EXTENT:function(e){var t=A()(e,4),s=t[0],n=t[1],i=t[2],a=t[3];return{south:n,west:s,north:a,east:i}},SEARCH_REQUEST:function(e){var t=e.queryString,s=e.requestId,n=e.contextId,i=void 0===n?null:n,a=e.matchTypes,o=void 0===a?null:a;return r()({},null!==i&&{contextId:i},null!==o&&{matchTypes:o},{queryString:t,requestId:s})}},S={REGION_OF_INTEREST:function(e,t){return E(b["b"].CLASS_USERCONTEXTCHANGE,b["b"].TYPE_REGIONOFINTEREST,b["b"].PAYLOAD_CLASS_SPATIALEXTENT,z.SPATIAL_EXTENT(e),t)},SEARCH_REQUEST:function(e){var t=e.queryString,s=e.requestId,n=e.contextId,i=void 0===n?null:n,a=e.matchTypes,o=void 0===a?null:a,c=e.cancelSearch,l=void 0!==c&&c,d=e.maxResults,u=e.session;return E(b["b"].CLASS_SEARCH,b["b"].TYPE_SUBMITSEARCH,b["b"].PAYLOAD_CLASS_SEARCHREQUEST,r()({},null!==i&&{contextId:i},null!==o&&{matchTypes:o},{queryString:t,requestId:s,cancelSearch:l,maxResults:d}),u)},OBSERVATION_REQUEST:function(e){var t=e.urn,s=e.contextId,n=e.searchContextId,i=e.session;return E(b["b"].CLASS_OBSERVATIONLIFECYCLE,b["b"].TYPE_REQUESTOBSERVATION,b["b"].PAYLOAD_CLASS_OBSERVATIONREQUEST,r()({urn:t},null!==s&&{contextId:s},{searchContextId:n}),i)}},k=s("fMpr"),R=s("Kw5r"),_={name:"KlabSearch",props:{maxResults:{type:Number,default:-1}},data:function(){return{searchContextId:null,searchRequestId:0,doneFunc:null,result:null,acceptedTokens:[],actualToken:"",searchDiv:null,searchInput:null,autocomplete:null,scrolled:0,acceptedTokensCounter:0,suggestionShowed:!1,searchTimeout:null}},computed:r()({},Object(l["c"])("data",["searchResult","contextId"]),Object(l["c"])("view",["spinner","searchIsFocused","searchLostChar"]),{controlColor:function(){return{value:this.spinner.colorValue,name:this.spinner.color}}}),methods:r()({},Object(l["b"])("view",["searchStop","setSpinner","searchFocus","resetSearchLostChar"]),{onFocus:function(e,t){e.selected="focus"===t.type},tokenOnKeyPressed:function(e){var t=this;if(37===e.keyCode||39===e.keyCode){e.preventDefault();var s=this.acceptedTokens.findIndex(function(e){return e.selected}),n=null,i=!1;if(37===e.keyCode&&s>0?n="token-".concat(this.acceptedTokens[s-1].index):39===e.keyCode&&s<this.acceptedTokens.length&&(s===this.acceptedTokens.length-1?(n="mc-search-input",i=!0):n="token-".concat(this.acceptedTokens[s+1].index)),null!==n){var a=this.$refs[n];if(Array.isArray(a)){var o=a,c=A()(o,1);a=c[0]}R["a"].nextTick(function(){a.focus();var s=null,n=t.searchDiv.offsetLeft;if(37===e.keyCode){var o=a.offsetLeft+n-t.searchDiv.offsetLeft;t.searchDiv.scrollLeft>=o&&(s=o)}else{var c=i?a.$el:a,r=(i?c.offsetLeft:a.offsetLeft)+n+c.offsetWidth,l=t.searchDiv.offsetWidth+t.searchDiv.scrollLeft;l<=r&&(s=t.searchDiv.scrollLeft+(r-l)-n)}null!==s&&R["a"].nextTick(function(){t.searchDiv.scrollLeft=s})})}}},searchInputOnKeyPressed:function(e){var t=this;switch(e.keyCode){case 13:this.suggestionShowed||this.askToKLab(e);break;case 8:""===this.actualToken&&0!==this.acceptedTokens.length&&(this.acceptedTokens.pop(),e.preventDefault());break;case 9:this.suggestionShowed&&-1!==this.autocomplete.keyboardIndex&&this.autocomplete.setValue(this.autocomplete.results[this.autocomplete.keyboardIndex]),e.preventDefault();break;case 37:if(!this.suggestionShowed&&0===this.searchInput.$refs.input.selectionStart){var s=this.acceptedTokens[this.acceptedTokens.length-1];R["a"].nextTick(function(){t.$refs["token-".concat(s.index)][0].focus()}),e.preventDefault()}break;case 32:e.preventDefault(),this.$q.notify({message:this.$t("messages.noSpaceAllowedInSearch"),type:"warning",timeout:1500});break;default:(e.keyCode<65||e.keyCode>90)&&e.preventDefault();break}},search:function(e,t){var s=this;this.searchRequestId+=1,this.sendStompMessage(S.SEARCH_REQUEST({requestId:this.searchRequestId,contextId:this.searchContextId,maxResults:this.maxResults,session:this.$store.state.data.session,cancelSearch:!1,queryString:this.actualToken}).body),this.setSpinner(r()({},k["a"].SPINNER_LOADING,{owner:this.$options.name})),this.doneFunc=t,this.searchTimeout=setTimeout(function(){s.setSpinner(r()({},k["a"].SPINNER_ERROR,{owner:s.$options.name,errorMessage:s.$t("errors.searchTimeout"),time:2,then:r()({},k["a"].SPINNER_STOPPED,{owner:s.$options.name})})),s.doneFunc([])},2e3)},selected:function(e){this.acceptedTokens.push(e),this.actualToken=""},tokenToString:function(){return this.acceptedTokens.reduce(function(e,t){return"".concat(e," ").concat(t.id)},"")},askToKLab:function(){if(this.acceptedTokens.length>0){var e=this.acceptedTokens.map(function(e){return e.id}).join(" ");this.sendStompMessage(S.OBSERVATION_REQUEST({urn:e,contextId:this.contextId,searchContextId:this.searchContextId,session:this.$store.state.data.session}).body),this.$q.notify({message:this.$t("label.askForObservation",{urn:this.acceptedTokens.map(function(e){return e.label}).join(" ")}),type:"info",timeout:2e3})}else console.log("Nothing to search for");this.searchEnd()},searchEnd:function(){this.searchContextId=null,this.searchRequestId=0,this.doneFunc=null,this.result=null,this.acceptedTokens=[],this.actualToken="",this.scrolled=0,this.acceptedTokensCounter=0,this.searchStop()}}),watch:{searchResult:function(e){var t=this;this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null);var s,n=e.requestId,i=e.contextId;if(null===this.searchContextId)this.searchContextId=i;else if(i!==this.searchContextId)return console.warn("Something strange was happened: differents search context ids:\n\n        actual: ".concat(this.searchContextId," / received: ").concat(i)),void this.setSpinner(r()({},k["a"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search context id"}));if(this.searchRequestId!==n)return console.log("Result discarded for bad request id:\n\n        actual: ".concat(this.searchRequestId," / received: ").concat(n,"\n")),void this.setSpinner(r()({},k["a"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search request id"}));null!==this.result&&this.result.requestId===n&&(s=e.matches).push.apply(s,C()(this.result.matches)),this.result=e;var a=this.result.matches,o=[];a.forEach(function(e){var s=k["a"].SEMANTIC_TYPES[e.mainSemanticType];"undefined"!==typeof s?o.push({value:e.name,label:e.name,labelLines:1,sublabel:e.description,sublabelLines:1,letter:s.symbol,leftInverted:!0,leftColor:s.color,rgb:s.rgb,id:e.id,index:t.acceptedTokensCounter+=1,selected:!1}):console.warn("Unknown semantic type: ".concat(e.mainSemanticType))}),0===o.length&&this.$q.notify({message:this.$t("messages.noSearchResults"),type:"info",timeout:1e3}),this.setSpinner(r()({},k["a"].SPINNER_STOPPED,{owner:this.$options.name})),R["a"].nextTick(function(){t.doneFunc(o),t.autocomplete.keyboardIndex=0})},acceptedTokens:function(){var e=this;R["a"].nextTick(function(){var t=e.searchDiv.scrollWidth;e.scrolled!==t&&(e.searchDiv.scrollLeft=t,e.scrolled=t)})},searchIsFocused:function(e){e?(this.searchInput.focus(),this.acceptedTokens.forEach(function(e){e.selected=!1})):this.searchInput.blur()},searchLostChar:function(e){null!==e&&(this.actualToken+=e,this.resetSearchLostChar())}},mounted:function(){this.searchDiv=this.$refs["mc-search-div"],this.searchInput=this.$refs["mc-search-input"],this.autocomplete=this.$refs["mc-autocomplete"],this.actualToken=this.searchLostChar,R["a"].config.warnHandler=function(e,t,s){-1===e.indexOf('"letter"')&&console.warn("Vue warn:",e,t,s)}}},Y=_,G=(s("eedv"),Object(p["a"])(Y,L,v,!1,null,null,null)),U=G.exports,P={name:"klabMainControl",data:function(){return{isHidden:!1,draggableConfig:{handle:void 0,resetInitialPos:!1,boundingElement:void 0},content:"KlabTree"}},computed:r()({},Object(l["c"])("data",["hasContext","contextLabel"]),Object(l["c"])("view",["spinner","searchIsActive"]),Object(l["c"])("stomp",["hasTasks"]),{controlColor:function(){return{value:this.spinner.colorValue,name:this.spinner.color}}}),methods:r()({},Object(l["b"])("view",["searchStop"]),Object(l["b"])("data",["resetContext"]),{hide:function(){this.draggableConfig.resetInitialPos=!1,this.isHidden=!0},show:function(){this.draggableConfig.resetInitialPos=!0,this.isHidden=!1},searchActivated:function(){}}),watch:{hasContext:function(){var e=this;this.draggableConfig.resetInitialPos=!0,R["a"].nextTick(function(){e.draggableConfig.resetInitialPos=!1})}},mounted:function(){var e=this;this.draggableConfig.handle=this.$refs["dr-handler"],this.draggableConfig.boundingRect=document.getElementById("viewer-container").getBoundingClientRect(),this.$eventBus.$on("map-size-changed",function(){e.draggableConfig.boundingRect=document.getElementById("viewer-container").getBoundingClientRect()})},directives:{Draggable:h["Draggable"]},components:{KlabTree:y,KlabSpinner:g["a"],KlabSearch:U}},Q=P,Z=(s("mYuV"),Object(p["a"])(Q,d,u,!1,null,null,null)),B=Z.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row full-width bg-gray-1"},[s("div",{staticClass:"col-1 no-padding stomp-status bg-gray-1"},[s("q-icon",{attrs:{name:e.CONN_INDICATOR[e.connectionState].icon,color:e.CONN_INDICATOR[e.connectionState].color}})],1),s("div",{staticClass:"col-3 message-log q-pt-xs stomp-message bg-gray-1"},[s("q-icon",{attrs:{name:"call_received",color:e.hasError?"negative":"positive"}}),s("span",{class:"text-"+(e.hasError?"negative":"positive")},[e._v(e._s(e.receivedMessage))])],1),s("div",{staticClass:"ic"}),s("div",{staticClass:"col-4 message-log q-pt-xs stomp-message bg-gray-1"},[s("q-icon",{attrs:{name:"call_made"}}),s("span",[e._v(e._s(e.sendedMessage))])],1),s("div",{staticClass:"col-4 message-log q-pt-xs stomp-message bg-gray-1"},[s("q-icon",{attrs:{name:"ion-at",color:e.lastLogActionMessage.color}}),s("span",{class:["text-"+e.lastLogActionMessage.color]},[e._v("\n      "+e._s(e.lastLogActionMessage.text)+" / "+e._s(e.lastLogActionMessage.time)+"\n    ")])],1)])},W=[];$._withStripped=!0;var q={name:"KLabLog",data:function(){var e;return{CONN_INDICATOR:(e={},o()(e,this.$constants.CONNECTION_UP,{icon:"signal_wifi_4_bar",color:"positive"}),o()(e,this.$constants.CONNECTION_DOWN,{icon:"signal_wifi_off",color:"positive"}),o()(e,this.$constants.CONNECTION_WORKING,{icon:"sync",color:"warning"}),o()(e,this.$constants.CONNECTION_UNKNOWN,{icon:"signal_wifi_4_bar",color:"positive"}),o()(e,this.$constants.CONNECTION_ERROR,{icon:"signal_wifi_off",color:"negative"}),e)}},computed:r()({},Object(l["d"])("stomp",["connectionState"]),Object(l["c"])("stomp",["lastSendedMessage","lastReceivedMessage","queuedMessage"]),Object(l["c"])("view",["lastLogAction"]),{hasError:function(){return this.lastReceivedMessage&&this.lastReceivedMessage.type===this.$constants.TYPE_ERROR},receivedMessage:function(){if(this.lastReceivedMessage){if(this.lastReceivedMessage.type===this.$constants.TYPE_ERROR)return""===this.lastReceivedMessage.message.reason?this.$t("label.klabUnknownError"):this.lastReceivedMessage.message.reason;if(""!==this.lastReceivedMessage.message.body){var e,t=JSON.parse(this.lastReceivedMessage.message.body);return e="string"===typeof t.payload?t.payload:t.type||this.lastReceivedMessage.message.body.command,"".concat(e," - ").concat(this.lastReceivedMessage.date)}return"".concat(this.lastReceivedMessage.message.command," - ").concat(this.lastReceivedMessage.date)}return this.$t("label.klabNoMessage")},sendedMessage:function(){return this.queuedMessage?this.$t("label.klabMessagesToSend"):this.lastSendedMessage?"".concat(this.lastSendedMessage.date)||this.$t("label.klabNoDate"):this.$t("label.klabNoMessage")},lastLogActionMessage:function(){var e=this.lastLogAction();return e&&e.payload?{text:e.payload.message||e.payload,time:e.time?e.time.format("HH:mm:ss"):"no time",color:e.type===this.$constants.TYPE_ERROR?"negative":e.type===this.$constants.TYPE_WARN?"warning":"positive"}:this.$t("label.klabNoMessage")}}),watch:{},mounted:function(){}},H=q,V=(s("aAhD"),Object(p["a"])(H,$,W,!1,null,null,null)),K=V.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"no-padding relative-position full-width"},e._l(e.viewers,function(t){return s("div",{key:t.idx,class:["no-padding",t.main?"absolute-top full-height full-width":"absolute thumb-view"],style:e.viewerStyle(t)},[t.main?e._e():s("div",{staticClass:"thumb-viewer-title absolute-top"},[s("div",{staticClass:"relative-position"},[s("div",{staticClass:"thumb-viewer-label float-left q-ma-sm"},[e._v("\n        "+e._s(t.idx)+"\n      ")]),s("div",{staticClass:"float-right q-ma-sm"},[s("q-btn",{staticClass:"shadow-1",attrs:{round:"",color:"red-6",size:"xs",icon:"ion-ios-arrow-up"},on:{click:function(s){e.setMainViewer(t.idx)}}})],1)])]),s(t.type,{tag:"component",attrs:{idx:t.idx}})],1)}))},J=[];X._withStripped=!0;var F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fit no-padding map-viewer"},[s("div",{ref:"map"+e.idx,staticClass:"fit",attrs:{id:"map"+e.idx}}),s("q-resize-observable",{on:{resize:e.handleResize}})],1)},ee=[];F._withStripped=!0;s("dRSK");var te=s("SAzV"),se=s("0OmE"),ne=s("Jz61"),ie=s("LvFn"),ae=s("oiaU"),oe=s("jzpJ"),ce=s("JW8z"),re={OSM_LAYER:new te["a"]({title:"Open Street Map",baseLayer:!0,source:new se["b"]}),STAMEN_WATER_COLOR_LAYER:new te["a"]({title:"Stamen Watercolor",baseLayer:!0,source:new ne["a"]({layer:"watercolor"})}),OPEN_TOPO_MAT:new te["a"]({title:"Open Topo",baseLayer:!0,source:new ie["a"]({url:"//{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:"© OpenTopoMap"})}),GOOGLE_HYBRID:new te["a"]({title:"Google Hybrid",baseLayer:!0,source:new ie["a"]({crossOrigin:"anonymous",url:"http://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}&s=Ga",attribution:"© 2018 Google, Inc"})}),GOOGLE_STREET:new te["a"]({title:"Google Street",baseLayer:!0,source:new ie["a"]({crossOrigin:"anonymous",url:"http://mt{0-3}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",attribution:"© 2018 Google, Inc"})}),GOOGLE_TERRAIN:new te["a"]({title:"Google Terrain",baseLayer:!0,source:new ie["a"]({crossOrigin:"anonymous",url:"https://mt1.google.com/vt/lyrs=t&x={x}&y={y}&z={z}",attribution:"© 2018 Google, Inc"})}),BING_IMAGINERY:new te["a"]({title:"Bing Imagery",baseLayer:!0,source:new ae["a"]({crossOrigin:"anonymous",maxZoom:19,key:k["a"].BING_KEY,imagerySet:"AerialWithLabels",attribution:"© 2017 Bing, Inc"})})},le={controls:oe["a"]({attribution:!1}).extend([]),layers:[re.GOOGLE_TERRAIN],target:"map",projection:k["a"].PROJ_EPSG_4326,center:ce["g"](k["a"].COORD_BC3,k["a"].PROJ_EPSG_4326,k["a"].PROJ_EPSG_3857),zoom:13},de=s("Xu5n"),ue=s("oscj"),he=s("nHi6"),ge=s("4wAk"),Ie=s("CvXi"),Me=(s("W8A/"),{name:"MapViewer",props:{idx:{type:Number,required:!0}},data:function(){return{center:le.center,zoom:le.zoom,map:null,view:null,layers:new ge["a"],zIndexCounter:0}},computed:r()({observations:function(){return this.$store.getters["data/observations"](this.idx)}},Object(l["c"])("data",["hasContext","session"]),Object(l["c"])("view",["contextLayer"])),methods:r()({},Object(l["b"])("view",["pushLogAction","setSpinner"]),{handleResize:function(){null!==this.map&&(console.log("handleResize called!!!"),this.map.updateSize(),this.$eventBus.$emit("map-size-changed"))},onMoveEnd:function(e){if(!this.hasContext){var t=e.map,s=null;try{s=S.REGION_OF_INTEREST(ce["h"](t.getView().calculateExtent(t.getSize()),"EPSG:3857","EPSG:4326"),this.session)}catch(e){this.pushLogAction({type:this.$constants.TYPE_ERROR,payload:e})}s&&s.body&&(this.sendStompMessage(s.body),this.pushLogAction({type:s.validated?this.$constants.TYPE_INFO:this.$constants.TYPE_WARN,payload:{message:"Message ".concat(s.validated?"":"not "," validated"),other:s}}))}},findLayerById:function(e){if(this.layers&&null!==this.layers){var t=this.layers.getArray(),s=t.find(function(t){return t.get("id")===e});return"undefined"!==typeof s?s:null}return null},drawContextLayer:function(e,t){if(null!==t&&this.layers.clear(),null!==this.contextLayer){var s=this.contextLayer.getSource().getFeatures()[0].getGeometry();this.layers.push(this.contextLayer),this.view.fit(s,{padding:[30,30,30,30],constrainResolution:!1})}},drawObservations:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.observations&&this.observations.length>0){var s=null,n=null;this.observations.forEach(function(i){var a=e.findLayerById(i.id);if(null===a&&(console.log("Creating layer: ".concat(i.label)),a=w["b"].getLayerObject(i,{projection:e.proj}),e.zIndexCounter+=1,i.zIndex=e.zIndexCounter+i.zIndexOffset,a.setZIndex(i.zIndex),e.layers.push(a)),a.setVisible(i.visible),i.top?a.setZIndex(i.zIndexOffset+100):a.setZIndex(i.zIndex),i.visible&&t){var o=a.getSource().getExtent();i.shapeType===e.$constants.SHAPE_POINT?n=[s[0],s[1]]:s=null!==s?Ie["q"](s,o):o}}),t&&(null!==n?this.center=n:null!==s&&this.view.fit(s))}}}),watch:{contextLayer:function(e,t){this.drawContextLayer(e,t)},observations:{handler:function(){this.drawObservations(!1)},deep:!0},center:function(){this.view.setCenter(this.center)}},mounted:function(){this.map=new de["a"]({view:new ue["a"]({center:this.center,zoom:this.zoom}),layers:le.layers,target:"map".concat(this.idx),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),this.map.on("moveend",this.onMoveEnd),this.view=this.map.getView(),this.proj=this.view.getProjection(),this.map.addLayer(new he["a"]({layers:this.layers})),this.drawContextLayer(),this.drawObservations(!0)}}),Ne=Me,Ce=(s("6BcA"),Object(p["a"])(Ne,F,ee,!1,null,null,null)),we=Ce.exports,Te=[],me={computed:r()({},Object(l["c"])("view",["viewers","mainViewer"])),methods:r()({},Object(l["b"])("view",["setMainViewer"]),{viewerStyle:function(e){return e.main?"":(Te.push(e),0===Te.length?"left: 0":"left: ".concat(200*(Te.length-1)+10*(Te.length-1),"px"))}}),watch:{mainViewer:function(){Te=[]}},components:{MapViewer:we},beforeUpdate:function(){Te=[]},mounted:function(){Te=[]}},pe=me,fe=(s("KbJ9"),Object(p["a"])(pe,X,J,!1,null,"7cfb8796",null)),ye=fe.exports,Le=s("4IOb"),ve={name:"IndexPage",computed:r()({},Object(l["c"])("stomp",["connectionState"]),Object(l["c"])("view",["searchIsActive","searchIsFocused"]),{logVisible:function(){return this.$logVisibility===this.$constants.PARAMS_LOG_VISIBLE},modalVisible:function(){return this.connectionState!==this.$constants.CONNECTION_UP},modalText:function(){var e;return(e={},o()(e,this.$constants.CONNECTION_UNKNOWN,this.$t("messages.connectionClosed")),o()(e,this.$constants.CONNECTION_DOWN,this.$t("messages.connectionClosed")),o()(e,this.$constants.CONNECTION_WORKING,this.$t("messages.connectionWorking")),o()(e,this.$constants.CONNECTION_ERROR,this.$t("errors.connectionError")),e)[this.connectionState]},modalColor:function(){var e;return(e={},o()(e,this.$constants.CONNECTION_UNKNOWN,Le["L"].getBrand("warning")),o()(e,this.$constants.CONNECTION_DOWN,Le["L"].getBrand("warning")),o()(e,this.$constants.CONNECTION_WORKING,Le["L"].getBrand("info")),o()(e,this.$constants.CONNECTION_ERROR,Le["L"].getBrand("negative")),e)[this.connectionState]}}),methods:r()({},Object(l["b"])("view",["searchStart","searchStop","searchFocus"])),components:{KlabMainControl:B,KlabLog:K,Viewer:ye,KlabSpinner:g["a"]},watch:{},mounted:function(){var e=this;window.addEventListener("keydown",function(t){if(t.keyCode>=65&&t.keyCode<=90)if(e.searchIsActive){if(27===t.keyCode)return e.searchStop(),void t.preventDefault();e.searchIsFocused||(e.searchFocus({char:t.key,focused:!0}),t.preventDefault())}else e.searchStart(t.key),t.preventDefault()})}},Oe=ve,Ae=(s("c29x"),s("7QM7"),Object(p["a"])(Oe,n,i,!1,null,"11e4d986",null));t["default"]=Ae.exports},l02H:function(e,t,s){},mALo:function(e,t,s){},mYuV:function(e,t,s){"use strict";var n=s("mALo"),i=s.n(n);i.a},wxf7:function(e,t,s){},"y/Ei":function(e,t,s){}}]);