(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"+dxR":function(t,e,n){},"0iO1":function(t,e,n){"use strict";var i=n("7tAk"),s=n.n(i);s.a},"1AGG":function(t,e,n){},"2vjx":function(t,e,n){},"7tAk":function(t,e,n){},"8a7r":function(t,e,n){"use strict";var i=n("hswa"),s=n("RjD/");t.exports=function(t,e,n){e in t?i.f(t,e,s(0,n)):t[e]=n}},"8qDp":function(t,e,n){},"96pm":function(t,e,n){"use strict";var i=n("pnqA"),s=n.n(i);s.a},"9Y87":function(t,e,n){"use strict";var i=n("s5Z1"),s=n.n(i);s.a},AxL3:function(t,e){var n=!("undefined"===typeof window||!window.document||!window.document.createElement);t.exports=n},BjIT:function(t,e,n){"use strict";var i=n("2vjx"),s=n.n(i);s.a},GEgq:function(t,e,n){"use strict";var i=n("+dxR"),s=n.n(i);s.a},HEwt:function(t,e,n){"use strict";var i=n("m0Pp"),s=n("XKFU"),o=n("S/j/"),r=n("H6hf"),a=n("M6Qj"),l=n("ne8i"),c=n("8a7r"),d=n("J+6e");s(s.S+s.F*!n("XMVh")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,s,u,h=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,b=d(h);if(v&&(g=i(g,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&a(b))for(e=l(h.length),n=new f(e);e>m;m++)c(n,m,v?g(h[m],m):h[m]);else for(u=b.call(h),n=new f;!(s=u.next()).done;m++)c(n,m,v?r(u,g,[s.value,m],!0):s.value);return n.length=m,n}})},JXPH:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticClass:"klab-spinner",attrs:{width:t.size,height:t.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("image",{attrs:{x:"-100",y:"-100",width:"200",height:"200","xlink:href":n("TfIi")}}),i("circle",{class:{moving:t.moving},style:{fill:t.ballColor},attrs:{id:"spinner-circle",cx:"0",cy:"-90",r:t.ball}})])},s=[];i._withStripped=!0;var o=n("MVZn"),r=n.n(o),a=(n("xfY5"),n("+4JY")),l=n("L2JU"),c={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:a["a"].getBrand("primary")},ballColor:{type:String,default:"primary"},stroke:{type:String,default:"none"},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!1},wrapperId:{type:String,required:!0}},computed:r()({},Object(l["c"])("view",["spinner"]),{moving:function(){return this.storeControlled?this.spinner.animated:this.animated},realColor:function(){return this.storeControlled?this.spinner.color:this.color},errorMessage:function(){return this.spinner.errorMessage},isVisible:function(){var t;return null!==this.wrapperId&&(t=document.getElementById(this.wrapperId),!(!t||null==t||!t.style)&&!("none"===t.style.display))}}),watch:{errorMessage:function(t){var e;this.isVisible&&null!==t&&(e=t instanceof Error?t.message:t,console.error(e),this.$q.notify({message:e,type:"negative",timeout:1e3}))}}},d=c,u=(n("96pm"),n("KHd+")),h=Object(u["a"])(d,i,s,!1,null,"304e23e7",null);h.options.__file="KlabSpinner.vue";e["a"]=h.exports},O4tg:function(t,e,n){"use strict";var i=n("hZT7"),s=n.n(i);s.a},Q5EH:function(t,e,n){"use strict";var i=n("8qDp"),s=n.n(i);s.a},QzLf:function(t,e,n){"use strict";var i=n("jzmN"),s=n.n(i);s.a},RGVg:function(t,e,n){"use strict";var i=n("1AGG"),s=n.n(i);s.a},SRfc:function(t,e,n){n("IU+Z")("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,i):new RegExp(n)[e](String(i))},n]})},TfIi:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzAwIgogICBoZWlnaHQ9IjMxNS45MjI1OCIKICAgdmlld0JveD0iMCAwIDc5LjM3NDk5OCA4My41ODc4NTEiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzgiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImtsYWItc3Bpbm5lci5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1Ij4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMC45NjAxOTk4NCIKICAgICBpbmtzY2FwZTpjeD0iLTIzOS45OTE1MyIKICAgICBpbmtzY2FwZTpjeT0iNy4xMTA3MjY4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI4IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgdW5pdHM9InB4IgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9ImtsYWItZWxlcGhhbnQtbGF5ZXIiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00My40NjU1NzQsLTE1NS4zNjMwOSkiPgogICAgPHBhdGgKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpZD0ia2xhYi1lbGVwaGFudCIKICAgICAgIGQ9Im0gODQuNzYxOTA2LDIzOC44OTY5MSBjIDAsLTAuMDQ3MiAwLjE3NzcxOCwtMC4zODEwNyAwLjM5NDkzLC0wLjc0MTk3IDAuNzcxODU3LC0xLjI4MjQ4IDEuMzAwNTAxLC0yLjgzNjcxIDEuNDk2NDA2LC00LjM5OTUgMC4xMTg1ODQsLTAuOTQ1OTcgMC4wNjE4NiwtMi42NjMzNiAtMC4xMTgxNTIsLTMuNTc3MjkgLTAuNDUyNjU1LC0yLjI5ODExIC0xLjcwMzk3NiwtNC41NTk0NyAtMy40MDMwMzYsLTYuMTQ5ODkgLTAuNzI0MzA1LC0wLjY3Nzk5IC0xLjk4NDEwNiwtMS41NzU0OCAtMi4yMTE0ODYsLTEuNTc1NDggLTAuMDkwNjQsMCAtMC4xOTI1NDYsMC4xNTY0OCAtMC4zMjAyNTcsMC40OTE3NiAtMC4xMDMwMjQsMC4yNzA0NyAtMC4zOTQ0NTQsMC45MDEzMSAtMC42NDc2MTksMS40MDE4NiAtMi4wNjM4MDQsNC4wODA0NyAtNS44NDI3ODUsNi45MzAyOSAtMTAuNDk0NTcsNy45MTQyIC0wLjk0MTEzNiwwLjE5OTA3IC0xLjE2NzQ4NSwwLjIxNjY3IC0yLjgzMjU3NywwLjIyMDI5IC0xLjg5ODM1LDAuMDA0IC0yLjMyNDY5OSwtMC4wNDEzIC0zLjc3Njc2NywtMC40MDI3OSAtMC43MTQxODksLTAuMTc3NzcgLTIuMDY1MDQ1LC0wLjYzOTA4IC0yLjQyNjIzMiwtMC44Mjg1NCAtMC4yNDkwNjgsLTAuMTMwNjQgLTAuMDg3MDMsLTAuMTU0OTIgMC40MjAxNzQsLTAuMDYyOSAwLjI2ODgzNCwwLjA0ODcgMC45MzAzMTYsMC4xMTcyNiAxLjQ2OTk2LDAuMTUyMjYgNC4xMjA4NzEsMC4yNjcyNyA4LjEyNDIyNywtMS4yNDEwNiAxMS4wNDQyNzIsLTQuMTYxMTEgMC45ODM5NzcsLTAuOTgzOTcgMi4xNDk3NzcsLTIuNTE4NzMgMi4wMTUzNDUsLTIuNjUzMTYgLTAuMDI1MjMsLTAuMDI1MiAtMC40ODEwNjUsMC4xMzEzNiAtMS4wMTI5NTgsMC4zNDc5OSAtMC41MzE4OTYsMC4yMTY2MyAtMS4yNTAzNCwwLjQ4NTE5IC0xLjU5NjU0MywwLjU5Njc5IC01LjY3NTgzLDEuODI5NzggLTExLjk4MjI0OCwxLjA0OTg0IC0xNy4wMTIyNSwtMi4xMDM5NiAtMS44OTYzMDgsLTEuMTg4OTggLTMuNzYwNTU4LC0yLjg1NDA1IC01LjA1ODYwOCwtNC41MTgxMyAtNi4wMDAyMiwtNy42OTIxOSAtOC40MDU2MDcsLTE3LjQ0OTMzIC02LjY4MTU0OSwtMjcuMTAyODUgMC44Nzc1ODQsLTQuOTEzODYgMy40MjIyMTcsLTEwLjkxNDQ3IDYuNDYzNzEzLC0xNS4yNDIzNiAzLjI2NTcyNywtNC42NDY5NiA3LjY5OTc0MiwtOC43NzA3IDEyLjIyMzYxOSwtMTEuMzY4MjUgMS44MTczMjYsLTEuMDQzNDkgNC4zOTk0NzMsLTIuMjgwNDIgNC42NTEwMjQsLTIuMjI3OTggMC4wNzgzMiwwLjAxNjMgLTAuMDMyNTUsMC4yMzEyNiAtMC4zNjQzMTYsMC43MDYyNyAtMC4yNjIyOTksMC4zNzU1NSAtMC40NzY5MDYsMC43MjAxIC0wLjQ3NjkwNiwwLjc2NTY2IDAsMC4wODY0IDAuMDM2NjksMC4wOTY5IDAuODU2ODA1LDAuMjQzOTcgMS4wNDM3NDIsMC4xODcxOCAxLjA0ODY5NCwwLjE3MTQ3IC0wLjI2OTgzOSwwLjg1NjEzIC0zLjYyODU2NCwxLjg4NDE4IC02LjgzMjU0NSw0LjMwNjE0IC05LjQxNzE2Miw3LjExODY3IC01LjIxNjcwOCw1LjY3NjcgLTguMjg2NzAxLDEyLjYzOTUzIC04Ljk1NTI5NywyMC4zMTA4NyAtMC4xODc5MzUsMi4xNTYzMSAtMC4wNTg2MSw1LjgwMDQ2IDAuMjc5MjIzLDcuODY4MjYgMC42NjIzNTcsNC4wNTQxMSAwLjk5MjU0LDUuMjU4NDIgMi4wMDYyMjcsNy4zMTc0OSAxLjY5MzIxLDMuNDM5MzcgNC40MzEyNyw2LjE5OTU3IDcuODI5MDI0LDcuODkyMzQgMS42OTg3MTIsMC44NDYzIDMuMTMyMzE1LDEuMzA3NTMgNC4zNDk4MTQsMS4zOTk0NCAxLjgxMzc1LDAuMTM2OTIgMy45NTU5OTIsLTAuNTY2ODEgNS4yNTc5NzYsLTEuNzI3MjUgMS4xMDE5NzksLTAuOTgyMTggMi4zNTU5NDEsLTMuNDg2MSAyLjk4MTI3NCwtNS45NTMwMiAwLjQ2NTAxMSwtMS44MzQ0NiAwLjY0MzY1OSwtMy41NTcwMiAwLjc0MjQyNSwtNy4xNTg2MyAwLjA3NjQ2LC0yLjc4ODM2IDAuMTUwNTE0LC0zLjQwNDIyIDAuNTk2MjIxLC00Ljk1ODU1IDEuNDMzNjAxLC00Ljk5OTQ0IDQuMjMyNjI4LC05LjQ5NjM5IDcuNzQ4ODI2LC0xMi40NDkzNSAyLjE4NzkzNiwtMS44Mzc0NyA1LjE3MDMwMywtMy40MDcwNiA3Ljc0NTkyOSwtNC4wNzY2MyAyLjk5Mjc1NiwtMC43NzggNS44Mzc0MDUsLTAuODk4NTcgOC45MzgyODUsLTAuMzc4ODYgbCAwLjk4NzAxOSwwLjE2NTQzIDAuNDAzNjgxLC0wLjI0ODM5IGMgMC43MTYwNjQsLTAuNDQwNiAxLjMwMDkyMiwtMC42MjA4MSAzLjMzNDU5NiwtMS4wMjc0NyA1LjM4OTMyLC0xLjA3NzY2IDguMjU1MTIsLTIuMTQyNzMgMTEuMzgzNzksLTQuMjMwNzIgMC41MzQ5NywtMC4zNTcwMyAwLjk5OTMzLC0wLjY0OTE0IDEuMDMxOTMsLTAuNjQ5MTQgMC4wNywwIDEuMjA3NDgsMS41NDc5OCAxLjg3OTEsMi41NTcxOSA1LjgxNDUzLDguNzM3MjEgNy45MjIzOSwxOS41MTcwNSA1LjgzODc0LDI5Ljg2MDA4IC0yLjIzMjI1LDExLjA4MDY0IC05LjAwMzgsMjAuNTg3NDkgLTE4LjgwMzc3LDI2LjM5OTM2IC00Ljc1ODY4LDIuODIyMTIgLTEwLjU4MTc2LDQuNzMwMTEgLTE2LjA1MTI3MSw1LjI1OTMzIC0yLjExMDc5NCwwLjIwNDI0IC0yLjQzOTE2MywwLjIyMTU1IC0yLjQzOTE2MywwLjEyODU3IHogTSA4MC44NzMwNDUsMjAyLjgwODIgYyAwLjUwMDc3NSwtMC4yNDUyMSAxLjA3OTcwNywtMC44Mjk2NyAxLjI5MjQxNiwtMS4zMDQ3OCAwLjE4NDA4MiwtMC40MTExNiAwLjEyNDI4MywtMC40OTcwOSAtMC41NTk0NTksLTAuODAzOTMgLTEuMjQyNDQ4LC0wLjU1NzU4IC0yLjk1MzE1LC0wLjIwNjYxIC0zLjk1MzI5MSwwLjgxMTA2IC0wLjI5NDAzLDAuMjk5MTkgLTAuMzY5OTcsMC40MjU4OCAtMC4zMzAyNjMsMC41NTA5OSAwLjA2MTAzLDAuMTkyMjggMC42ODcyMjMsMC42Njg1MSAxLjExNjY3OCwwLjg0OTI1IDAuNzA2NzY4LDAuMjk3NDUgMS43MDI2NjIsMC4yNTU0NyAyLjQzMzkxOSwtMC4xMDI1OSB6IgogICAgICAgc3R5bGU9ImZpbGw6IzAxMDEwMjtzdHJva2Utd2lkdGg6MC4wNzg2ODI2OSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGUzMzk1Ij5rLkxBQiBFbGVwaGFudDwvdGl0bGU+CiAgICA8L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},UPtB:function(t,e,n){var i,s,o;/*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */ /*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */
(function(n,r){s=[],i=r,o="function"===typeof i?i.apply(e,s):i,void 0===o||(t.exports=o)})(0,function(){"use strict";function t(){if("undefined"===typeof document)return 0;var t,e=document.body,n=document.createElement("div"),i=n.style;return i.position="absolute",i.top=i.left="-9999px",i.width=i.height="100px",i.overflow="scroll",e.appendChild(n),t=n.offsetWidth-n.clientWidth,e.removeChild(n),t}return t})},"W8A/":function(t,e,n){},WzXu:function(t,e,n){"use strict";var i=n("vnoC"),s=n.n(i);s.a},bdgK:function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=null);for(var i=0,s=n.__entries__;i<s.length;i+=1){var o=s[i];t.call(e,o[1],o[0])}},Object.defineProperties(e.prototype,n),e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),r=2,a=function(t,e){var n=!1,i=!1,s=0;function a(){n&&(n=!1,t()),i&&c()}function l(){o(a)}function c(){var t=Date.now();if(n){if(t-s<r)return;i=!0}else n=!0,i=!1,setTimeout(l,e);s=t}return c},l=20,c=["top","right","bottom","left","width","height","size","weight"],d="undefined"!==typeof MutationObserver,u=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),l)};u.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},u.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},u.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},u.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},u.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},u.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},u.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e="");var n=c.some(function(t){return!!~e.indexOf(t)});n&&this.refresh()},u.getInstance=function(){return this.instance_||(this.instance_=new u),this.instance_},u.instance_=null;var h=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n+=1){var s=i[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||s},p=N(0,0,0,0);function g(t){return parseFloat(t)||0}function v(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];return e.reduce(function(e,n){var i=t["border-"+n+"-width"];return e+g(i)},0)}function m(t){for(var e=["top","right","bottom","left"],n={},i=0,s=e;i<s.length;i+=1){var o=s[i],r=t["padding-"+o];n[o]=g(r)}return n}function b(t){var e=t.getBBox();return N(0,0,e.width,e.height)}function y(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var i=f(t).getComputedStyle(t),s=m(i),o=s.left+s.right,r=s.top+s.bottom,a=g(i.width),l=g(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=v(i,"left","right")+o),Math.round(l+r)!==n&&(l-=v(i,"top","bottom")+r)),!w(t)){var c=Math.round(a+o)-e,d=Math.round(l+r)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(d)&&(l-=d)}return N(s.left,s.top,a,l)}var M=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"===typeof t.getBBox}}();function w(t){return t===f(t).document.documentElement}function C(t){return i?M(t)?b(t):y(t):p}function I(t){var e=t.x,n=t.y,i=t.width,s=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,r=Object.create(o.prototype);return h(r,{x:e,y:n,width:i,height:s,top:n,right:e+i,bottom:s+n,left:e}),r}function N(t,e,n,i){return{x:t,y:e,width:n,height:i}}var E=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=N(0,0,0,0),this.target=t};E.prototype.isActive=function(){var t=C(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},E.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var T=function(t,e){var n=I(e);h(this,{target:t,contentRect:n})},O=function(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i};O.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new E(t)),this.controller_.addObserver(this),this.controller_.refresh())}},O.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},O.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},O.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},O.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new T(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},O.prototype.clearActive=function(){this.activeObservations_.splice(0)},O.prototype.hasActive=function(){return this.activeObservations_.length>0};var x="undefined"!==typeof WeakMap?new WeakMap:new n,L=function(t){if(!(this instanceof L))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=u.getInstance(),n=new O(t,e,this);x.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){L.prototype[t]=function(){return(e=x.get(this))[t].apply(e,arguments);var e}});var k=function(){return"undefined"!==typeof s.ResizeObserver?s.ResizeObserver:L}();e["a"]=k}).call(this,n("yLpj"))},ddfa:function(t,e,n){},gZXI:function(t,e,n){},h2mt:function(t,e,n){},"hKI/":function(t,e,n){(function(e){var n="Expected a function",i=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,h=d||u||Function("return this")(),f=Object.prototype,p=f.toString,g=Math.max,v=Math.min,m=function(){return h.Date.now()};function b(t,e,i){var s,o,r,a,l,c,d=0,u=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError(n);function p(e){var n=s,i=o;return s=o=void 0,d=e,a=t.apply(i,n),a}function b(t){return d=t,l=setTimeout(C,e),u?p(t):a}function y(t){var n=t-c,i=t-d,s=e-n;return h?v(s,r-i):s}function w(t){var n=t-c,i=t-d;return void 0===c||n>=e||n<0||h&&i>=r}function C(){var t=m();if(w(t))return N(t);l=setTimeout(C,y(t))}function N(t){return l=void 0,f&&s?p(t):(s=o=void 0,a)}function E(){void 0!==l&&clearTimeout(l),d=0,s=c=o=l=void 0}function T(){return void 0===l?a:N(m())}function O(){var t=m(),n=w(t);if(s=arguments,o=this,c=t,n){if(void 0===l)return b(c);if(h)return l=setTimeout(C,e),p(c)}return void 0===l&&(l=setTimeout(C,e)),a}return e=I(e)||0,M(i)&&(u=!!i.leading,h="maxWait"in i,r=h?g(I(i.maxWait)||0,e):r,f="trailing"in i?!!i.trailing:f),O.cancel=E,O.flush=T,O}function y(t,e,i){var s=!0,o=!0;if("function"!=typeof t)throw new TypeError(n);return M(i)&&(s="leading"in i?!!i.leading:s,o="trailing"in i?!!i.trailing:o),b(t,e,{leading:s,maxWait:e,trailing:o})}function M(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function C(t){return"symbol"==typeof t||w(t)&&p.call(t)==s}function I(t){if("number"==typeof t)return t;if(C(t))return i;if(M(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=M(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=a.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):r.test(t)?i:+t}t.exports=y}).call(this,n("yLpj"))},hZT7:function(t,e,n){},hlwC:function(t,e,n){},jzmN:function(t,e,n){},"kmF/":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"column"},[n("div",{staticClass:"col row full-height",attrs:{id:"viewer-container"}},[n("keep-alive",[n(t.mainViewer,{tag:"component"})],1)],1),n("div",{staticClass:"col-1 row"},[t.logVisible?n("klab-log"):t._e()],1),n("klab-main-control"),n("q-modal",{attrs:{id:"modal-connection-status","no-esc-dismiss":"","no-backdrop-dismiss":"","content-css":{"background-color":"rgba("+t.hexToRgb(t.modalColor)+", 0.3)"},"content-classes":["text-center","modal-borders","no-padding","no-margin"]},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[n("div",{staticClass:"bg-opaque-white modal-borders no-padding no-margin"},[n("div",{staticClass:"q-pa-xs text-bold modal-klab-content",style:{color:t.modalColor}},[n("klab-spinner",{attrs:{color:t.modalColor,size:40,ball:18,wrapperId:"modal-connection-status"}}),n("span",[t._v(t._s(t.modalText))])],1),t.connectionState===t.$constants.CONNECTION_DOWN?n("q-btn",{attrs:{color:"secondary"},on:{click:t.reconnect}},[t._v(t._s(t.$t("label.reconnect"))+"\n        ")]):t._e()],1)])],1)},s=[];i._withStripped=!0;var o=n("lSNA"),r=n.n(o),a=n("MVZn"),l=n.n(a),c=n("L2JU"),d=n("fMpr"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"main-control-container",staticClass:"print-hide"},[n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHidden,expression:"isHidden"}],staticClass:"spinner-div",style:{left:t.defaultLeft+"px",top:t.defaultTop+"px",border:"2px solid "+(t.hasTasks?t.spinnerColor.color:"white")},attrs:{id:"spinner-lonely-div"}},[n("klab-spinner",{attrs:{id:"spinner-lonely","store-controlled":!0,size:35,ball:22,wrapperId:"spinner-lonely-div"},nativeOn:{dblclick:function(e){return t.show(e)}}})],1)]),n("transition",{attrs:{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"}},[n("q-card",{directives:[{name:"draggable",rawName:"v-draggable",value:t.draggableConfMain,expression:"draggableConfMain"},{name:"show",rawName:"v-show",value:!t.isHidden,expression:"!isHidden"}],staticClass:"no-box-shadow absolute lot-of-flow",class:[t.hasContext?"":"bg-transparent",t.hasContext?"with-context":"without-context"],style:{top:t.defaultTop+"px",left:t.centeredLeft+"px"},attrs:{id:"mc-q-card",flat:!0},nativeOn:{mousedown:function(e){return t.preventDrag(e)}}},[n("q-card-title",{ref:"mc-draggable",staticClass:"q-pa-xs",style:{"background-color":"rgba("+t.spinnerColor.rgb.r+","+t.spinnerColor.rgb.g+","+t.spinnerColor.rgb.b+","+(t.hasContext?"1.0":t.searchIsFocused?".6":".2")+")"},attrs:{id:"mc-q-card-title"}},[n("div",{staticClass:"spinner-div",attrs:{id:"spinner-main"}},[n("klab-spinner",{attrs:{"store-controlled":!0,color:t.spinnerColor.hex,size:35,ball:22,wrapperId:"spinner-main"},nativeOn:{dblclick:function(e){return t.hide(e)}}})],1),t.searchIsActive?n("klab-search"):n("div",{staticClass:"text-white",attrs:{id:"mc-text-div"}},[t._v("\n        "+t._s(null===t.contextLabel?t.$t("label.noContext"):t.contextLabel)+"\n      ")])],1),n("q-card-main",{directives:[{name:"show",rawName:"v-show",value:t.hasContext&&!t.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin relative-position"},[n("keep-alive",[n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[n(t.selectedTab,{tag:"component"})],1)],1)],1),n("q-card-actions",{directives:[{name:"show",rawName:"v-show",value:t.hasContext&&!t.isHidden,expression:"hasContext && !isHidden"}],staticClass:"no-margin",attrs:{id:"context-actions"}},[n("div",{attrs:{id:"mc-tabs"}},[n("div",{staticClass:"mc-button mc-tab",class:["tab-button",{active:"klab-log-pane"===t.selectedTab}],on:{click:function(e){t.selectedTab="klab-log-pane"}}},[n("q-icon",{attrs:{name:"mdi-console"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.logPane")))])],1)],1),n("div",{staticClass:"mc-button mc-tab",class:["tab-button",{active:"klab-tree-pane"===t.selectedTab}],on:{click:function(e){t.selectedTab="klab-tree-pane"}}},[n("q-icon",{attrs:{name:"mdi-file-tree"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.treePane")))])],1)],1)]),n("div",{attrs:{id:"mc-actions"}},[n("div",{staticClass:"mc-button mc-action",class:[{active:t.mainViewer===t.VIEWERS.DATA_VIEWER}],on:{click:function(e){t.mainViewer!==t.VIEWERS.DATA_VIEWER&&t.setMainViewer(t.VIEWERS.DATA_VIEWER)}}},[n("q-icon",{attrs:{name:"mdi-eye"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.dataViewer")))])],1)],1),n("div",{staticClass:"mc-button mc-action",class:[{active:t.mainViewer===t.VIEWERS.REPORT_VIEWER,disabled:t.mainViewer!==t.VIEWERS.REPORT_VIEWER&&null!==t.reportTooltip}],on:{click:function(e){t.mainViewer!==t.VIEWERS.REPORT_VIEWER&&null===t.reportTooltip&&t.setMainViewer(t.VIEWERS.REPORT_VIEWER)}}},[n("q-icon",{attrs:{name:"mdi-file-document-box"}},[t.mainViewer!==t.VIEWERS.REPORT_VIEWER&&t.reloadReport?n("span",{staticClass:"mc-button-notification"}):t._e(),n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(null!==t.reportTooltip?t.reportTooltip:t.$t("tooltips.reportViewer")))])],1)],1),n("div",{staticClass:"mc-button mc-action disabled"},[n("q-icon",{attrs:{name:"mdi-sitemap"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.dataflowViewer")))])],1)],1)]),t.hasTasks?t._e():n("div",{staticClass:"mc-button absolute-bottom-right",on:{click:t.resetContext}},[n("q-icon",{attrs:{name:"mdi-close-circle"}},[n("q-tooltip",{attrs:{offset:[0,8],self:"top middle",anchor:"bottom middle"}},[t._v(t._s(t.$t("tooltips.resetContext")))])],1)],1)])],1)],1)],1)},h=[];u._withStripped=!0;var f=n("on+m"),p=n("sSqL"),g=n("JXPH"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"klab-tree-pane"}},[n("klab-splitter",{attrs:{margin:0,hidden:""===t.additionalContentType?"right":""},on:{"close-metadata":function(e){t.additionalContentType=""}}},[n("div",{attrs:{slot:"left-pane"},slot:"left-pane"},[n("klab-tree")],1),n("div",{attrs:{slot:"right-pane"},slot:"right-pane"},[n("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n(t.additionalContentType,{tag:"component",attrs:{id:"mc-additional-content"}},[t._v(t._s(t.additionalContent))])],1)],1)])],1)},m=[];v._withStripped=!0;var b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"klab-tree-div"}},[t.tree.length>0?n("div",{on:{contextmenu:function(e){t.rightClickHandler(e)}}},[n("q-tree",{ref:"klabTree",attrs:{nodes:t.tree,"node-key":"id",ticked:t.ticked,selected:t.selected,"tick-strategy":"strict","text-color":"white","control-color":"white",color:"white",dark:!0},on:{"update:ticked":function(e){t.ticked=e},"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"header-default",fn:function(e){return n("div",{},[n("span",{directives:[{name:"ripple",rawName:"v-ripple",value:e.node.main,expression:"prop.node.main"}],class:["node-element",e.node.main?"node-emphasized":""],attrs:{id:"node-"+e.node.id}},[t._v(t._s(e.node.label)+"\n          "),n("q-tooltip",{staticClass:"tree-q-tooltip",attrs:{delay:300,offset:[0,5],self:"top left",anchor:"bottom right"}},[t._v(t._s(t.clearObservable(e.node.observable)))])],1),n("q-chip",{staticClass:"node-chip transparent",attrs:{small:"",dense:"","text-color":"grey-9"}},[t._v("\n          "+t._s("undefined"!==typeof e.node.idx?t.$t("label.itemCounter",{loaded:e.node.idx+1,total:e.node.siblingCount}):"")+"\n        ")])],1)}},{key:"header-folder",fn:function(e){return n("div",{},[n("span",{directives:[{name:"ripple",rawName:"v-ripple",value:e.node.main,expression:"prop.node.main"}],class:["node-element",e.node.main?"node-emphasized":""],attrs:{id:"node-"+e.node.id}},[t._v(t._s(e.node.label))]),n("q-chip",{staticClass:"node-chip",attrs:{color:"white",small:"",dense:"","text-color":"grey-7"}},[t._v(t._s(e.node.siblingCount?e.node.siblingCount:e.node.children.length))])],1)}},{key:"header-main",fn:function(e){return n("div",{},[n("span",{directives:[{name:"ripple",rawName:"v-ripple",value:e.node.main,expression:"prop.node.main"}],class:["node-element",e.node.main?"node-emphasized":""],attrs:{id:"node-"+e.node.id}},[t._v(t._s(e.node.label)+"\n          "),n("q-tooltip",{staticClass:"tree-q-tooltip",attrs:{delay:300,offset:[0,5],self:"top left",anchor:"bottom right"}},[t._v(t._s(t.clearObservable(e.node.observable)))])],1),n("q-chip",{staticClass:"node-chip",attrs:{color:"white",small:"",dense:"","text-color":"grey-7"}},[t._v(t._s(e.node.children.length))])],1)}}])})],1):n("div",{staticClass:"q-ma-md text-center text-white"},[t._v("\n    "+t._s(t.$t("label.noObservation"))+"\n  ")]),n("q-context-menu",{directives:[{name:"show",rawName:"v-show",value:t.enableContextMenu,expression:"enableContextMenu"}],ref:"observations-context"},[n("q-list",{staticStyle:{"min-width":"150px"},attrs:{dense:"","no-border":""},on:{click:function(e){t.$refs.context.close()}}},[t._l(t.itemActions,function(e,i){return[e.separator&&0!==i?n("q-item-separator",{key:e.actionId}):t._e(),!e.separator&&e.enabled?n("q-item",{key:e.actionId,attrs:{link:""},nativeOn:{click:function(n){t.askForAction(t.itemObservationId,e.actionId)}}},[n("q-item-main",{attrs:{label:e.actionLabel}})],1):t._e(),e.separator||e.enabled?t._e():n("q-item",{key:e.actionId,attrs:{disabled:""}},[n("q-item-main",{attrs:{label:e.actionLabel}})],1)]})],2)],1)],1)},y=[];b._withStripped=!0;n("rGqo"),n("dRSK");var M=n("RIqP"),w=n.n(M),C=(n("INYr"),n("J4zp")),I=n.n(C),N=(n("pIFo"),n("f3/d"),n("SRfc"),n("HEwt"),n("91GP"),n("UPtB")),E=n.n(N),T=n("hKI/"),O=n.n(T),x=n("bdgK"),L=n("AxL3"),k=n.n(L);function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),t}var j=function(){function t(e,n){var i=this;S(this,t),this.onScrollX=function(){i.scrollXTicking||(window.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0)},this.onScrollY=function(){i.scrollYTicking||(window.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0)},this.scrollX=function(){i.showScrollbar("x"),i.positionScrollbar("x"),i.scrollXTicking=!1},this.scrollY=function(){i.showScrollbar("y"),i.positionScrollbar("y"),i.scrollYTicking=!1},this.onMouseEnter=function(){i.showScrollbar("x"),i.showScrollbar("y")},this.onMouseMove=function(t){var e=i.trackY.getBoundingClientRect(),n=i.trackX.getBoundingClientRect();i.mouseX=t.clientX,i.mouseY=t.clientY,i.isWithinBounds(e)&&i.showScrollbar("y"),i.isWithinBounds(n)&&i.showScrollbar("x")},this.onWindowResize=function(){i.hideNativeScrollbar()},this.hideScrollbars=function(){var t=i.trackY.getBoundingClientRect(),e=i.trackX.getBoundingClientRect();i.isWithinBounds(t)||(i.scrollbarY.classList.remove("visible"),i.isVisible.y=!1),i.isWithinBounds(e)||(i.scrollbarX.classList.remove("visible"),i.isVisible.x=!1)},this.onMouseDown=function(t){var e=i.scrollbarY.getBoundingClientRect(),n=i.scrollbarX.getBoundingClientRect();i.isWithinBounds(e)&&(t.preventDefault(),i.onDrag(t,"y")),i.isWithinBounds(n)&&(t.preventDefault(),i.onDrag(t,"x"))},this.drag=function(t){var e,n,s;t.preventDefault(),"y"===i.currentAxis?(e=t.pageY,n=i.trackY,s=i.scrollContentEl):(e=t.pageX,n=i.trackX,s=i.contentEl);var o=e-n.getBoundingClientRect()[i.offsetAttr[i.currentAxis]]-i.dragOffset[i.currentAxis],r=o/n[i.sizeAttr[i.currentAxis]],a=r*i.contentEl[i.scrollSizeAttr[i.currentAxis]];s[i.scrollOffsetAttr[i.currentAxis]]=a},this.onEndDrag=function(){document.removeEventListener("mousemove",i.drag),document.removeEventListener("mouseup",i.onEndDrag)},this.el=e,this.flashTimeout,this.contentEl,this.scrollContentEl,this.dragOffset={x:0,y:0},this.isEnabled={x:!0,y:!0},this.isVisible={x:!1,y:!1},this.scrollOffsetAttr={x:"scrollLeft",y:"scrollTop"},this.sizeAttr={x:"offsetWidth",y:"offsetHeight"},this.scrollSizeAttr={x:"scrollWidth",y:"scrollHeight"},this.offsetAttr={x:"left",y:"top"},this.globalObserver,this.mutationObserver,this.resizeObserver,this.currentAxis,this.scrollbarWidth,this.options=Object.assign({},t.defaultOptions,n),this.isRtl="rtl"===this.options.direction,this.classNames=this.options.classNames,this.offsetSize=20,this.recalculate=O()(this.recalculate.bind(this),1e3),this.onMouseMove=O()(this.onMouseMove.bind(this),100),this.init()}return D(t,[{key:"init",value:function(){this.el.SimpleBar=this,this.initDOM(),k.a&&(this.hideNativeScrollbar(),this.render(),this.initListeners())}},{key:"initDOM",value:function(){var t=this;if(Array.from(this.el.children).filter(function(e){return e.classList.contains(t.classNames.scrollContent)}).length)this.trackX=this.el.querySelector(".".concat(this.classNames.track,".horizontal")),this.trackY=this.el.querySelector(".".concat(this.classNames.track,".vertical")),this.scrollContentEl=this.el.querySelector(".".concat(this.classNames.scrollContent)),this.contentEl=this.el.querySelector(".".concat(this.classNames.content));else{this.scrollContentEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.scrollContentEl.classList.add(this.classNames.scrollContent),this.contentEl.classList.add(this.classNames.content);while(this.el.firstChild)this.contentEl.appendChild(this.el.firstChild);this.scrollContentEl.appendChild(this.contentEl),this.el.appendChild(this.scrollContentEl)}if(!this.trackX||!this.trackY){var e=document.createElement("div"),n=document.createElement("div");e.classList.add(this.classNames.track),n.classList.add(this.classNames.scrollbar),this.options.autoHide||n.classList.add("visible"),e.appendChild(n),this.trackX=e.cloneNode(!0),this.trackX.classList.add("horizontal"),this.trackY=e.cloneNode(!0),this.trackY.classList.add("vertical"),this.el.insertBefore(this.trackX,this.el.firstChild),this.el.insertBefore(this.trackY,this.el.firstChild)}this.scrollbarX=this.trackX.querySelector(".".concat(this.classNames.scrollbar)),this.scrollbarY=this.trackY.querySelector(".".concat(this.classNames.scrollbar)),this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var t=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mousemove",this.onMouseMove),this.contentEl.addEventListener("scroll",this.onScrollX),this.scrollContentEl.addEventListener("scroll",this.onScrollY),window.addEventListener("resize",this.onWindowResize),"undefined"!==typeof MutationObserver&&(this.mutationObserver=new MutationObserver(function(e){e.forEach(function(e){(t.isChildNode(e.target)||e.addedNodes.length)&&t.recalculate()})}),this.mutationObserver.observe(this.el,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.resizeObserver=new x["a"](this.recalculate),this.resizeObserver.observe(this.el)}},{key:"recalculate",value:function(){this.render()}},{key:"render",value:function(){this.contentSizeX=this.contentEl[this.scrollSizeAttr["x"]],this.contentSizeY=this.contentEl[this.scrollSizeAttr["y"]]-(this.scrollbarWidth||this.offsetSize),this.trackXSize=this.trackX[this.sizeAttr["x"]],this.trackYSize=this.trackY[this.sizeAttr["y"]],this.isEnabled["x"]=this.trackXSize<this.contentSizeX,this.isEnabled["y"]=this.trackYSize<this.contentSizeY,this.resizeScrollbar("x"),this.resizeScrollbar("y"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},{key:"resizeScrollbar",value:function(){var t,e,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(this.isEnabled[i]||this.options.forceVisible){"x"===i?(t=this.scrollbarX,e=this.contentSizeX,n=this.trackXSize):(t=this.scrollbarY,e=this.contentSizeY,n=this.trackYSize);var s=n/e;this.handleSize=Math.max(~~(s*n),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(this.handleSize=Math.min(this.handleSize,this.options.scrollbarMaxSize)),"x"===i?t.style.width="".concat(this.handleSize,"px"):t.style.height="".concat(this.handleSize,"px")}}},{key:"positionScrollbar",value:function(){var t,e,n,i,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";"x"===s?(t=this.scrollbarX,e=this.contentEl[this.scrollOffsetAttr[s]],n=this.contentSizeX,i=this.trackXSize):(t=this.scrollbarY,e=this.scrollContentEl[this.scrollOffsetAttr[s]],n=this.contentSizeY,i=this.trackYSize);var o=e/(n-i),r=~~((i-this.handleSize)*o);(this.isEnabled[s]||this.options.forceVisible)&&(t.style.transform="x"===s?"translate3d(".concat(r,"px, 0, 0)"):"translate3d(0, ".concat(r,"px, 0)"))}},{key:"toggleTrackVisibility",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",e="y"===t?this.trackY:this.trackX,n="y"===t?this.scrollbarY:this.scrollbarX;this.isEnabled[t]||this.options.forceVisible?e.style.visibility="visible":e.style.visibility="hidden",this.options.forceVisible&&(this.isEnabled[t]?n.style.visibility="visible":n.style.visibility="hidden")}},{key:"hideNativeScrollbar",value:function(){this.scrollbarWidth=E()(),this.scrollContentEl.style[this.isRtl?"paddingLeft":"paddingRight"]="".concat(this.scrollbarWidth||this.offsetSize,"px"),this.scrollContentEl.style.marginBottom="-".concat(2*this.scrollbarWidth||this.offsetSize,"px"),this.contentEl.style.paddingBottom="".concat(this.scrollbarWidth||this.offsetSize,"px"),0!==this.scrollbarWidth&&(this.contentEl.style[this.isRtl?"marginLeft":"marginRight"]="-".concat(this.scrollbarWidth,"px"))}},{key:"showScrollbar",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.isVisible[e]||(t="x"===e?this.scrollbarX:this.scrollbarY,this.isEnabled[e]&&(t.classList.add("visible"),this.isVisible[e]=!0),this.options.autoHide&&(window.clearInterval(this.flashTimeout),this.flashTimeout=window.setInterval(this.hideScrollbars,this.options.timeout)))}},{key:"onDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";t.preventDefault();var n="y"===e?this.scrollbarY:this.scrollbarX,i="y"===e?t.pageY:t.pageX;this.dragOffset[e]=i-n.getBoundingClientRect()[this.offsetAttr[e]],this.currentAxis=e,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.onEndDrag)}},{key:"getScrollElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return"y"===t?this.scrollContentEl:this.contentEl}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"removeListeners",value:function(){this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),this.scrollContentEl.removeEventListener("scroll",this.onScrollY),this.contentEl.removeEventListener("scroll",this.onScrollX),this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"unMount",value:function(){this.removeListeners(),this.el.SimpleBar=null}},{key:"isChildNode",value:function(t){return null!==t&&(t===this.el||this.isChildNode(t.parentNode))}},{key:"isWithinBounds",value:function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height}}],[{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!==typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(e){e.forEach(function(e){Array.from(e.addedNodes).forEach(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?!e.SimpleBar&&new t(e,t.getElOptions(e)):Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function(e){!e.SimpleBar&&new t(e,t.getElOptions(e))}))}),Array.from(e.removedNodes).forEach(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?t.SimpleBar&&t.SimpleBar.unMount():Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function(t){t.SimpleBar&&t.SimpleBar.unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"getElOptions",value:function(t){var e=Array.from(t.attributes).reduce(function(t,e){var n=e.name.match(/data-simplebar-(.+)/);if(n){var i=n[1].replace(/\W+(.)/g,function(t,e){return e.toUpperCase()});switch(e.value){case"true":t[i]=!0;break;case"false":t[i]=!1;break;case void 0:t[i]=!0;break;default:t[i]=e.value}}return t},{});return e}},{key:"removeObserver",value:function(){this.globalObserver.disconnect()}},{key:"initDOMLoadedElements",value:function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function(e){e.SimpleBar||new t(e,t.getElOptions(e))})}},{key:"defaultOptions",get:function(){return{autoHide:!0,forceVisible:!1,classNames:{content:"simplebar-content",scrollContent:"simplebar-scroll-content",scrollbar:"simplebar-scrollbar",track:"simplebar-track"},scrollbarMinSize:25,scrollbarMaxSize:0,direction:"ltr",timeout:1e3}}}]),t}();k.a&&j.initHtmlApi();var _=j,z=(n("gZXI"),{name:"klabTree",data:function(){return{ticked:[],selected:null,enableContextMenu:!1,itemActions:[],itemObservationId:null,askingForSiblings:!1,scrollElement:null}},computed:l()({},Object(c["c"])("data",["tree","treeNode","lasts"])),methods:l()({},Object(c["b"])("data",["hideNode","showNode","selectNode","askForSiblings","setFolderVisibility"]),Object(c["b"])("view",["setSpinner"]),{rightClickHandler:function(t){t.preventDefault();var e=null;if("node-element"===t.target.className)e=t.target;else{var n=t.target.getElementsByClassName("node-element");if(1===n.length){var i=I()(n,1);e=i[0]}}if(null!==e){var s=e.id.substring(5),o=this.treeNode(s);o&&null!==o?o.actions&&o.actions.length>0?(this.itemActions=o.actions.slice(0),this.itemObservationId=s):(this.itemActions=[{actionId:null,actionLabel:this.$t("messages.noActionForObservation"),enabled:!1,separator:!1}],this.itemObservationId=null):(this.itemActions=[],this.itemObservationId=null),this.enableContextMenu=this.itemActions&&this.itemActions.length>0}else this.enableContextMenu=!1},askForAction:function(t,e){console.log("Will ask for ".concat(e," of observation ").concat(t)),this.enableContextMenu=!1},clearObservable:function(t){return 0===t.indexOf("(")&&t.lastIndexOf(")")===t.length-1?t.substring(1,t.length-1):t}}),watch:{selected:function(t){this.selectNode(t),this.selected=null},ticked:function(t,e){var n=this;if(e.length!==t.length)if(e.length>t.length){var i=e.filter(function(e){return t.indexOf(e)<0})[0],s=p["b"].findNodeById(this.tree,i);s&&(s.type===p["a"].GEOMTYP_FOLDER?(this.setFolderVisibility({folderId:s.id,visible:!1}),this.ticked=this.ticked.filter(function(t){return-1===s.children.findIndex(function(e){return e.id===t})})):this.hideNode(i))}else{var o=t[t.length-1],r=p["b"].findNodeById(this.tree,o);if(r.type===p["a"].GEOMTYP_FOLDER){var a=function(){var t;n.setFolderVisibility({folderId:r.id,visible:!0}),(t=n.ticked).push.apply(t,w()(r.children.map(function(t){return t.id})))};if(r.siblingsLoaded<r.siblingCount&&!this.askingForSiblings){this.askingForSiblings=!0;var l=this.lasts.find(function(t){return t.folderId===r.id});this.askForSiblings({nodeId:l.observationId,folderId:l.folderId,offset:r.siblingsLoaded-1,count:-1,toTree:!1,visible:!0}).then(function(){n.askingForSiblings=!1,a()})}else a()}else this.showNode({nodeId:o,selectMainViewer:!0})}}},mounted:function(){var t=this;this.scrollElement=new _(document.getElementById("klab-tree-div")).getScrollElement(),this.scrollElement.addEventListener("scroll",function(e){if(t.askingForSiblings)return e.preventDefault(),void console.debug("KlabTree -> We are asking for tree now, this call is not need so exit");if(0===t.lasts.length)return e.preventDefault(),void console.debug("KlabTree -> There aren't incompleted folders, exit");var n=t.scrollElement.getBoundingClientRect(),i=n.bottom;t.lasts.forEach(function(e){var n=document.getElementById("node-".concat(e.observationId));if(null!==n){var s=n.getBoundingClientRect();if(console.debug("KlabTree -> Last element is over bottom? Element bottom: ".concat(s.bottom," / Scroll container bottom: ").concat(i)),0!==s.bottom&&s.bottom<i){console.log("KlabTree -> Ask for more siblings"),t.askingForSiblings=!0;var o=p["b"].findNodeById(t.tree,e.folderId);t.askForSiblings({nodeId:e.observationId,folderId:e.folderId,offset:e.offset,count:p["a"].SIBLINGS_TO_ASK_FOR,visible:"undefined"!==typeof o.ticked&&o.ticked}).then(function(){t.askingForSiblings=!1,console.debug("KlabTree -> Asked for them"),t.$eventBus.$emit("updateFolder",{folderId:e.folderId,visible:"undefined"!==typeof o.ticked&&o.ticked})})}}})}),this.$eventBus.$on("updateFolder",function(e){if(e&&e.folderId){var n,i=p["b"].findNodeById(t.tree,e.folderId);if(i&&null!==i)if(e.visible)(n=t.ticked).push.apply(n,w()(i.children.map(function(t){return t.id})));else t.ticked=t.ticked.filter(function(t){return-1===i.children.findIndex(function(e){return e.id===t})})}})}}),R=z,Y=(n("WzXu"),n("KHd+")),P=Object(Y["a"])(R,b,y,!1,null,null,null);P.options.__file="KlabTree.vue";var B=P.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"splitter-container"}},[!t.hidden&&t.controllers?n("div",{staticClass:"splitter-controllers"},[n("q-btn",{staticClass:"no-padding splitter-actions",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-left",icon:"mdi-arrow-left"},nativeOn:{click:function(e){t.percent=0}}}),n("q-btn",{staticClass:"no-padding splitter-actions rotate-90",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-middle",icon:"mdi-format-align-middle"},nativeOn:{click:function(e){t.percent=50}}}),n("q-btn",{staticClass:"no-padding splitter-actions",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-right",icon:"mdi-arrow-right"},nativeOn:{click:function(e){t.percent=100}}}),n("q-btn",{staticClass:"no-padding splitter-actions",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-close",icon:"mdi-close"},nativeOn:{click:function(e){t.$emit("close-metadata")}}})],1):t._e(),n("div",{staticClass:"vue-splitter",style:{cursor:t.cursor,userSelect:t.userSelect,flexDirection:t.flexDirection},on:{mouseup:function(e){return e.preventDefault(),t.onUp(e)},mousemove:function(e){return e.preventDefault(),t.onMouseMove(e)},touchmove:function(e){return e.preventDefault(),t.onMove(e)},touchend:function(e){return e.preventDefault(),t.onUp(e)}}},[n("div",{staticClass:"left-pane splitter-pane",style:t.leftPaneStyle},[t._t("left-pane")],2),[n("div",{staticClass:"splitter",class:{active:t.active},style:t.splitterStyle,on:{mousedown:function(e){return e.preventDefault(),t.onDown(e)},touchstart:function(e){return e.preventDefault(),t.onDown(e)}}}),n("div",{staticClass:"right-pane splitter-pane",style:t.rightPaneStyle},[t._t("right-pane")],2)]],2)])},V=[];W._withStripped=!0;n("xfY5");var q={props:{margin:{type:Number,default:10},horizontal:{type:Boolean,default:!1},hidden:{type:String,default:""},splitterColor:{type:String,default:"rgba(0, 0, 0, 0.2)"},controlsColor:{type:String,default:"rgba(192, 192, 192)"},splitterSize:{type:Number,default:3},controllers:{type:Boolean,default:!0}},data:function(){return{active:!1,percent:"left"===this.hidden?0:"right"===this.hidden?100:50,hasMoved:!1}},computed:{flexDirection:function(){return this.horizontal?"column":"row"},splitterStyle:function(){return this.horizontal?{height:"".concat(this.splitterSize,"px"),cursor:"ns-resize","background-color":this.splitterColor}:{width:"".concat(this.splitterSize,"px"),cursor:"ew-resize","background-color":this.splitterColor}},leftPaneStyle:function(){return this.horizontal?{height:"".concat(this.percent,"%")}:{width:"".concat(this.percent,"%")}},rightPaneStyle:function(){return this.horizontal?{height:"".concat(100-this.percent,"%")}:{width:"".concat(100-this.percent,"%")}},userSelect:function(){return this.active?"none":""},cursor:function(){return this.active?this.horizontal?"ns-resize":"ew-resize":""}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("resize"))},onDown:function(){this.active=!0,this.hasMoved=!1},onUp:function(){this.active=!1},onMove:function(t){var e=0,n=t.currentTarget,i=0;if(this.active){if(this.horizontal){while(n)e+=n.offsetTop,n=n.offsetParent;i=Math.floor((t.pageY-e)/t.currentTarget.offsetHeight*1e4)/100}else{while(n)e+=n.offsetLeft,n=n.offsetParent;i=Math.floor((t.pageX-e)/t.currentTarget.offsetWidth*1e4)/100}i>this.margin&&i<100-this.margin&&(this.percent=i),this.$emit("resize"),this.hasMoved=!0}},onMouseMove:function(t){0!==t.buttons&&0!==t.which||(this.active=!1),this.onMove(t)}},watch:{hidden:function(){this.percent="left"===this.hidden?0:"right"===this.hidden?100:50}}},$=q,G=(n("GEgq"),Object(Y["a"])($,W,V,!1,null,null,null));G.options.__file="KlabSplitter.vue";var H=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},U=[];X._withStripped=!0;var Z={name:"Metadata"},F=Z,Q=(n("RGVg"),Object(Y["a"])(F,X,U,!1,null,null,null));Q.options.__file="Metadata.vue";var K=Q.exports,J={name:"klabTreeContainer",data:function(){return{content:"KlabTree",additionalContentType:"",additionalContent:"Test de additionalContent"}},methods:{},mounted:function(){},components:{KlabTree:B,KlabSplitter:H,Metadata:K}},tt=J,et=(n("pmOm"),Object(Y["a"])(tt,v,m,!1,null,null,null));et.options.__file="KlabTreePane.vue";var nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"klab-log-pane"}},[n("q-list",{staticClass:"no-padding no-margin no-border",attrs:{striped:"",dense:"",dark:"",id:"log-container"}},t._l(t.klabLogReversedAndFiltered(),function(e){return n("q-item",{key:e.id,staticClass:"log-item q-pa-xs"},[n("q-item-side",[n("q-item-tile",{staticStyle:{"font-size":"18px"},attrs:{icon:t.logColorAndIcon(e).icon,color:t.logColorAndIcon(e).color}})],1),n("q-item-main",[n("q-item-tile",[t._v(t._s(t.logText(e)))])],1)],1)}))],1)},st=[];it._withStripped=!0;var ot,rt=n("0kf8"),at=(ot={},r()(ot,rt["a"].TYPE_DEBUG,{icon:"mdi-console-line",color:"black"}),r()(ot,rt["a"].TYPE_INFO,{icon:"mdi-information",color:"info"}),r()(ot,rt["a"].TYPE_WARNING,{icon:"mdi-alert",color:"warning"}),r()(ot,rt["a"].TYPE_ERROR,{icon:"mdi-close-circle",color:"negative"}),ot),lt={name:"KLabLogPane",data:function(){return{scrollBar:null,log:null}},computed:l()({},Object(c["c"])("view",["klabLogReversedAndFiltered"])),methods:{logText:function(t){return t&&t.payload?"".concat(t.time?t.time.format("HH:mm:ss"):this.$t("messages.noTime"),": ").concat(t.payload):this.$t("label.klabNoMessage")},logColorAndIcon:function(t){return at[t.type]}},watch:{klabLog:function(){this.scrollBar.recalculate()}},mounted:function(){this.scrollBar=new _(document.getElementById("klab-log-pane"))}},ct=lt,dt=(n("9Y87"),Object(Y["a"])(ct,it,st,!1,null,null,null));dt.options.__file="KlabLogPane.vue";var ut=dt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"mc-search-div",attrs:{id:"mc-search-div"}},[t._l(t.acceptedTokens,function(e,i){return n("div",{key:e.index,ref:"token-"+e.index,refInFor:!0,class:["tokens-accepted","tokens","bg-semantic-elements",e.selected?"selected":"","text-"+e.leftColor],style:{"border-color":e.selected?e.rgb:"transparent"},attrs:{tabindex:i},on:{focus:function(n){t.onTokenFocus(e,n)},blur:function(n){t.onTokenFocus(e,n)},keydown:t.onKeyPressedOnToken}},[t._v(t._s(e.value)+"\n    "),n("q-tooltip",{attrs:{delay:500,offset:[0,15],self:"top left",anchor:"bottom left"}},[e.sublabel.length>0?n("span",[t._v(t._s(e.sublabel))]):n("span",[t._v(t._s(t.$t("label.noTokenDescription")))])])],1)}),n("div",{staticClass:"tokens"},[n("q-input",{ref:"mc-search-input",attrs:{autofocus:!0,placeholder:t.$t("label.searchPlaceholder"),size:"20",id:"mc-search-input",tabindex:t.acceptedTokens.length,"hide-underline":!0},on:{focus:function(e){t.onInputFocus(!0)},blur:function(e){t.onInputFocus(!1)},keydown:t.onKeyPressedOnSearchInput,keyup:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.searchEnd(e):null}},model:{value:t.actualToken,callback:function(e){t.actualToken=e},expression:"actualToken"}},[n("q-autocomplete",{ref:"mc-autocomplete",attrs:{debounce:200,"min-characters":2,"max-results":15},on:{search:t.search,selected:t.selected,show:function(e){t.suggestionShowed=!0},hide:t.onAutocompleteHide}})],1)],1)],2)},ft=[];ht._withStripped=!0;var pt=n("F9zT"),gt=n("Kw5r"),vt={name:"KlabSearch",props:{maxResults:{type:Number,default:-1}},data:function(){return{searchContextId:null,searchRequestId:0,doneFunc:null,result:null,acceptedTokens:[],actualToken:"",actualSearchString:"",noSearch:!1,searchDiv:null,searchInput:null,autocompleteEl:null,scrolled:0,suggestionShowed:!1,searchTimeout:null,searchHistoryIndex:-1}},computed:l()({},Object(c["c"])("data",["searchResult","contextId"]),Object(c["c"])("view",["spinner","searchIsFocused","searchLostChar","searchHistory"]),{inputSearchColor:{get:function(){return this.searchInput?this.searchInput.$refs.input.style.color:"black"},set:function(t){this.searchInput.$refs.input.style.color=t}}}),methods:l()({},Object(c["b"])("view",["searchStop","setSpinner","searchFocus","resetSearchLostChar","storePreviousSearch"]),{onTokenFocus:function(t,e){t.selected="focus"===e.type},onInputFocus:function(t){this.searchFocus({focused:t}),this.actualToken=this.actualSearchString},onAutocompleteHide:function(){this.suggestionShowed=!1,this.actualToken!==this.actualSearchString&&(this.noSearch=!0,this.resetSearchInput())},onKeyPressedOnToken:function(t){var e=this;if(37===t.keyCode||39===t.keyCode){t.preventDefault();var n=this.acceptedTokens.findIndex(function(t){return t.selected}),i=null,s=!1;if(37===t.keyCode&&n>0?i="token-".concat(this.acceptedTokens[n-1].index):39===t.keyCode&&n<this.acceptedTokens.length&&(n===this.acceptedTokens.length-1?(i="mc-search-input",s=!0):i="token-".concat(this.acceptedTokens[n+1].index)),null!==i){var o=this.$refs[i];if(Array.isArray(o)){var r=o,a=I()(r,1);o=a[0]}gt["a"].nextTick(function(){o.focus();var n=null,i=e.searchDiv.offsetLeft;if(37===t.keyCode){var r=o.offsetLeft+i-e.searchDiv.offsetLeft;e.searchDiv.scrollLeft>=r&&(n=r)}else{var a=s?o.$el:o,l=(s?a.offsetLeft:o.offsetLeft)+i+a.offsetWidth,c=e.searchDiv.offsetWidth+e.searchDiv.scrollLeft;c<=l&&(n=e.searchDiv.scrollLeft+(l-c)-i)}null!==n&&gt["a"].nextTick(function(){e.searchDiv.scrollLeft=n})})}}},onKeyPressedOnSearchInput:function(t){var e=this;switch(this.noSearch=!1,t.keyCode){case 8:""===this.actualToken&&0!==this.acceptedTokens.length?(this.acceptedTokens.pop(),this.searchHistoryIndex=-1,t.preventDefault()):""!==this.actualSearchString&&(t.preventDefault(),this.actualSearchString=this.actualSearchString.slice(0,-1));break;case 9:this.suggestionShowed&&-1!==this.autocompleteEl.keyboardIndex&&(this.autocompleteEl.setValue(this.autocompleteEl.results[this.autocompleteEl.keyboardIndex]),this.searchHistoryIndex=-1),t.preventDefault();break;case 13:this.suggestionShowed||this.searchInKLab(t);break;case 27:this.suggestionShowed?this.autocompleteEl.hide():this.searchEnd(!0),t.preventDefault();break;case 32:t.preventDefault(),this.$q.notify({message:this.$t("messages.noSpaceAllowedInSearch"),type:"warning",timeout:1500});break;case 37:if(!this.suggestionShowed&&0===this.searchInput.$refs.input.selectionStart&&this.acceptedTokens.length>0){var n=this.acceptedTokens[this.acceptedTokens.length-1];gt["a"].nextTick(function(){e.$refs["token-".concat(n.index)][0].focus()}),t.preventDefault()}break;case 38:this.suggestionShowed||this.searchHistoryEvent(1,t);break;case 40:this.suggestionShowed||this.searchHistoryEvent(-1,t);break;default:t.keyCode<65||t.keyCode>90?39!==t.keyCode&&t.preventDefault():(t.preventDefault(),this.searchHistoryIndex=-1,this.actualSearchString+=t.key);break}},selected:function(t,e){e?this.inputSearchColor=t.rgb:(this.acceptedTokens.push(t),this.actualSearchString="")},search:function(t,e){var n=this;if(this.noSearch)return this.noSearch=!1,void e([]);this.searchRequestId+=1,this.sendStompMessage(pt["a"].SEARCH_REQUEST({requestId:this.searchRequestId,contextId:this.searchContextId,maxResults:this.maxResults,session:this.$store.state.data.session,cancelSearch:!1,queryString:this.actualSearchString}).body),this.setSpinner(l()({},d["b"].SPINNER_LOADING,{owner:this.$options.name})),this.doneFunc=e,this.searchTimeout=setTimeout(function(){n.setSpinner(l()({},d["b"].SPINNER_ERROR,{owner:n.$options.name,errorMessage:n.$t("errors.searchTimeout"),time:2,then:l()({},d["b"].SPINNER_STOPPED)})),n.doneFunc([])},2e3)},searchInKLab:function(){if(this.acceptedTokens.length>0){var t=this.acceptedTokens.map(function(t){return t.id}).join(" ");this.sendStompMessage(pt["a"].OBSERVATION_REQUEST({urn:t,contextId:this.contextId,searchContextId:null,session:this.$store.state.data.session}).body),this.$q.notify({message:this.$t("label.askForObservation",{urn:this.acceptedTokens.map(function(t){return t.label}).join(" ")}),type:"info",timeout:2e3})}else console.log("Nothing to search for");this.searchEnd()},searchEnd:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.suggestionShowed||(!t&&this.acceptedTokens.length>0&&this.storePreviousSearch({acceptedTokens:this.acceptedTokens.slice(0),searchContextId:this.searchContextId,searchRequestId:this.searchRequestId}),this.searchContextId=null,this.searchRequestId=0,this.doneFunc=null,this.result=null,this.acceptedTokens=[],this.searchHistoryIndex=-1,this.actualSearchString="",this.scrolled=0,this.noSearch=!1,this.searchStop())},resetSearchInput:function(){this.actualToken=this.actualSearchString,this.inputSearchColor="black"},searchHistoryEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===this.actualToken&&this.searchHistory.length>0&&(0===this.acceptedTokens.length||this.searchHistoryIndex>=0)&&this.searchHistory.length>0&&(t>0||this.searchHistoryIndex>0)&&this.searchHistoryIndex+t<this.searchHistory.length){this.searchHistoryIndex+=t;var n=this.searchHistory[this.searchHistoryIndex];this.acceptedTokens=n.acceptedTokens.slice(0),this.searchContextId=n.searchContextId,this.searchRequestId=n.searchRequestId,null!==e&&e.preventDefault()}}}),watch:{actualSearchString:function(){this.resetSearchInput()},searchResult:function(t){var e=this;this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null);var n,i=t.requestId,s=t.contextId;if(null===this.searchContextId)this.searchContextId=s;else if(s!==this.searchContextId)return console.warn("Something strange was happened: differents search context ids:\n\n        actual: ".concat(this.searchContextId," / received: ").concat(s)),void this.setSpinner(l()({},d["b"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search context id"}));if(this.searchRequestId!==i)return console.log("Result discarded for bad request id:\n\n        actual: ".concat(this.searchRequestId," / received: ").concat(i,"\n")),void this.setSpinner(l()({},d["b"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search request id"}));null!==this.result&&this.result.requestId===i&&(n=t.matches).push.apply(n,w()(this.result.matches)),this.result=t;var o=this.result.matches,r=[];o.forEach(function(t){var n=d["b"].MATCH_TYPES[t.matchType];if("undefined"!==typeof n){var i=n;if(null!==t.mainSemanticType){var s=d["b"].SEMANTIC_TYPES[t.mainSemanticType];"undefined"!==typeof s&&(i=s)}r.push({value:t.name,label:t.name,labelLines:1,sublabel:t.description,sublabelLines:1,letter:i.symbol,leftInverted:!0,leftColor:i.color,rgb:i.rgb,id:t.id,index:e.acceptedTokens.length+1,selected:!1})}else console.warn("Unknown type: ".concat(t.matchType))}),0===r.length&&this.$q.notify({message:this.$t("messages.noSearchResults"),type:"info",timeout:1e3}),this.setSpinner(l()({},d["b"].SPINNER_STOPPED,{owner:this.$options.name})),gt["a"].nextTick(function(){e.doneFunc(r),e.autocompleteEl.keyboardIndex=0})},acceptedTokens:function(){var t=this;gt["a"].nextTick(function(){var e=t.searchDiv.scrollWidth;t.scrolled!==e&&(t.searchDiv.scrollLeft=e,t.scrolled=e)})},searchIsFocused:function(t){t?(this.searchInput.focus(),this.acceptedTokens.forEach(function(t){t.selected=!1})):this.searchInput.blur()},searchLostChar:function(t){null!==t&&("ArrowUp"===t?this.searchHistoryEvent(1):"ArrowDown"===t?this.searchHistoryEvent(-1):this.actualSearchString+=t,this.resetSearchLostChar())}},mounted:function(){this.searchDiv=this.$refs["mc-search-div"],this.searchInput=this.$refs["mc-search-input"],this.autocompleteEl=this.$refs["mc-autocomplete"],null!==this.searchLostChar?"ArrowUp"===this.searchLostChar?this.searchHistoryEvent(1):this.actualSearchString=this.searchLostChar:this.actualSearchString="",this.inputSearchColor="black",gt["a"].config.warnHandler=function(t,e,n){-1===t.indexOf('"letter"')&&console.warn("Vue warn:",t,e,n)}}},mt=vt,bt=(n("r/ek"),Object(Y["a"])(mt,ht,ft,!1,null,null,null));bt.options.__file="KlabSearch.vue";var yt=bt.exports,Mt=n("q892"),wt=Mt["c"].width,Ct=Mt["c"].height,It={name:"klabMainControl",data:function(){return{isHidden:!1,draggableConfMain:{handle:void 0,resetInitialPos:!1,boundingElement:void 0},selectedTab:"klab-tree-pane",draggableElement:void 0,centeredLeft:this.defaultLeft}},computed:l()({},Object(c["c"])("data",["hasContext","hasObservations","contextLabel","lasts","tree"]),Object(c["c"])("view",["spinner","searchIsActive","searchIsFocused","mainViewer","reloadReport"]),Object(c["c"])("stomp",["hasTasks"]),{spinnerColor:function(){return p["b"].getColorObject(this.spinner.color)},reportTooltip:function(){return this.hasObservations?null:this.$t("tooltips.noReportNoObservation")}}),methods:l()({},Object(c["b"])("view",["searchStop","setMainViewer"]),{resetContext:function(){this.sendStompMessage(pt["a"].RESET_CONTEXT(this.$store.state.data.session).body)},hide:function(){this.draggableConfMain.resetInitialPos=!1,this.isHidden=!0},show:function(){this.draggableConfMain.resetInitialPos=!1,this.isHidden=!1},getCenteredLeft:function(){if("undefined"!==typeof this.draggableElement&&!this.hasContext){var t=wt(this.draggableElement),e=wt(this.draggableConfMain.boundingElement);return(e-t)/2}return this.defaultLeft},changeDraggablePosition:function(t){this.draggableElement.style.left="".concat(t.left,"px"),this.draggableElement.style.top="".concat(t.top,"px");var e=JSON.parse(this.draggableConfMain.handle.getAttribute("draggable-state"));e.startDragPosition=t,e.currentDragPosition=t,document.getElementById("mc-q-card-title").setAttribute("draggable-state",JSON.stringify(e))},preventDrag:function(t){t.preventDefault()}}),watch:{hasContext:function(){this.changeDraggablePosition({top:this.defaultTop,left:this.hasContext?this.defaultLeft:this.getCenteredLeft()})}},created:function(){this.defaultTop=25,this.defaultLeft=15,this.VIEWERS=d["a"]},mounted:function(){var t=this;this.draggableElement=document.getElementById("mc-q-card"),this.draggableConfMain.handle=document.getElementById("mc-q-card-title"),this.draggableConfMain.boundingElement=document.getElementById("viewer-container"),this.centeredLeft=this.getCenteredLeft(),this.draggableConfMain.initialPosition={left:this.centeredLeft,top:this.defaultTop},this.$eventBus.$on("map-size-changed",function(){if(t.draggableConfMain.initialPosition={left:t.centeredLeft,top:t.defaultTop},t.draggableElement.offsetLeft>=wt(t.draggableConfMain.boundingElement)||t.draggableElement.offsetTop>=Ct(t.draggableConfMain.boundingElement)){var e=t.getCenteredLeft();t.changeDraggablePosition({top:t.defaultTop,left:e})}})},directives:{Draggable:f["Draggable"]},components:{KlabTreePane:nt,KlabLogPane:ut,KlabSpinner:g["a"],KlabSearch:yt}},Nt=It,Et=(n("lvq/"),Object(Y["a"])(Nt,u,h,!1,null,null,null));Et.options.__file="KlabMainControl.vue";var Tt=Et.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row full-width bg-gray-1"},[n("div",{staticClass:"col-1 no-padding stomp-status bg-gray-1"},[n("q-icon",{attrs:{name:t.CONN_INDICATOR[t.connectionState].icon,color:t.CONN_INDICATOR[t.connectionState].color}})],1),n("div",{staticClass:"col-3 message-log q-pt-xs stomp-message bg-gray-1"},[n("q-icon",{attrs:{name:"call_received",color:t.hasError?"negative":"positive"}}),n("span",{class:"text-"+(t.hasError?"negative":"positive")},[t._v(t._s(t.receivedMessage))])],1),n("div",{staticClass:"ic"}),n("div",{staticClass:"col-4 message-log q-pt-xs stomp-message bg-gray-1"},[n("q-icon",{attrs:{name:"call_made"}}),n("span",[t._v(t._s(t.sendedMessage))])],1),n("div",{staticClass:"col-4 message-log q-pt-xs stomp-message bg-gray-1"},[n("q-icon",{attrs:{name:"ion-at",color:t.lastLogActionMessage.color}}),n("span",{class:["text-"+t.lastLogActionMessage.color]},[t._v("\n      "+t._s(t.lastLogActionMessage.text)+" / "+t._s(t.lastLogActionMessage.time)+"\n    ")])],1)])},xt=[];Ot._withStripped=!0;var Lt={name:"KLabLog",data:function(){var t;return{CONN_INDICATOR:(t={},r()(t,this.$constants.CONNECTION_UP,{icon:"signal_wifi_4_bar",color:"positive"}),r()(t,this.$constants.CONNECTION_DOWN,{icon:"signal_wifi_off",color:"positive"}),r()(t,this.$constants.CONNECTION_WORKING,{icon:"sync",color:"warning"}),r()(t,this.$constants.CONNECTION_UNKNOWN,{icon:"signal_wifi_4_bar",color:"positive"}),r()(t,this.$constants.CONNECTION_ERROR,{icon:"signal_wifi_off",color:"negative"}),t)}},computed:l()({},Object(c["d"])("stomp",["connectionState"]),Object(c["c"])("stomp",["lastSendedMessage","lastReceivedMessage","queuedMessage"]),Object(c["c"])("view",["lastKexplorerLog"]),{hasError:function(){return this.lastReceivedMessage&&this.lastReceivedMessage.type===this.$constants.TYPE_ERROR},receivedMessage:function(){if(this.lastReceivedMessage){if(this.lastReceivedMessage.type===this.$constants.TYPE_ERROR)return""===this.lastReceivedMessage.message.reason?this.$t("label.klabUnknownError"):this.lastReceivedMessage.message.reason;if(""!==this.lastReceivedMessage.message.body){var t,e=JSON.parse(this.lastReceivedMessage.message.body);return t="string"===typeof e.payload?e.payload:e.type||this.lastReceivedMessage.message.body.command,"".concat(t," - ").concat(this.lastReceivedMessage.date)}return"".concat(this.lastReceivedMessage.message.command," - ").concat(this.lastReceivedMessage.date)}return this.$t("label.klabNoMessage")},sendedMessage:function(){return this.queuedMessage?this.$t("label.klabMessagesToSend"):this.lastSendedMessage?"".concat(this.lastSendedMessage.date)||this.$t("label.klabNoDate"):this.$t("label.klabNoMessage")},lastLogActionMessage:function(){var t=this.lastKexplorerLog();return"undefined"!==typeof t&&t.payload?{text:t.payload.message||t.payload,time:t.time?t.time.format("HH:mm:ss"):"no time",color:t.type===this.$constants.TYPE_ERROR?"negative":t.type===this.$constants.TYPE_WARNING?"warning":"positive"}:this.$t("label.klabNoMessage")}}),watch:{},mounted:function(){}},kt=Lt,St=(n("0iO1"),Object(Y["a"])(kt,Ot,xt,!1,null,null,null));St.options.__file="KlabLog.vue";var At=St.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-padding relative-position full-width"},t._l(t.dataViewers,function(e){return n("div",{key:e.idx,class:["no-padding",e.main?"absolute-top full-height full-width":"absolute thumb-view"],style:t.viewerStyle(e)},[e.main?t._e():n("div",{staticClass:"thumb-viewer-title absolute-top"},[n("div",{staticClass:"relative-position"},[n("div",{staticClass:"thumb-viewer-label float-left q-ma-sm"},[t._v("\n        "+t._s(e.idx)+"\n      ")]),n("div",{staticClass:"float-right q-ma-sm"},[n("q-btn",{staticClass:"shadow-1",attrs:{round:"",color:"red-6",size:"xs",icon:"mdi-chevron-up"},on:{click:function(n){t.setMainDataViewer(e.idx)}}})],1)])]),n(e.type,{tag:"component",attrs:{idx:e.idx}})],1)}))},jt=[];Dt._withStripped=!0;var _t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit no-padding map-viewer"},[n("div",{ref:"map"+t.idx,staticClass:"fit",attrs:{id:"map"+t.idx}}),n("q-resize-observable",{on:{resize:t.handleResize}})],1)},zt=[];_t._withStripped=!0;n("ls82");var Rt=n("yXPU"),Yt=n.n(Rt),Pt=n("FEKV"),Bt=n("dB3m"),Wt=n("Xu5n"),Vt=n("oscj"),qt=n("4wAk"),$t=n("nHi6"),Gt=n("JW8z"),Ht=n("strc"),Xt=n.n(Ht),Ut=(n("xY7i"),n("W8A/"),{name:"MapViewer",props:{idx:{type:Number,required:!0}},data:function(){return{center:Pt["b"].center,zoom:Pt["b"].zoom,map:null,view:null,layers:new qt["a"],zIndexCounter:0,baseLayers:null}},computed:l()({observations:function(){return this.$store.getters["data/observations"](this.idx)}},Object(c["c"])("data",["hasContext","session"]),Object(c["c"])("view",["contextGeometry"])),methods:l()({},Object(c["b"])("view",["addToKexplorerLog","setSpinner"]),{handleResize:function(){null!==this.map&&(console.debug("HandleResize called!!!"),this.map.updateSize(),this.$eventBus.$emit("map-size-changed"))},onMoveEnd:function(){this.hasContext||this.sendRegionOfInterest()},sendRegionOfInterest:function(){var t=null;try{t=pt["a"].REGION_OF_INTEREST(Object(Gt["k"])(this.map.getView().calculateExtent(this.map.getSize()),"EPSG:3857","EPSG:4326"),this.session)}catch(t){this.addToKexplorerLog({type:this.$constants.TYPE_ERROR,payload:{message:t.message,attach:t}})}t&&t.body&&(this.sendStompMessage(t.body),this.addToKexplorerLog({type:t.validated?this.$constants.TYPE_INFO:this.$constants.TYPE_WARNING,payload:{message:"Message ".concat(t.validated?"":"not "," validated"),attach:t}}))},findLayerById:function(){var t=Yt()(regeneratorRuntime.mark(function t(e){var n,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.layers||null===this.layers){t.next=5;break}if(n=this.layers.getArray(),i=n.find(function(t){return t.get("id")===e.id}),"undefined"===typeof i){t.next=5;break}return t.abrupt("return",i);case 5:return t.prev=5,console.log("Creating layer: ".concat(e.label)),t.next=9,p["b"].getLayerObject(e,{projection:this.proj});case 9:return s=t.sent,this.zIndexCounter+=1,e.zIndex=this.zIndexCounter+e.zIndexOffset,s.setZIndex(e.zIndex),this.layers.push(s),t.abrupt("return",s);case 17:return t.prev=17,t.t0=t["catch"](5),console.error(t.t0.message),this.$q.notify({message:t.t0.message,type:"negative",timeout:3e3}),t.abrupt("return",null);case 22:case"end":return t.stop()}},t,this,[[5,17]])}));return function(e){return t.apply(this,arguments)}}(),drawContext:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==e&&(this.layers.clear(),this.baseLayers.removeMask()),null===this.contextGeometry)return console.log("No context, send region of interest"),void this.sendRegionOfInterest();this.baseLayers.setMask(this.contextGeometry),this.view.fit(this.contextGeometry,{padding:[30,30,30,30],constrainResolution:!1})},drawObservations:function(){var t=this;this.observations&&this.observations.length>0&&this.observations.forEach(function(e){t.findLayerById(e).then(function(t){null!==t&&(t.setVisible(e.visible),e.top?t.setZIndex(e.zIndexOffset+(Pt["c"].ZINDEX_OFFSET-1)):t.setZIndex(e.zIndex))})})}}),watch:{contextGeometry:function(t,e){this.drawContext(t,e)},observations:{handler:function(){this.drawObservations(!1)},deep:!0},center:function(){this.view.setCenter(this.center)}},mounted:function(){var t=this;this.baseLayers=Pt["a"],this.baseLayers.layers.forEach(function(e){e.get("name")===t.$baseLayer&&e.setVisible(!0);var n=e;n.on("propertychange",function(t){"propertychange"===t.type&&"visible"===t.key&&t.target.get(t.key)&&Bt["a"].set(p["a"].COOKIE_BASELAYER,n.get("name"),{expires:30,path:"/"})})}),this.map=new Wt["a"]({view:new Vt["a"]({center:this.center,zoom:this.zoom}),layers:this.baseLayers.layers,target:"map".concat(this.idx),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),this.map.on("moveend",this.onMoveEnd),this.view=this.map.getView(),this.proj=this.view.getProjection(),this.map.addLayer(new $t["a"]({layers:this.layers}));var e=new Xt.a;this.map.addControl(e),this.drawContext(),this.drawObservations()}}),Zt=Ut,Ft=(n("O4tg"),Object(Y["a"])(Zt,_t,zt,!1,null,null,null));Ft.options.__file="MapViewer.vue";var Qt=Ft.exports,Kt=[],Jt={computed:l()({},Object(c["c"])("view",["dataViewers","mainDataViewer"])),methods:l()({},Object(c["b"])("view",["setMainDataViewer"]),{viewerStyle:function(t){return t.main?"":(Kt.push(t),0===Kt.length?"left: 0":"left: ".concat(200*(Kt.length-1)+10*(Kt.length-1),"px"))}}),watch:{mainDataViewer:function(){Kt=[]}},components:{MapViewer:Qt},beforeUpdate:function(){Kt=[]},mounted:function(){Kt=[]}},te=Jt,ee=(n("vuMy"),Object(Y["a"])(te,Dt,jt,!1,null,"9433f5ba",null));ee.options.__file="DataViewer.vue";var ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-width",attrs:{id:"mc-report-wrapper"}},[n("div",{attrs:{id:"mc-report-content"},domProps:{innerHTML:t._s(t.report)}})])},se=[];ie._withStripped=!0;var oe=n("vjsO"),re={name:"ReportViewer",data:function(){return{report:this.$t("messages.noLoadedReport"),scrollElement:void 0}},computed:l()({},Object(c["c"])("data",["hasContext","contextId","hasObservations"]),Object(c["c"])("view",["reloadReport"])),methods:l()({},Object(c["b"])("view",["setReloadReport"]),{loadReport:function(){var t=this;this.reloadReport&&this.hasContext&&this.hasObservations&&oe["a"].get("".concat("").concat("/modeler/engine/session/observation/","report/").concat(this.contextId),{}).then(function(e){var n=e.data;""===n&&(console.warn("Empty report"),n=t.$t("messages.emptyReport")),t.report=n,t.setReloadReport(!1)})}}),watch:{reloadReport:function(){this._inactive||this.loadReport()}},activated:function(){this.loadReport()},mounted:function(){}},ae=re,le=(n("BjIT"),Object(Y["a"])(ae,ie,se,!1,null,null,null));le.options.__file="ReportViewer.vue";var ce=le.exports,de=n("+4JY"),ue={name:"IndexPage",computed:l()({},Object(c["c"])("stomp",["connectionState"]),Object(c["c"])("view",["searchIsActive","searchIsFocused","mainViewer"]),{logVisible:function(){return this.$logVisibility===this.$constants.PARAMS_LOG_VISIBLE},modalVisible:{get:function(){return this.connectionState!==this.$constants.CONNECTION_UP},set:function(t){console.warn("try to set modalVisible as ".concat(t))}},modalText:function(){var t;return(t={},r()(t,this.$constants.CONNECTION_UNKNOWN,this.$t("messages.connectionClosed")),r()(t,this.$constants.CONNECTION_DOWN,this.$t("messages.connectionClosed")),r()(t,this.$constants.CONNECTION_WORKING,this.$t("messages.connectionWorking")),r()(t,this.$constants.CONNECTION_ERROR,this.$t("errors.connectionError")),t)[this.connectionState]},modalColor:function(){var t;return(t={},r()(t,this.$constants.CONNECTION_UNKNOWN,de["a"].getBrand("warning")),r()(t,this.$constants.CONNECTION_DOWN,de["a"].getBrand("warning")),r()(t,this.$constants.CONNECTION_WORKING,de["a"].getBrand("info")),r()(t,this.$constants.CONNECTION_ERROR,de["a"].getBrand("negative")),t)[this.connectionState]}}),methods:l()({},Object(c["b"])("view",["searchStart","searchStop","searchFocus","setMainViewer"])),components:{KlabMainControl:Tt,KlabLog:At,DataViewer:ne,ReportViewer:ce,KlabSpinner:g["a"]},watch:{},created:function(){"undefined"===typeof this.mainViewer&&this.setMainViewer(d["a"].DATA_VIEWER)},mounted:function(){var t=this;window.addEventListener("keydown",function(e){if(!t.modalVisible)return 27===e.keyCode&&t.searchIsActive?(t.searchStop(),void e.preventDefault()):void((38===e.keyCode||40===e.keyCode||e.keyCode>=65&&e.keyCode<=90)&&(t.searchIsActive?t.searchIsFocused||(t.searchFocus({char:e.key,focused:!0}),e.preventDefault()):(t.searchStart(e.key),e.preventDefault())))})}},he=ue,fe=(n("Q5EH"),n("QzLf"),Object(Y["a"])(he,i,s,!1,null,"df8a685c",null));fe.options.__file="index.vue";e["default"]=fe.exports},lTd8:function(t,e,n){},"lvq/":function(t,e,n){"use strict";var i=n("h2mt"),s=n.n(i);s.a},"on+m":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("vMmo");e.Draggable=i.Draggable},pmOm:function(t,e,n){"use strict";var i=n("lTd8"),s=n.n(i);s.a},pnqA:function(t,e,n){},"r/ek":function(t,e,n){"use strict";var i=n("ddfa"),s=n.n(i);s.a},s5Z1:function(t,e,n){},strc:function(t,e,n){(function(e,i){t.exports=i(n("OQAH"),n("Nafy"))})(0,function(t,e){"use strict";t="default"in t?t["default"]:t,e="default"in e?e["default"]:e;var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function t(e,n,i){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,n);if(void 0===s){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0},o=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},a=function(t){function a(t){n(this,a);var e=t||{},i=e.tipLabel?e.tipLabel:"Legend",s=document.createElement("div"),o=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,{element:s,target:e.target}));o.mapListeners=[],o.hiddenClassName="ol-unselectable ol-control layer-switcher",a.isTouchDevice_()&&(o.hiddenClassName+=" touch"),o.shownClassName="shown",s.className=o.hiddenClassName;var l=document.createElement("button");l.setAttribute("title",i),s.appendChild(l),o.panel=document.createElement("div"),o.panel.className="panel",s.appendChild(o.panel),a.enableTouchScroll_(o.panel);var c=o;return l.onmouseover=function(t){c.showPanel()},l.onclick=function(t){t=t||window.event,c.showPanel(),t.preventDefault()},c.panel.onmouseout=function(t){t=t||window.event,c.panel.contains(t.toElement||t.relatedTarget)||c.hidePanel()},o}return o(a,t),i(a,[{key:"setMap",value:function(t){for(var n=0;n<this.mapListeners.length;n++)e.unByKey(this.mapListeners[n]);if(this.mapListeners.length=0,s(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setMap",this).call(this,t),t){var i=this;this.mapListeners.push(t.on("pointerdown",function(){i.hidePanel()})),this.renderPanel()}}},{key:"showPanel",value:function(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.renderPanel())}},{key:"hidePanel",value:function(){this.element.classList.contains(this.shownClassName)&&this.element.classList.remove(this.shownClassName)}},{key:"renderPanel",value:function(){a.renderPanel(this.getMap(),this.panel)}}],[{key:"renderPanel",value:function(t,e){a.ensureTopVisibleBaseLayerShown_(t);while(e.firstChild)e.removeChild(e.firstChild);var n=document.createElement("ul");e.appendChild(n),a.renderLayers_(t,t,n)}},{key:"ensureTopVisibleBaseLayerShown_",value:function(t){var e;a.forEachRecursive(t,function(t,n,i){"base"===t.get("type")&&t.getVisible()&&(e=t)}),e&&a.setVisible_(t,e,!0)}},{key:"setVisible_",value:function(t,e,n){e.setVisible(n),n&&"base"===e.get("type")&&a.forEachRecursive(t,function(t,n,i){t!=e&&"base"===t.get("type")&&t.setVisible(!1)})}},{key:"renderLayer_",value:function(t,e,n){var i=document.createElement("li"),s=e.get("title"),o=a.uuid(),r=document.createElement("label");if(e.getLayers&&!e.get("combine")){i.className="group",r.innerHTML=s,i.appendChild(r);var l=document.createElement("ul");i.appendChild(l),a.renderLayers_(t,e,l)}else{i.className="layer";var c=document.createElement("input");"base"===e.get("type")?(c.type="radio",c.name="base"):c.type="checkbox",c.id=o,c.checked=e.get("visible"),c.onchange=function(n){a.setVisible_(t,e,n.target.checked)},i.appendChild(c),r.htmlFor=o,r.innerHTML=s;var d=t.getView().getResolution();(d>e.getMaxResolution()||d<e.getMinResolution())&&(r.className+=" disabled"),i.appendChild(r)}return i}},{key:"renderLayers_",value:function(t,e,n){for(var i,s=e.getLayers().getArray().slice().reverse(),o=0;o<s.length;o++)i=s[o],i.get("title")&&n.appendChild(a.renderLayer_(t,i,o))}},{key:"forEachRecursive",value:function(t,e){t.getLayers().forEach(function(t,n,i){e(t,n,i),t.getLayers&&a.forEachRecursive(t,e)})}},{key:"uuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})}},{key:"enableTouchScroll_",value:function(t){if(a.isTouchDevice_()){var e=0;t.addEventListener("touchstart",function(t){e=this.scrollTop+t.touches[0].pageY},!1),t.addEventListener("touchmove",function(t){this.scrollTop=e-t.touches[0].pageY},!1)}}},{key:"isTouchDevice_",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}}]),a}(t);return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=a),a})},vMmo:function(t,e,n){"use strict";var i,s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t};function o(t){return t&&t.$el||t}function r(t,e,n,i,s){void 0===s&&(s={});var o={left:n,top:i},r=t.height,a=t.width,l=i,c=i+r,d=n,u=n+a,h=s.top||0,f=s.bottom||0,p=s.left||0,g=s.right||0,v=e.top+h,m=e.bottom-f,b=e.left+p,y=e.right-g;return l<v?o.top=v:c>m&&(o.top=m-r),d<b?o.left=b:u>y&&(o.left=y-a),o}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t["Start"]=1]="Start",t[t["End"]=2]="End",t[t["Move"]=3]="Move"}(i||(i={})),e.Draggable={bind:function(t,n){e.Draggable.update(t,n)},update:function(t,e){if(!e.value||!e.value.stopDragging){var n=e.value&&e.value.handle&&o(e.value.handle)||t;e&&e.value&&e.value.resetInitialPos&&(p(),v()),n.getAttribute("draggable")||(t.removeEventListener("mousedown",t["listener"]),n.addEventListener("mousedown",u),n.setAttribute("draggable","true"),t["listener"]=u,p(),v())}function a(n){n.preventDefault();var i=e.value&&e.value.stopDragging;if(!i){var s=m();s.startDragPosition&&s.initialMousePos||(p(n),s=m());var o=n.clientX-s.initialMousePos.left,a=n.clientY-s.initialMousePos.top,d={left:s.startDragPosition.left+o,top:s.startDragPosition.top+a},u=l(),h=t.getBoundingClientRect();u&&h&&(d=r(h,u,d.left,d.top,e.value.boundingRectMargin)),g({currentDragPosition:d}),c(),v(n)}}function l(){if(e.value)return e.value.boundingRect||e.value.boundingElement&&e.value.boundingElement.getBoundingClientRect()}function c(){var e=m();e.currentDragPosition&&(t.style.position="fixed",t.style.left=e.currentDragPosition.left+"px",t.style.top=e.currentDragPosition.top+"px")}function d(t){var e=f();g({initialMousePos:void 0,startDragPosition:e,currentDragPosition:e}),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",d),v(t,i.End)}function u(t){g({initialMousePos:h(t)}),v(t,i.Start),document.addEventListener("mousemove",a),document.addEventListener("mouseup",d)}function h(t){return t&&{left:t.clientX,top:t.clientY}}function f(){var e=t.getBoundingClientRect();if(e.height&&e.width)return{left:e.left,top:e.top}}function p(t){var n=m(),i=e&&e.value&&e.value.initialPosition,s=n.initialPosition,o=f(),r=i||s||o;g({initialPosition:r,startDragPosition:r,currentDragPosition:r,initialMousePos:h(t)}),c()}function g(t){var e=m(),i=s({},e,t);n.setAttribute("draggable-state",JSON.stringify(i))}function v(t,n){var o=m(),r={x:0,y:0};o.currentDragPosition&&o.startDragPosition&&(r.x=o.currentDragPosition.left-o.startDragPosition.left,r.y=o.currentDragPosition.top-o.startDragPosition.top);var a=o.currentDragPosition&&s({},o.currentDragPosition);n===i.End?e.value&&e.value.onDragEnd&&o&&e.value.onDragEnd(r,a,t):n===i.Start?e.value&&e.value.onDragStart&&o&&e.value.onDragStart(r,a,t):e.value&&e.value.onPositionChange&&o&&e.value.onPositionChange(r,a,t)}function m(){return JSON.parse(n.getAttribute("draggable-state"))||{}}}}},vnoC:function(t,e,n){},vuMy:function(t,e,n){"use strict";var i=n("hlwC"),s=n.n(i);s.a},xY7i:function(t,e,n){}}]);