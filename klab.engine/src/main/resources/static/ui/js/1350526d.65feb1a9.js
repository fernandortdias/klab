(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1350526d"],{"0312":function(t,e){var i=!("undefined"===typeof window||!window.document||!window.document.createElement);t.exports=i},"0611":function(t,e,i){},"0880":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"klab-menu-component",attrs:{id:"klab-log-pane"}},[i("q-list",{staticClass:"no-padding no-margin no-border",attrs:{striped:"",dense:"",dark:"",id:"log-container"}},[0!==t.klabLogReversedAndFiltered().length?t._l(t.klabLogReversedAndFiltered(),function(e){return i("q-item",{key:e.id,staticClass:"log-item q-pa-xs"},[i("q-item-side",[i("q-item-tile",{staticStyle:{"font-size":"18px"},attrs:{icon:t.logColorAndIcon(e).icon,color:t.logColorAndIcon(e).color}})],1),i("q-item-main",[i("q-item-tile",[t._v(t._s(t.logText(e)))])],1)],1)}):[i("q-item",{staticClass:"log-no-items q-pa-xs"},[i("q-item-main",[i("q-item-tile",[t._v(t._s(t.$t("messages.noLogItems")))])],1)],1)]],2)],1)},s=[];n._withStripped=!0;var o,a=i("3156"),r=i.n(a),c=i("9523"),l=i.n(c),d=i("2f62"),h=i("d247"),u=i("a6f9"),f=(o={},l()(o,h["a"].TYPE_DEBUG,{icon:"mdi-console-line",color:"black"}),l()(o,h["a"].TYPE_INFO,{icon:"mdi-information",color:"info"}),l()(o,h["a"].TYPE_WARNING,{icon:"mdi-alert",color:"warning"}),l()(o,h["a"].TYPE_ERROR,{icon:"mdi-close-circle",color:"negative"}),o),p={name:"KLabLogPane",data:function(){return{scrollBar:null,log:null}},computed:r()({},Object(d["c"])("view",["klabLogReversedAndFiltered"])),methods:{logText:function(t){return t&&t.payload?"".concat(t.time?t.time.format("HH:mm:ss"):this.$t("messages.noTime"),": ").concat(t.payload):this.$t("label.klabNoMessage")},logColorAndIcon:function(t){return f[t.type]}},watch:{klabLog:function(){}},mounted:function(){this.scrollBar=new u["a"](document.getElementById("klab-log-pane"))}},m=p,v=(i("f58f"),i("2877")),g=Object(v["a"])(m,n,s,!1,null,null,null);g.options.__file="KlabLogPane.vue";e["a"]=g.exports},1288:function(t,e,i){},"15f6":function(t,e,i){},1848:function(t,e,i){"use strict";var n=i("98ab"),s=i.n(n);s.a},"19f2":function(t,e,i){"use strict";var n=i("8ac3"),s=i.n(n);s.a},"1c4c":function(t,e,i){"use strict";var n=i("9b43"),s=i("5ca1"),o=i("4bf8"),a=i("1fa8"),r=i("33a4"),c=i("9def"),l=i("f1ae"),d=i("27ee");s(s.S+s.F*!i("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,s,h,u=o(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,b=d(u);if(v&&(m=n(m,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&r(b))for(e=c(u.length),i=new f(e);e>g;g++)l(i,g,v?m(u[g],g):u[g]);else for(h=b.call(u),i=new f;!(s=h.next()).done;g++)l(i,g,v?a(h,m,[s.value,g],!0):s.value);return i.length=g,i}})},2573:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"klab-spinner",attrs:{width:t.size,height:t.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("image",{attrs:{x:"-100",y:"-100",width:"200",height:"200","xlink:href":i("4df2")}}),n("circle",{class:{moving:t.moving},style:{fill:t.ballColor},attrs:{id:"spinner-circle",cx:"0",cy:"-90",r:t.ball}})])},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=(i("c5f6"),i("fb82")),c=i("2f62"),l={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:r["a"].getBrand("primary")},ballColor:{type:String,default:"primary"},stroke:{type:String,default:"none"},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!1},wrapperId:{type:String,required:!0}},computed:a()({},Object(c["c"])("view",["spinner"]),{moving:function(){return this.storeControlled?this.spinner.animated:this.animated},realColor:function(){return this.storeControlled?this.spinner.color:this.color},errorMessage:function(){return this.spinner.errorMessage},isVisible:function(){var t;return null!==this.wrapperId&&(t=document.getElementById(this.wrapperId),!(!t||null==t||!t.style)&&!("none"===t.style.display))}}),watch:{errorMessage:function(t){var e;this.isVisible&&null!==t&&(e=t instanceof Error?t.message:t,console.error(e),this.$q.notify({message:e,type:"negative",timeout:1e3}))}}},d=l,h=(i("f7aa"),i("2877")),u=Object(h["a"])(d,n,s,!1,null,"304e23e7",null);u.options.__file="KlabSpinner.vue";e["a"]=u.exports},2590:function(t,e,i){"use strict";var n=i("1288"),s=i.n(n);s.a},"2cee":function(t,e,i){"use strict";i("6762"),i("2fdb");e["a"]={data:function(){return{ellipsed:[]}},methods:{tooltipIt:function(t,e){t.target.offsetWidth<t.target.scrollWidth?this.ellipsed.push(e):this.ellipsed.splice(this.ellipsed.indexOf(e),1)},needTooltip:function(t){return this.ellipsed.includes(t)},clearTooltip:function(){this.ellipsed=[]}}}},"36e4":function(t,e,i){},4917:function(t,e,i){"use strict";var n=i("cb7c"),s=i("9def"),o=i("0390"),a=i("5f1b");i("214f")("match",1,function(t,e,i,r){return[function(i){var n=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=r(i,t,this);if(e.done)return e.value;var c=n(t),l=String(this);if(!c.global)return a(c,l);var d=c.unicode;c.lastIndex=0;var h,u=[],f=0;while(null!==(h=a(c,l))){var p=String(h[0]);u[f]=p,""===p&&(c.lastIndex=o(l,s(c.lastIndex),d)),f++}return 0===f?null:u}]})},"4df2":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzAwIgogICBoZWlnaHQ9IjMxNS45MjI1OCIKICAgdmlld0JveD0iMCAwIDc5LjM3NDk5OCA4My41ODc4NTEiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzgiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImtsYWItc3Bpbm5lci5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1Ij4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMC45NjAxOTk4NCIKICAgICBpbmtzY2FwZTpjeD0iLTIzOS45OTE1MyIKICAgICBpbmtzY2FwZTpjeT0iNy4xMTA3MjY4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJtbSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDI4IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgdW5pdHM9InB4IgogICAgIGZpdC1tYXJnaW4tdG9wPSIwIgogICAgIGZpdC1tYXJnaW4tbGVmdD0iMCIKICAgICBmaXQtbWFyZ2luLXJpZ2h0PSIwIgogICAgIGZpdC1tYXJnaW4tYm90dG9tPSIwIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9ImtsYWItZWxlcGhhbnQtbGF5ZXIiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00My40NjU1NzQsLTE1NS4zNjMwOSkiPgogICAgPHBhdGgKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBpZD0ia2xhYi1lbGVwaGFudCIKICAgICAgIGQ9Im0gODQuNzYxOTA2LDIzOC44OTY5MSBjIDAsLTAuMDQ3MiAwLjE3NzcxOCwtMC4zODEwNyAwLjM5NDkzLC0wLjc0MTk3IDAuNzcxODU3LC0xLjI4MjQ4IDEuMzAwNTAxLC0yLjgzNjcxIDEuNDk2NDA2LC00LjM5OTUgMC4xMTg1ODQsLTAuOTQ1OTcgMC4wNjE4NiwtMi42NjMzNiAtMC4xMTgxNTIsLTMuNTc3MjkgLTAuNDUyNjU1LC0yLjI5ODExIC0xLjcwMzk3NiwtNC41NTk0NyAtMy40MDMwMzYsLTYuMTQ5ODkgLTAuNzI0MzA1LC0wLjY3Nzk5IC0xLjk4NDEwNiwtMS41NzU0OCAtMi4yMTE0ODYsLTEuNTc1NDggLTAuMDkwNjQsMCAtMC4xOTI1NDYsMC4xNTY0OCAtMC4zMjAyNTcsMC40OTE3NiAtMC4xMDMwMjQsMC4yNzA0NyAtMC4zOTQ0NTQsMC45MDEzMSAtMC42NDc2MTksMS40MDE4NiAtMi4wNjM4MDQsNC4wODA0NyAtNS44NDI3ODUsNi45MzAyOSAtMTAuNDk0NTcsNy45MTQyIC0wLjk0MTEzNiwwLjE5OTA3IC0xLjE2NzQ4NSwwLjIxNjY3IC0yLjgzMjU3NywwLjIyMDI5IC0xLjg5ODM1LDAuMDA0IC0yLjMyNDY5OSwtMC4wNDEzIC0zLjc3Njc2NywtMC40MDI3OSAtMC43MTQxODksLTAuMTc3NzcgLTIuMDY1MDQ1LC0wLjYzOTA4IC0yLjQyNjIzMiwtMC44Mjg1NCAtMC4yNDkwNjgsLTAuMTMwNjQgLTAuMDg3MDMsLTAuMTU0OTIgMC40MjAxNzQsLTAuMDYyOSAwLjI2ODgzNCwwLjA0ODcgMC45MzAzMTYsMC4xMTcyNiAxLjQ2OTk2LDAuMTUyMjYgNC4xMjA4NzEsMC4yNjcyNyA4LjEyNDIyNywtMS4yNDEwNiAxMS4wNDQyNzIsLTQuMTYxMTEgMC45ODM5NzcsLTAuOTgzOTcgMi4xNDk3NzcsLTIuNTE4NzMgMi4wMTUzNDUsLTIuNjUzMTYgLTAuMDI1MjMsLTAuMDI1MiAtMC40ODEwNjUsMC4xMzEzNiAtMS4wMTI5NTgsMC4zNDc5OSAtMC41MzE4OTYsMC4yMTY2MyAtMS4yNTAzNCwwLjQ4NTE5IC0xLjU5NjU0MywwLjU5Njc5IC01LjY3NTgzLDEuODI5NzggLTExLjk4MjI0OCwxLjA0OTg0IC0xNy4wMTIyNSwtMi4xMDM5NiAtMS44OTYzMDgsLTEuMTg4OTggLTMuNzYwNTU4LC0yLjg1NDA1IC01LjA1ODYwOCwtNC41MTgxMyAtNi4wMDAyMiwtNy42OTIxOSAtOC40MDU2MDcsLTE3LjQ0OTMzIC02LjY4MTU0OSwtMjcuMTAyODUgMC44Nzc1ODQsLTQuOTEzODYgMy40MjIyMTcsLTEwLjkxNDQ3IDYuNDYzNzEzLC0xNS4yNDIzNiAzLjI2NTcyNywtNC42NDY5NiA3LjY5OTc0MiwtOC43NzA3IDEyLjIyMzYxOSwtMTEuMzY4MjUgMS44MTczMjYsLTEuMDQzNDkgNC4zOTk0NzMsLTIuMjgwNDIgNC42NTEwMjQsLTIuMjI3OTggMC4wNzgzMiwwLjAxNjMgLTAuMDMyNTUsMC4yMzEyNiAtMC4zNjQzMTYsMC43MDYyNyAtMC4yNjIyOTksMC4zNzU1NSAtMC40NzY5MDYsMC43MjAxIC0wLjQ3NjkwNiwwLjc2NTY2IDAsMC4wODY0IDAuMDM2NjksMC4wOTY5IDAuODU2ODA1LDAuMjQzOTcgMS4wNDM3NDIsMC4xODcxOCAxLjA0ODY5NCwwLjE3MTQ3IC0wLjI2OTgzOSwwLjg1NjEzIC0zLjYyODU2NCwxLjg4NDE4IC02LjgzMjU0NSw0LjMwNjE0IC05LjQxNzE2Miw3LjExODY3IC01LjIxNjcwOCw1LjY3NjcgLTguMjg2NzAxLDEyLjYzOTUzIC04Ljk1NTI5NywyMC4zMTA4NyAtMC4xODc5MzUsMi4xNTYzMSAtMC4wNTg2MSw1LjgwMDQ2IDAuMjc5MjIzLDcuODY4MjYgMC42NjIzNTcsNC4wNTQxMSAwLjk5MjU0LDUuMjU4NDIgMi4wMDYyMjcsNy4zMTc0OSAxLjY5MzIxLDMuNDM5MzcgNC40MzEyNyw2LjE5OTU3IDcuODI5MDI0LDcuODkyMzQgMS42OTg3MTIsMC44NDYzIDMuMTMyMzE1LDEuMzA3NTMgNC4zNDk4MTQsMS4zOTk0NCAxLjgxMzc1LDAuMTM2OTIgMy45NTU5OTIsLTAuNTY2ODEgNS4yNTc5NzYsLTEuNzI3MjUgMS4xMDE5NzksLTAuOTgyMTggMi4zNTU5NDEsLTMuNDg2MSAyLjk4MTI3NCwtNS45NTMwMiAwLjQ2NTAxMSwtMS44MzQ0NiAwLjY0MzY1OSwtMy41NTcwMiAwLjc0MjQyNSwtNy4xNTg2MyAwLjA3NjQ2LC0yLjc4ODM2IDAuMTUwNTE0LC0zLjQwNDIyIDAuNTk2MjIxLC00Ljk1ODU1IDEuNDMzNjAxLC00Ljk5OTQ0IDQuMjMyNjI4LC05LjQ5NjM5IDcuNzQ4ODI2LC0xMi40NDkzNSAyLjE4NzkzNiwtMS44Mzc0NyA1LjE3MDMwMywtMy40MDcwNiA3Ljc0NTkyOSwtNC4wNzY2MyAyLjk5Mjc1NiwtMC43NzggNS44Mzc0MDUsLTAuODk4NTcgOC45MzgyODUsLTAuMzc4ODYgbCAwLjk4NzAxOSwwLjE2NTQzIDAuNDAzNjgxLC0wLjI0ODM5IGMgMC43MTYwNjQsLTAuNDQwNiAxLjMwMDkyMiwtMC42MjA4MSAzLjMzNDU5NiwtMS4wMjc0NyA1LjM4OTMyLC0xLjA3NzY2IDguMjU1MTIsLTIuMTQyNzMgMTEuMzgzNzksLTQuMjMwNzIgMC41MzQ5NywtMC4zNTcwMyAwLjk5OTMzLC0wLjY0OTE0IDEuMDMxOTMsLTAuNjQ5MTQgMC4wNywwIDEuMjA3NDgsMS41NDc5OCAxLjg3OTEsMi41NTcxOSA1LjgxNDUzLDguNzM3MjEgNy45MjIzOSwxOS41MTcwNSA1LjgzODc0LDI5Ljg2MDA4IC0yLjIzMjI1LDExLjA4MDY0IC05LjAwMzgsMjAuNTg3NDkgLTE4LjgwMzc3LDI2LjM5OTM2IC00Ljc1ODY4LDIuODIyMTIgLTEwLjU4MTc2LDQuNzMwMTEgLTE2LjA1MTI3MSw1LjI1OTMzIC0yLjExMDc5NCwwLjIwNDI0IC0yLjQzOTE2MywwLjIyMTU1IC0yLjQzOTE2MywwLjEyODU3IHogTSA4MC44NzMwNDUsMjAyLjgwODIgYyAwLjUwMDc3NSwtMC4yNDUyMSAxLjA3OTcwNywtMC44Mjk2NyAxLjI5MjQxNiwtMS4zMDQ3OCAwLjE4NDA4MiwtMC40MTExNiAwLjEyNDI4MywtMC40OTcwOSAtMC41NTk0NTksLTAuODAzOTMgLTEuMjQyNDQ4LC0wLjU1NzU4IC0yLjk1MzE1LC0wLjIwNjYxIC0zLjk1MzI5MSwwLjgxMTA2IC0wLjI5NDAzLDAuMjk5MTkgLTAuMzY5OTcsMC40MjU4OCAtMC4zMzAyNjMsMC41NTA5OSAwLjA2MTAzLDAuMTkyMjggMC42ODcyMjMsMC42Njg1MSAxLjExNjY3OCwwLjg0OTI1IDAuNzA2NzY4LDAuMjk3NDUgMS43MDI2NjIsMC4yNTU0NyAyLjQzMzkxOSwtMC4xMDI1OSB6IgogICAgICAgc3R5bGU9ImZpbGw6IzAxMDEwMjtzdHJva2Utd2lkdGg6MC4wNzg2ODI2OSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGUzMzk1Ij5rLkxBQiBFbGVwaGFudDwvdGl0bGU+CiAgICA8L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},"50fb":function(t,e,i){var n,s,o;/*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */ /*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */
(function(i,a){s=[],n=a,o="function"===typeof n?n.apply(e,s):n,void 0===o||(t.exports=o)})(0,function(){"use strict";function t(){if("undefined"===typeof document)return 0;var t,e=document.body,i=document.createElement("div"),n=i.style;return n.position="absolute",n.top=n.left="-9999px",n.width=n.height="100px",n.overflow="scroll",e.appendChild(i),t=i.offsetWidth-i.clientWidth,e.removeChild(i),t}return t})},"5b35":function(t,e,i){"use strict";var n=i("b878"),s=i.n(n);s.a},"5df3":function(t,e,i){"use strict";var n=i("02f4")(!0);i("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},6208:function(t,e,i){"use strict";var n=i("6cea"),s=i.n(n);s.a},6774:function(t,e,i){"use strict";var n=i("36e4"),s=i.n(n);s.a},"6cea":function(t,e,i){},"6dd8":function(t,e,i){"use strict";(function(t){var i=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,n){return t[0]===e&&(i=n,!0)}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var s=n[i];t.call(e,s[1],s[0])}},e}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,s=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),a=2;function r(t,e){var i=!1,n=!1,s=0;function r(){i&&(i=!1,t()),n&&l()}function c(){o(r)}function l(){var t=Date.now();if(i){if(t-s<a)return;n=!0}else i=!0,n=!1,setTimeout(c,e);s=t}return l}var c=20,l=["top","right","bottom","left","width","height","size","weight"],d="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=r(this.refresh.bind(this),c)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e,n=l.some(function(t){return!!~i.indexOf(t)});n&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),u=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var s=n[i];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||s},p=k(0,0,0,0);function m(t){return parseFloat(t)||0}function v(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){var n=t["border-"+i+"-width"];return e+m(n)},0)}function g(t){for(var e=["top","right","bottom","left"],i={},n=0,s=e;n<s.length;n++){var o=s[n],a=t["padding-"+o];i[o]=m(a)}return i}function b(t){var e=t.getBBox();return k(0,0,e.width,e.height)}function y(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n=f(t).getComputedStyle(t),s=g(n),o=s.left+s.right,a=s.top+s.bottom,r=m(n.width),c=m(n.height);if("border-box"===n.boxSizing&&(Math.round(r+o)!==e&&(r-=v(n,"left","right")+o),Math.round(c+a)!==i&&(c-=v(n,"top","bottom")+a)),!I(t)){var l=Math.round(r+o)-e,d=Math.round(c+a)-i;1!==Math.abs(l)&&(r-=l),1!==Math.abs(d)&&(c-=d)}return k(s.left,s.top,r,c)}var w=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"===typeof t.getBBox}}();function I(t){return t===f(t).document.documentElement}function C(t){return n?w(t)?b(t):y(t):p}function M(t){var e=t.x,i=t.y,n=t.width,s=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return u(a,{x:e,y:i,width:n,height:s,top:i,right:e+n,bottom:s+i,left:e}),a}function k(t,e,i,n){return{x:t,y:e,width:i,height:n}}var S=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=C(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),x=function(){function t(t,e){var i=M(e);u(this,{target:t,contentRect:i})}return t}(),T=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new i,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new S(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new x(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),N="undefined"!==typeof WeakMap?new WeakMap:new i,A=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=h.getInstance(),n=new T(e,i,this);N.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach(function(t){A.prototype[t]=function(){var e;return(e=N.get(this))[t].apply(e,arguments)}});var E=function(){return"undefined"!==typeof s.ResizeObserver?s.ResizeObserver:A}();e["a"]=E}).call(this,i("c8ba"))},"7bae":function(t,e,i){},"84a2":function(t,e,i){(function(e){var i="Expected a function",n=NaN,s="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,u=d||h||Function("return this")(),f=Object.prototype,p=f.toString,m=Math.max,v=Math.min,g=function(){return u.Date.now()};function b(t,e,n){var s,o,a,r,c,l,d=0,h=!1,u=!1,f=!0;if("function"!=typeof t)throw new TypeError(i);function p(e){var i=s,n=o;return s=o=void 0,d=e,r=t.apply(n,i),r}function b(t){return d=t,c=setTimeout(C,e),h?p(t):r}function y(t){var i=t-l,n=t-d,s=e-i;return u?v(s,a-n):s}function I(t){var i=t-l,n=t-d;return void 0===l||i>=e||i<0||u&&n>=a}function C(){var t=g();if(I(t))return k(t);c=setTimeout(C,y(t))}function k(t){return c=void 0,f&&s?p(t):(s=o=void 0,r)}function S(){void 0!==c&&clearTimeout(c),d=0,s=l=o=c=void 0}function x(){return void 0===c?r:k(g())}function T(){var t=g(),i=I(t);if(s=arguments,o=this,l=t,i){if(void 0===c)return b(l);if(u)return c=setTimeout(C,e),p(l)}return void 0===c&&(c=setTimeout(C,e)),r}return e=M(e)||0,w(n)&&(h=!!n.leading,u="maxWait"in n,a=u?m(M(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),T.cancel=S,T.flush=x,T}function y(t,e,n){var s=!0,o=!0;if("function"!=typeof t)throw new TypeError(i);return w(n)&&(s="leading"in n?!!n.leading:s,o="trailing"in n?!!n.trailing:o),b(t,e,{leading:s,maxWait:e,trailing:o})}function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function I(t){return!!t&&"object"==typeof t}function C(t){return"symbol"==typeof t||I(t)&&p.call(t)==s}function M(t){if("number"==typeof t)return t;if(C(t))return n;if(w(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=w(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var i=r.test(t);return i||c.test(t)?l(t.slice(2),i?2:8):a.test(t)?n:+t}t.exports=y}).call(this,i("c8ba"))},"84fd":function(t,e,i){},8784:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sr-container",class:[t.light?"sr-light":"sr-dark","vertical"===t.orientation?"sr-vertical":""],style:{width:t.width},on:{click:function(e){t.scaleEditing=t.editable}}},[t.hasScale?i("div",{staticClass:"sr-scalereference klab-menuitem",class:{"sr-full":t.full,"klab-clickable":t.editable}},[t.full?i("div",{staticClass:"sr-locked klab-item mdi sr-icon",class:[t.isScaleLocked[t.scaleType]?"mdi-lock-outline":"mdi-lock-open-outline"],style:{cursor:t.isScaleLocked[t.scaleType]?"pointer":"default"},on:{click:function(e){e.preventDefault(),t.isScaleLocked&&t.unlockScale(e)}}},[i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isScaleLocked[t.scaleType],expression:"isScaleLocked[scaleType]"}],attrs:{anchor:"bottom middle",self:"top middle",offset:[0,5]}},[t._v(t._s(t.$t("label.clickToUnlock")))])],1):t._e(),i("div",{staticClass:"sr-editables",style:{cursor:t.editable?"pointer":"default"}},[i("div",{staticClass:"sr-scaletype klab-item",class:["space"===t.scaleType?"mdi "+t.type+" sr-icon":""]},[t._v(t._s("time"===t.scaleType?t.type:""))]),i("div",{staticClass:"sr-description klab-item"},[t._v(t._s(t.description))]),i("div",{staticClass:"sr-spacescale klab-item"},[t._v(t._s(t.scale))]),t.editable?i("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[0,5]}},[t._v(t._s(t.$t("label.clickToEditScale")))]):t._e()],1)]):i("div",{staticClass:"sr-no-scalereference"},[i("p",[t._v(t._s(t.$t("label.noScaleReference")))])])])},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=i("2f62"),c=i("c1df"),l=i.n(c),d=i("17dc"),h={name:"ScaleReference",props:{scaleType:{type:String,validator:function(t){return-1!==["space","time"].indexOf(t)},default:"space"},width:{type:String,default:"150px"},light:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},full:{type:Boolean,default:!1},orientation:{type:String,default:"horizontal"}},computed:a()({},Object(r["c"])("data",["scaleReference","isScaleLocked"]),{resolution:function(){return"space"===this.scaleType?this.scaleReference.spaceResolution:""},unit:function(){return"space"===this.scaleType?this.scaleReference.spaceUnit:l()().year()},type:function(){return"space"===this.scaleType?"mdi-grid":"YEAR"},description:function(){return"space"===this.scaleType?"".concat(this.resolution," ").concat(this.unit):this.unit},scale:function(){return"space"===this.scaleType?this.scaleReference.spaceScale:"3"},hasScale:function(){return null!==this.scaleReference},scaleEditing:{get:function(){return this.$store.getters["view/isScaleEditing"]},set:function(t){this.setScaleEditing({active:t,type:this.scaleType})}}}),methods:a()({},Object(r["b"])("data",["setScaleLocked"]),Object(r["b"])("view",["setScaleEditing"]),{unlockScale:function(t){t.stopPropagation(),this.sendStompMessage(d["a"].SCALE_REFERENCE({scaleReference:this.scaleReference,unlockSpace:"space"===this.scaleType,unlockTime:"time"===this.scaleType},this.$store.state.data.session).body),this.setScaleLocked({scaleType:this.scaleType,scaleLocked:!1})}})},u=h,f=(i("cf611"),i("2877")),p=Object(f["a"])(u,n,s,!1,null,null,null);p.options.__file="ScaleReference.vue";e["a"]=p.exports},"8ac3":function(t,e,i){},"8e08":function(t,e,i){},"98ab":function(t,e,i){},9967:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"klab-tree-pane"}},[i("klab-splitter",{attrs:{margin:0,hidden:t.hasObservationInfo?"":"right"},on:{"close-info":t.onCloseInfo}},[i("div",{staticClass:"full-height",attrs:{slot:"left-pane",id:"ktp-left"},slot:"left-pane"},[t.hasTree?i("klab-tree",{ref:"klab-tree-component",class:{"with-splitter":t.hasObservationInfo}}):i("div",{staticClass:"q-ma-md text-center text-white"},[t._v("\n        "+t._s(t.$t("label.noObservation"))+"\n      ")])],1),i("div",{staticClass:"full-height",attrs:{slot:"right-pane",id:"ktp-right"},slot:"right-pane"},[t.hasObservationInfo?i("observation-info",{on:{shownode:function(e){t.informTree(e)}}}):t._e()],1)])],1)},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative-position klab-menu-component",class:{loading:t.taskIsAlive},attrs:{id:"kt-container"}},[i("div",{staticClass:"simplebar-vertical-only",attrs:{id:"kt-tree-container"}},[i("q-tree",{ref:"klab-tree",attrs:{nodes:t.visibleTree(t.filter),"node-key":"id",ticked:t.ticked,selected:t.selected,expanded:t.expanded,"tick-strategy":"strict","text-color":"white","control-color":"white",color:"white",dark:!0},on:{"update:ticked":function(e){t.ticked=e},"update:selected":function(e){t.selected=e},"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"header-default",fn:function(e){return i("div",{},[i("span",{directives:[{name:"ripple",rawName:"v-ripple",value:e.node.main,expression:"prop.node.main"}],class:["node-element",e.node.main?"node-emphasized":"",t.hasObservationInfo&&t.observationInfo.id===e.node.id?"node-selected":""],attrs:{id:"node-"+e.node.id}},[t._v(t._s(e.node.label)+"\n          "),i("q-tooltip",{staticClass:"kt-q-tooltip",attrs:{delay:300,offset:[0,8],self:"top left",anchor:"bottom middle"}},[t._v(t._s(t.clearObservable(e.node.observable)))])],1),e.node.empty?t._e():i("q-btn",{staticClass:"kt-download",style:{right:e.node.children.length>0?"35px":"undefined"!==typeof e.node.idx?e.node.siblingCount>100?e.node.idx>100?"80px":"70px":"62px":"10px"},attrs:{round:"",flat:"",size:"sm",icon:"mdi-arrow-down"},nativeOn:{click:function(i){t.askForOutputFormat(i,e.node.id,e.node.exportFormats)}}}),e.node.children.length>0?[i("q-chip",{staticClass:"node-chip",attrs:{color:"white",small:"",dense:"","text-color":"grey-7"}},[t._v(t._s(e.node.children.length))])]:t._e(),[i("q-chip",{directives:[{name:"show",rawName:"v-show",value:"undefined"!==typeof e.node.idx,expression:"typeof prop.node.idx !== 'undefined'"}],staticClass:"node-chip transparent",attrs:{small:"",dense:"","text-color":"grey-9"}},[t._v("\n            "+t._s(t.$t("label.itemCounter",{loaded:e.node.idx+1,total:e.node.siblingCount}))+"\n          ")])]],2)}},{key:"header-folder",fn:function(e){return i("div",{},[i("span",{directives:[{name:"ripple",rawName:"v-ripple",value:e.node.main,expression:"prop.node.main"}],class:["node-element",e.node.main?"node-emphasized":""],attrs:{id:"node-"+e.node.id}},[t._v(t._s(e.node.label))]),i("q-chip",{staticClass:"node-chip",attrs:{color:"white",small:"",dense:"","text-color":"grey-7"}},[t._v(t._s(e.node.siblingCount?e.node.siblingCount:e.node.children.length))])],1)}}])})],1)])},c=[];r._withStripped=!0;i("ac6a");var l=i("448a"),d=i.n(l),h=(i("20d6"),i("7514"),i("2f62")),u=i("b12a"),f=i("7cca"),p=i("a6f9"),m={name:"klabTree",data:function(){return{ticked:[],selected:null,expanded:[],enableContextMenu:!1,itemActions:[],itemObservationId:null,askingForSiblings:!1,scrollElement:null,showPopover:null}},computed:a()({},Object(h["c"])("data",["tree","visibleTree","treeNode","lasts","contextReloaded","contextId"]),Object(h["c"])("stomp",["tasks"]),Object(h["c"])("view",["observationInfo","hasObservationInfo"]),Object(h["d"])("view",["treeSelected","treeTicked","treeExpanded","showNotified"]),{filter:function(){return this.showNotified===u["a"].PARAMS_NOTIFIED_ONLY?"filter-active":""},taskIsAlive:function(){var t=this;return"undefined"!==typeof this.tasks.find(function(e){return e.contextId===t.contextId&&e.alive})}}),methods:a()({},Object(h["b"])("data",["hideNode","showNode","selectNode","askForSiblings","setFolderVisibility"]),Object(h["b"])("view",["setSpinner"]),{filterMethod:function(t){return!this.contextReloaded||t.notified},clearObservable:function(t){return 0===t.indexOf("(")&&t.lastIndexOf(")")===t.length-1?t.substring(1,t.length-1):t},askForOutputFormat:function(t,e,i){var n=this;null!==i&&i.length>0?(t.stopPropagation(),this.$q.dialog({title:this.$t("label.titleOutputFormat"),message:this.$t("label.askForOuputFormat"),options:{type:"radio",model:i[0].value,items:i},cancel:!0,preventClose:!1,color:"info"}).then(function(t){n.askDownload(e,t)}).catch(function(){})):this.$q.notify({message:"No available formats",type:"warn",timeout:200})},askDownload:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;u["b"].getAxiosContent("dw_".concat(t),"".concat("").concat("/modeler/engine/session/view/","data/").concat(t),{params:{format:"RAW",outputFormat:e},responseType:"blob"},function(t,n){var s=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=s,o.setAttribute("download","".concat(i,".").concat(e)),document.body.appendChild(o),o.click(),n()})},changeNodeState:function(t){var e=t.nodeId,i=t.state;"undefined"!==typeof this.$refs["klab-tree"]&&this.$refs["klab-tree"].setTicked([e],i)}}),watch:{treeSelected:function(t){t!==this.selected&&(this.selected=t)},expanded:function(t){this.$store.state.view.treeExpanded=t},selected:function(t){null!==t?0===t.indexOf("ff_")?this.selected=null:this.selectNode(t):this.selectNode(null)},ticked:function(t,e){var i=this;if(this.$store.state.view.treeTicked=t,e.length!==t.length)if(e.length>t.length){var n=e.filter(function(e){return t.indexOf(e)<0})[0],s=u["b"].findNodeById(this.tree,n);s&&(s.type===u["a"].GEOMTYP_FOLDER?(this.setFolderVisibility({folderId:s.id,visible:!1}),this.ticked=this.ticked.filter(function(t){return-1===s.children.findIndex(function(e){return e.id===t})})):this.hideNode(n))}else{var o=t[t.length-1],a=u["b"].findNodeById(this.tree,o);if(a.type===u["a"].GEOMTYP_FOLDER){var r=function(){var t;i.setFolderVisibility({folderId:a.id,visible:!0}),(t=i.ticked).push.apply(t,d()(a.children.map(function(t){return t.id})))};if(a.siblingsLoaded<a.siblingCount&&!this.askingForSiblings){this.askingForSiblings=!0;var c=this.lasts.find(function(t){return t.folderId===a.id});this.askForSiblings({nodeId:c.observationId,folderId:c.folderId,offset:a.siblingsLoaded-1,count:-1,toTree:!1,visible:!0}).then(function(){i.askingForSiblings=!1,r()})}else r()}else this.showNode({nodeId:o,selectMainViewer:!0})}}},mounted:function(){var t=this;this.scrollElement=new p["a"](document.getElementById("kt-tree-container")).getScrollElement(),this.scrollElement.addEventListener("scroll",function(e){if(t.askingForSiblings)return e.preventDefault(),void console.debug("KlabTree -> We are asking for tree now, this call is not need so exit");if(0===t.lasts.length)return e.preventDefault(),void console.debug("KlabTree -> There aren't incompleted folders, exit");var i=t.scrollElement.getBoundingClientRect(),n=i.bottom;t.lasts.forEach(function(e){var i=document.getElementById("node-".concat(e.observationId));if(null!==i){var s=i.getBoundingClientRect();if(0!==s.bottom&&s.bottom<n){t.askingForSiblings=!0;var o=u["b"].findNodeById(t.tree,e.folderId);t.askForSiblings({nodeId:e.observationId,folderId:e.folderId,offset:e.offset,count:t.$store.state.data.siblingsToAskFor,visible:"undefined"!==typeof o.ticked&&o.ticked}).then(function(){t.askingForSiblings=!1,console.debug("KlabTree -> Asked for them"),t.$eventBus.$emit(f["a"].UPDATE_FOLDER,{folderId:e.folderId,visible:"undefined"!==typeof o.ticked&&o.ticked})})}}})}),this.$eventBus.$on(f["a"].UPDATE_FOLDER,function(e){if(e&&e.folderId){var i=u["b"].findNodeById(t.tree,e.folderId);i&&null!==i&&(e.visible?t.$refs["klab-tree"].setTicked(i.children.map(function(t){return t.id}),!0):t.$refs["klab-tree"].setTicked(t.ticked.filter(function(t){return-1===i.children.findIndex(function(e){return e.id===t})}),!1))}}),this.selected=this.treeSelected,this.ticked=this.treeTicked,this.expanded=this.treeExpanded}},v=m,g=(i("5b35"),i("2877")),b=Object(g["a"])(v,r,c,!1,null,null,null);b.options.__file="KlabTree.vue";var y=b.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"full-height",attrs:{id:"splitter-container"}},[!t.hidden&&t.controllers?i("div",{staticClass:"splitter-controllers"},[t.onlyOpenClose?t._e():[i("q-btn",{staticClass:"no-padding splitter-actions",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-left",icon:"mdi-arrow-left"},nativeOn:{click:function(e){t.percent=0}}}),i("q-btn",{staticClass:"no-padding splitter-actions rotate-90",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-middle",icon:"mdi-format-align-middle"},nativeOn:{click:function(e){t.percent=50}}}),i("q-btn",{staticClass:"no-padding splitter-actions",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-to-right",icon:"mdi-arrow-right"},nativeOn:{click:function(e){t.percent=100}}})],i("q-btn",{staticClass:"no-padding splitter-actions",style:{color:t.controlsColor},attrs:{flat:"",round:"",size:"sm",id:"splitter-close",icon:"mdi-close"},nativeOn:{click:function(e){t.$emit("close-info")}}})],2):t._e(),i("div",t._g({staticClass:"vue-splitter",style:{cursor:t.cursor,flexDirection:t.flexDirection}},t.onlyOpenClose?{}:{mouseup:t.onUp,mousemove:t.onMouseMove,touchmove:t.onMove,touchend:t.onUp}),[i("div",{staticClass:"left-pane splitter-pane",style:t.leftPaneStyle},[t._t("left-pane")],2),t.hidden?t._e():[t.onlyOpenClose?t._e():i("div",t._g({staticClass:"splitter",class:{active:t.active},style:t.splitterStyle},t.onlyOpenClose?{}:{mousedown:t.onDown,touchstart:t.onDown})),i("div",{staticClass:"right-pane splitter-pane",style:t.rightPaneStyle},[t._t("right-pane")],2)]],2)])},I=[];w._withStripped=!0;i("c5f6");var C={props:{margin:{type:Number,default:10},horizontal:{type:Boolean,default:!1},hidden:{type:String,default:""},splitterColor:{type:String,default:"rgba(0, 0, 0, 0.2)"},controlsColor:{type:String,default:"rgba(192, 192, 192)"},splitterSize:{type:Number,default:3},controllers:{type:Boolean,default:!0},onlyOpenClose:{type:Boolean,default:!0}},data:function(){return{active:!1,percent:"left"===this.hidden?0:"right"===this.hidden?100:this.onlyOpenClose?0:50,hasMoved:!1}},computed:{flexDirection:function(){return this.horizontal?"column":"row"},splitterStyle:function(){return this.horizontal?{height:"".concat(this.splitterSize,"px"),cursor:"ns-resize","background-color":this.splitterColor}:{width:"".concat(this.splitterSize,"px"),cursor:"ew-resize","background-color":this.splitterColor}},leftPaneStyle:function(){return this.horizontal?{height:"".concat(this.percent,"%")}:{width:"".concat(this.percent,"%")}},rightPaneStyle:function(){return this.horizontal?{height:"".concat(100-this.percent,"%")}:{width:"".concat(100-this.percent,"%")}},cursor:function(){return this.active?this.horizontal?"ns-resize":"ew-resize":""}},methods:{onDown:function(){this.active=!0,this.hasMoved=!1},onUp:function(){this.active=!1},onMove:function(t){var e=0,i=t.currentTarget,n=0;if(this.active){if(this.horizontal){while(i)e+=i.offsetTop,i=i.offsetParent;n=Math.floor((t.pageY-e)/t.currentTarget.offsetHeight*1e4)/100}else{while(i)e+=i.offsetLeft,i=i.offsetParent;n=Math.floor((t.pageX-e)/t.currentTarget.offsetWidth*1e4)/100}n>this.margin&&n<100-this.margin&&(this.percent=n),this.$emit("splitterresize"),this.hasMoved=!0}},onMouseMove:function(t){0!==t.buttons&&0!==t.which||(this.active=!1),this.onMove(t)}},watch:{hidden:function(){this.percent="left"===this.hidden?0:"right"===this.hidden?100:this.onlyOpenClose?0:50}}},M=C,k=(i("1848"),Object(g["a"])(M,w,I,!1,null,null,null));k.options.__file="KlabSplitter.vue";var S=k.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relative-position klab-menu-component",attrs:{id:"oi-container"}},[i("div",{attrs:{id:"oi-controls"}},[i("div",{staticClass:"oi-control oi-text",attrs:{id:"oi-visualize"}},[i("q-checkbox",{attrs:{"keep-color":!0,color:"mc-yellow"},nativeOn:{click:function(e){return t.showNode(e)}},model:{value:t.layerShow,callback:function(e){t.layerShow=e},expression:"layerShow"}})],1),i("div",{staticClass:"oi-control oi-text",attrs:{id:"oi-name"}},[i("span",[t._v(t._s(t.observationInfo.label))])]),t.observationInfo.visible?i("div",{staticClass:"oi-control",attrs:{id:"oi-slider"}},[i("q-slider",{attrs:{min:0,max:1,step:.1,decimals:1,color:"mc-yellow",label:!1},model:{value:t.observationInfo.layerOpacity,callback:function(e){t.$set(t.observationInfo,"layerOpacity",e)},expression:"observationInfo.layerOpacity"}})],1):t._e()]),i("div",{class:t.getContainerClasses(),attrs:{id:"oi-metadata-map-wrapper"}},[i("div",{class:[this.exploreMode?"with-mapinfo":""],attrs:{id:"oi-scroll-container"}},[i("div",{attrs:{id:"oi-scroll-metadata-container"}},t._l(t.observationInfo.metadata,function(e,n){return i("div",{key:n,attrs:{id:"oi-metadata"}},[i("div",{staticClass:"oi-metadata-name oi-text"},[t._v(t._s(n))]),i("div",{staticClass:"oi-metadata-value",on:{dblclick:function(i){t.copyToClipboard(e)}}},[t._v(t._s(e))])])}))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasMapInfo,expression:"hasMapInfo"}],attrs:{id:"oi-mapinfo-container"},on:{mouseenter:function(e){t.infoShowed={index:0,categories:[],values:[t.mapSelection.value]}},mouseleave:t.resetInfoShowed}},[i("div",{attrs:{id:"oi-mapinfo-map"}}),i("div",{staticClass:"oi-pixel-indicator",attrs:{id:"oi-pixel-h"}}),i("div",{staticClass:"oi-pixel-indicator",attrs:{id:"oi-pixel-v"}})])]),null!==t.observationInfo.dataSummary?i("div",{style:{"min-width":Math.max(4*t.observationInfo.dataSummary.histogram.length,256)+"px"},attrs:{id:"oi-histogram-container"},on:{mouseleave:function(e){t.resetInfoShowed()}}},[t.hasHistogram?i("div",{class:[null!==this.observationInfo.colormap?"with-colormap":""],attrs:{id:"oi-histogram"}},t._l(t.observationInfo.dataSummary.histogram,function(e,n){return i("div",{key:n,staticClass:"oi-histogram-col",style:{width:t.histogramWidth+"%"},on:{mouseover:function(e){t.infoShowed={index:n,categories:t.observationInfo.dataSummary.categories,values:t.observationInfo.dataSummary.histogram}}}},[i("q-tooltip",{attrs:{offset:[0,10],delay:500}},[t._v(t._s(t.infoShowed.values[t.infoShowed.index]))]),i("div",{staticClass:"oi-histogram-val",style:{height:t.getHistogramDataHeight(e)+"%"}})],1)})):i("div",{attrs:{id:"oi-histogram-nodata"}},[t._v(t._s(t.$t("label.noHistogramData")))]),null!==t.observationInfo.colormap?i("div",{style:{"min-width":Math.min(t.observationInfo.colormap.colors.length,256)+"px"},attrs:{id:"oi-colormap"}},t._l(t.observationInfo.colormap.colors,function(e,n){return i("div",{key:n,staticClass:"oi-colormap-col",style:{width:t.colormapWidth+"%","background-color":e},on:{mouseover:function(e){t.infoShowed={index:n,categories:[],values:t.observationInfo.colormap.labels}}}})})):t._e(),i("div",{attrs:{id:"oi-data-details"}},[i("div",{staticClass:"oi-data-details",attrs:{id:"oi-histogram-min"},on:{mouseover:function(e){t.tooltipIt(e,"q-hmin-"+t.infoShowed.index)}}},[t._v(t._s(t.histogramMin)),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.needTooltip("q-hmin-"+t.infoShowed.index),expression:"needTooltip(`q-hmin-${infoShowed.index}`)"}],staticClass:"oi-tooltip"},[t._v(t._s(t.histogramMin))])],1),-1===t.infoShowed.index?[i("div",{staticClass:"oi-data-details",attrs:{id:"oi-data-nodetail"}},[t._v(t._s(t.$t("label.noInfoValues")))])]:[i("div",{staticClass:"oi-data-details",attrs:{id:"oi-data-detail"},on:{mouseover:function(e){t.tooltipIt(e,"q-hdata-"+t.infoShowed.index)}}},[t._v("\n          "+t._s(t.infoShowedText)+"\n          "),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.needTooltip("q-hdata-"+t.infoShowed.index),expression:"needTooltip(`q-hdata-${infoShowed.index}`)"}],staticClass:"oi-tooltip",attrs:{anchor:"center right",self:"center left",offset:[10,10]}},[t._v("\n            "+t._s(t.infoShowedText)+"\n          ")])],1)],i("div",{staticClass:"oi-data-details",attrs:{id:"oi-histogram-max"},on:{mouseover:function(e){t.tooltipIt(e,"q-hmax-"+t.infoShowed.index)}}},[t._v(t._s(t.histogramMax)),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.needTooltip("q-hmax-"+t.infoShowed.index),expression:"needTooltip(`q-hmax-${infoShowed.index}`)"}],staticClass:"oi-tooltip"},[t._v(t._s(t.histogramMax))])],1)],2)]):t._e()])},T=[];x._withStripped=!0;i("cadf");var N=i("b0b2"),A=i("2cee"),E=i("5eee"),O=i("a2c7"),_=i("1442"),L={name:"ObservationInfo",mixins:[A["a"]],data:function(){return{scrollBar:void 0,layerShow:!1,infoShowed:{index:-1,categories:[],values:[]},infoMap:null}},computed:a()({},Object(h["c"])("view",["observationInfo","mapSelection","exploreMode"]),{hasHistogram:function(){return this.observationInfo.dataSummary.histogram.length>0},maxHistogramValue:function(){return Math.max.apply(null,this.observationInfo.dataSummary.histogram)},histogramWidth:function(){return 100/this.observationInfo.dataSummary.histogram.length},histogramMin:function(){return"NaN"===this.observationInfo.dataSummary.minValue?"":Math.round(100*this.observationInfo.dataSummary.minValue)/100},histogramMax:function(){return"NaN"===this.observationInfo.dataSummary.maxValue?"":Math.round(100*this.observationInfo.dataSummary.maxValue)/100},colormapWidth:function(){return 100/this.observationInfo.colormap.colors.length},hasMapInfo:function(){return this.exploreMode&&null!==this.mapSelection.pixelSelected&&"cl_".concat(this.observationInfo.id)===this.mapSelection.layerSelected.get("id")},infoShowedText:function(){var t;return this.infoShowed.categories.length>0&&(t=this.infoShowed.categories[this.infoShowed.index],"undefined"!==typeof t&&null!==t&&""!==t)?t:this.infoShowed.values.length>0&&(t=this.infoShowed.values[this.infoShowed.index],"undefined"!==typeof t&&null!==t&&""!==t)?t:""}}),methods:{getHistogramDataHeight:function(t){return 100*t/this.maxHistogramValue},copyToClipboard:function(t){N["d"].copyToClipboard(t),this.$q.notify({message:this.$t("messages.copiedToClipboard"),type:"info",timeout:500})},getContainerClasses:function(){var t=[];return null!==this.observationInfo.dataSummary&&t.push("with-histogram"),t},resetInfoShowed:function(){this.infoShowed={index:-1,categories:[],values:[]}},showNode:function(){this.$emit(f["a"].SHOW_NODE,{nodeId:this.observationInfo.id,state:this.layerShow})}},watch:{mapSelection:function(){var t=this,e=this.infoMap.getLayers().getArray();null!==this.mapSelection.pixelSelected?(e.length>1&&this.infoMap.removeLayer(e[1]),this.infoMap.addLayer(this.mapSelection.layerSelected),this.infoMap.getView().setCenter(this.mapSelection.pixelSelected),this.infoMap.getView().setZoom(14),this.$nextTick(function(){t.infoMap.updateSize()}),this.infoShowed={index:0,categories:[],values:[this.mapSelection.value]}):e.length>1&&this.infoMap.removeLayer(e[1])}},mounted:function(){this.scrollBar=new p["a"](document.getElementById("oi-scroll-container")),this.infoMap=new E["a"]({view:new O["a"]({center:[0,0],zoom:12}),target:"oi-mapinfo-map",layers:[_["c"].EMPTY_LAYER],controls:[],interactions:[]}),this.layerShow=this.observationInfo.visible}},D=L,j=(i("db0a"),Object(g["a"])(D,x,T,!1,null,null,null));j.options.__file="ObservationInfo.vue";var z=j.exports,R={name:"klabTreeContainer",components:{KlabSplitter:S,KlabTree:y,ObservationInfo:z},computed:a()({},Object(h["c"])("data",["hasTree"]),Object(h["c"])("view",["hasObservationInfo"])),methods:a()({},Object(h["b"])("view",["setObservationInfo"]),{onCloseInfo:function(){this.setObservationInfo(null)},informTree:function(t){var e=t.nodeId,i=t.state;this.$refs["klab-tree-component"].changeNodeState({nodeId:e,state:i})}})},Y=R,q=(i("a663"),Object(g["a"])(Y,n,s,!1,null,null,null));q.options.__file="KlabTreePane.vue";e["a"]=q.exports},a663:function(t,e,i){"use strict";var n=i("84fd"),s=i.n(n);s.a},a6f9:function(t,e,i){"use strict";i("a481"),i("7f7f"),i("4917"),i("ac6a"),i("5df3"),i("1c4c"),i("f751");var n=i("50fb"),s=i.n(n),o=i("84a2"),a=i.n(o),r=i("6dd8"),c=i("0312"),l=i.n(c);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,i){return e&&h(t.prototype,e),i&&h(t,i),t}var f=function(){function t(e,i){var n=this;d(this,t),this.onScrollX=function(){n.scrollXTicking||(window.requestAnimationFrame(n.scrollX),n.scrollXTicking=!0)},this.onScrollY=function(){n.scrollYTicking||(window.requestAnimationFrame(n.scrollY),n.scrollYTicking=!0)},this.scrollX=function(){n.showScrollbar("x"),n.positionScrollbar("x"),n.scrollXTicking=!1},this.scrollY=function(){n.showScrollbar("y"),n.positionScrollbar("y"),n.scrollYTicking=!1},this.onMouseEnter=function(){n.showScrollbar("x"),n.showScrollbar("y")},this.onMouseMove=function(t){var e=n.trackY.getBoundingClientRect(),i=n.trackX.getBoundingClientRect();n.mouseX=t.clientX,n.mouseY=t.clientY,n.isWithinBounds(e)&&n.showScrollbar("y"),n.isWithinBounds(i)&&n.showScrollbar("x")},this.onWindowResize=function(){n.hideNativeScrollbar()},this.hideScrollbars=function(){var t=n.trackY.getBoundingClientRect(),e=n.trackX.getBoundingClientRect();n.isWithinBounds(t)||(n.scrollbarY.classList.remove("visible"),n.isVisible.y=!1),n.isWithinBounds(e)||(n.scrollbarX.classList.remove("visible"),n.isVisible.x=!1)},this.onMouseDown=function(t){var e=n.scrollbarY.getBoundingClientRect(),i=n.scrollbarX.getBoundingClientRect();n.isWithinBounds(e)&&(t.preventDefault(),n.onDrag(t,"y")),n.isWithinBounds(i)&&(t.preventDefault(),n.onDrag(t,"x"))},this.drag=function(t){var e,i,s;t.preventDefault(),"y"===n.currentAxis?(e=t.pageY,i=n.trackY,s=n.scrollContentEl):(e=t.pageX,i=n.trackX,s=n.contentEl);var o=e-i.getBoundingClientRect()[n.offsetAttr[n.currentAxis]]-n.dragOffset[n.currentAxis],a=o/i[n.sizeAttr[n.currentAxis]],r=a*n.contentEl[n.scrollSizeAttr[n.currentAxis]];s[n.scrollOffsetAttr[n.currentAxis]]=r},this.onEndDrag=function(){document.removeEventListener("mousemove",n.drag),document.removeEventListener("mouseup",n.onEndDrag)},this.el=e,this.flashTimeout,this.contentEl,this.scrollContentEl,this.dragOffset={x:0,y:0},this.isEnabled={x:!0,y:!0},this.isVisible={x:!1,y:!1},this.scrollOffsetAttr={x:"scrollLeft",y:"scrollTop"},this.sizeAttr={x:"offsetWidth",y:"offsetHeight"},this.scrollSizeAttr={x:"scrollWidth",y:"scrollHeight"},this.offsetAttr={x:"left",y:"top"},this.handleSize={x:0,y:0},this.globalObserver,this.mutationObserver,this.resizeObserver,this.currentAxis,this.scrollbarWidth,this.options=Object.assign({},t.defaultOptions,i),this.isRtl="rtl"===this.options.direction,this.classNames=this.options.classNames,this.offsetSize=20,this.recalculate=a()(this.recalculate.bind(this),1e3),this.onMouseMove=a()(this.onMouseMove.bind(this),100),this.init()}return u(t,[{key:"init",value:function(){this.el.SimpleBar=this,this.initDOM(),l.a&&(this.hideNativeScrollbar(),this.render(),this.initListeners())}},{key:"initDOM",value:function(){var t=this;if(Array.from(this.el.children).filter(function(e){return e.classList.contains(t.classNames.scrollContent)}).length)this.trackX=this.el.querySelector(".".concat(this.classNames.track,".horizontal")),this.trackY=this.el.querySelector(".".concat(this.classNames.track,".vertical")),this.scrollContentEl=this.el.querySelector(".".concat(this.classNames.scrollContent)),this.contentEl=this.el.querySelector(".".concat(this.classNames.content));else{this.scrollContentEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.scrollContentEl.classList.add(this.classNames.scrollContent),this.contentEl.classList.add(this.classNames.content);while(this.el.firstChild)this.contentEl.appendChild(this.el.firstChild);this.scrollContentEl.appendChild(this.contentEl),this.el.appendChild(this.scrollContentEl)}if(!this.trackX||!this.trackY){var e=document.createElement("div"),i=document.createElement("div");e.classList.add(this.classNames.track),i.classList.add(this.classNames.scrollbar),this.options.autoHide||i.classList.add("visible"),e.appendChild(i),this.trackX=e.cloneNode(!0),this.trackX.classList.add("horizontal"),this.trackY=e.cloneNode(!0),this.trackY.classList.add("vertical"),this.el.insertBefore(this.trackX,this.el.firstChild),this.el.insertBefore(this.trackY,this.el.firstChild)}this.scrollbarX=this.trackX.querySelector(".".concat(this.classNames.scrollbar)),this.scrollbarY=this.trackY.querySelector(".".concat(this.classNames.scrollbar)),this.el.setAttribute("data-simplebar","init")}},{key:"initListeners",value:function(){var t=this;this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mousemove",this.onMouseMove),this.contentEl.addEventListener("scroll",this.onScrollX),this.scrollContentEl.addEventListener("scroll",this.onScrollY),window.addEventListener("resize",this.onWindowResize),"undefined"!==typeof MutationObserver&&(this.mutationObserver=new MutationObserver(function(e){e.forEach(function(e){(t.isChildNode(e.target)||e.addedNodes.length)&&t.recalculate()})}),this.mutationObserver.observe(this.el,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this.resizeObserver=new r["a"](this.recalculate),this.resizeObserver.observe(this.el)}},{key:"recalculate",value:function(){this.render()}},{key:"render",value:function(){this.contentSizeX=this.contentEl[this.scrollSizeAttr["x"]],this.contentSizeY=this.contentEl[this.scrollSizeAttr["y"]]-(this.scrollbarWidth||this.offsetSize),this.trackXSize=this.trackX[this.sizeAttr["x"]],this.trackYSize=this.trackY[this.sizeAttr["y"]],this.isEnabled["x"]=this.trackXSize<this.contentSizeX,this.isEnabled["y"]=this.trackYSize<this.contentSizeY,this.resizeScrollbar("x"),this.resizeScrollbar("y"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},{key:"resizeScrollbar",value:function(){var t,e,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";if(this.isEnabled[n]||this.options.forceVisible){"x"===n?(t=this.scrollbarX,e=this.contentSizeX,i=this.trackXSize):(t=this.scrollbarY,e=this.contentSizeY,i=this.trackYSize);var s=i/e;this.handleSize[n]=Math.max(~~(s*i),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(this.handleSize[n]=Math.min(this.handleSize[n],this.options.scrollbarMaxSize)),"x"===n?t.style.width="".concat(this.handleSize[n],"px"):t.style.height="".concat(this.handleSize[n],"px")}}},{key:"positionScrollbar",value:function(){var t,e,i,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";"x"===s?(t=this.scrollbarX,e=this.contentEl[this.scrollOffsetAttr[s]],i=this.contentSizeX,n=this.trackXSize):(t=this.scrollbarY,e=this.scrollContentEl[this.scrollOffsetAttr[s]],i=this.contentSizeY,n=this.trackYSize);var o=e/(i-n),a=~~((n-this.handleSize[s])*o);(this.isEnabled[s]||this.options.forceVisible)&&(t.style.transform="x"===s?"translate3d(".concat(a,"px, 0, 0)"):"translate3d(0, ".concat(a,"px, 0)"))}},{key:"toggleTrackVisibility",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",e="y"===t?this.trackY:this.trackX,i="y"===t?this.scrollbarY:this.scrollbarX;this.isEnabled[t]||this.options.forceVisible?e.style.visibility="visible":e.style.visibility="hidden",this.options.forceVisible&&(this.isEnabled[t]?i.style.visibility="visible":i.style.visibility="hidden")}},{key:"hideNativeScrollbar",value:function(){this.scrollbarWidth=s()(),this.scrollContentEl.style[this.isRtl?"paddingLeft":"paddingRight"]="".concat(this.scrollbarWidth||this.offsetSize,"px"),this.scrollContentEl.style.marginBottom="-".concat(2*this.scrollbarWidth||this.offsetSize,"px"),this.contentEl.style.paddingBottom="".concat(this.scrollbarWidth||this.offsetSize,"px"),0!==this.scrollbarWidth&&(this.contentEl.style[this.isRtl?"marginLeft":"marginRight"]="-".concat(this.scrollbarWidth,"px"))}},{key:"showScrollbar",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";this.isVisible[e]||(t="x"===e?this.scrollbarX:this.scrollbarY,this.isEnabled[e]&&(t.classList.add("visible"),this.isVisible[e]=!0),this.options.autoHide&&(window.clearInterval(this.flashTimeout),this.flashTimeout=window.setInterval(this.hideScrollbars,this.options.timeout)))}},{key:"onDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";t.preventDefault();var i="y"===e?this.scrollbarY:this.scrollbarX,n="y"===e?t.pageY:t.pageX;this.dragOffset[e]=n-i.getBoundingClientRect()[this.offsetAttr[e]],this.currentAxis=e,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.onEndDrag)}},{key:"getScrollElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y";return"y"===t?this.scrollContentEl:this.contentEl}},{key:"getContentElement",value:function(){return this.contentEl}},{key:"removeListeners",value:function(){this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),this.scrollContentEl.removeEventListener("scroll",this.onScrollY),this.contentEl.removeEventListener("scroll",this.onScrollX),this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"unMount",value:function(){this.removeListeners(),this.el.SimpleBar=null}},{key:"isChildNode",value:function(t){return null!==t&&(t===this.el||this.isChildNode(t.parentNode))}},{key:"isWithinBounds",value:function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height}}],[{key:"initHtmlApi",value:function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!==typeof MutationObserver&&(this.globalObserver=new MutationObserver(function(e){e.forEach(function(e){Array.from(e.addedNodes).forEach(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")?!e.SimpleBar&&new t(e,t.getElOptions(e)):Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function(e){!e.SimpleBar&&new t(e,t.getElOptions(e))}))}),Array.from(e.removedNodes).forEach(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?t.SimpleBar&&t.SimpleBar.unMount():Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function(t){t.SimpleBar&&t.SimpleBar.unMount()}))})})}),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))}},{key:"getElOptions",value:function(t){var e=Array.from(t.attributes).reduce(function(t,e){var i=e.name.match(/data-simplebar-(.+)/);if(i){var n=i[1].replace(/\W+(.)/g,function(t,e){return e.toUpperCase()});switch(e.value){case"true":t[n]=!0;break;case"false":t[n]=!1;break;case void 0:t[n]=!0;break;default:t[n]=e.value}}return t},{});return e}},{key:"removeObserver",value:function(){this.globalObserver.disconnect()}},{key:"initDOMLoadedElements",value:function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function(e){e.SimpleBar||new t(e,t.getElOptions(e))})}},{key:"defaultOptions",get:function(){return{autoHide:!0,forceVisible:!1,classNames:{content:"simplebar-content",scrollContent:"simplebar-scroll-content",scrollbar:"simplebar-scrollbar",track:"simplebar-track"},scrollbarMinSize:25,scrollbarMaxSize:0,direction:"ltr",timeout:1e3}}}]),t}();l.a&&f.initHtmlApi(),e["a"]=f},a817:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.hasContext?"with-context":"without-context",t.isDocked?"ksb-docked":""],attrs:{id:"ksb-container"}},[t.isDocked?i("div",{attrs:{id:"ksb-undock"}},[i("div",{attrs:{id:"ksb-undock-icon"},on:{click:t.undock}},[i("q-icon",{attrs:{name:"mdi-pin",size:"1.2em"}}),i("q-tooltip",{attrs:{offset:[5,0],self:"top left",anchor:"top right"}},[t._v(t._s(t.$t("tooltips.undock")))])],1)]):i("div",{staticClass:"klab-spinner-div",attrs:{id:"ksb-spinner"}},[i("klab-spinner",{attrs:{"store-controlled":!0,color:t.spinnerColor.hex,size:40,ball:22,wrapperId:"ksb-spinner"},nativeOn:{dblclick:function(e){return t.emitSpinnerDoubleclick(e)}}})],1),i("div",{style:{"background-color":t.isDocked?t.getBGColor(t.hasContext?"1.0":t.searchIsFocused?".6":".2"):"rgba(0,0,0,0)","border-right":"2px solid "+t.spinnerColor.color},attrs:{id:"ksb-search-container"}},[t.searchIsActive?i("klab-search"):i("div",{staticClass:"ksb-context-text text-white"},[i("scrolling-text",{ref:"st-context-text",attrs:{"with-edge":!0,hoverActive:!0,initialText:null===t.contextLabel?t.$t("label.noContext"):t.contextLabel}})],1),i("div",{ref:"ksb-status-texts",staticClass:"ksb-status-texts"},[i("scrolling-text",{ref:"st-status-text",attrs:{"with-edge":!0,edgeOpacity:t.hasContext?1:t.searchIsFocused?.6:.2,hoverActive:!1,initialText:t.statusTextsString,accentuate:!0}})],1),i("main-control-menu")],1)])},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=i("2f62"),c=i("7cca"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"ks-container",attrs:{id:"ks-container"}},[t._l(t.acceptedTokens,function(e,n){return i("div",{key:e.index,ref:"token-"+e.index,refInFor:!0,class:["tokens-accepted","tokens","bg-semantic-elements",e.selected?"selected":"","text-"+e.leftColor],style:{"border-color":e.selected?e.rgb:"transparent"},attrs:{tabindex:n},on:{focus:function(i){t.onTokenFocus(e,i)},blur:function(i){t.onTokenFocus(e,i)},keydown:t.onKeyPressedOnToken}},[t._v(t._s(e.value)+"\n    "),i("q-tooltip",{attrs:{delay:500,offset:[0,15],self:"top left",anchor:"bottom left"}},[e.sublabel.length>0?i("span",[t._v(t._s(e.sublabel))]):i("span",[t._v(t._s(t.$t("label.noTokenDescription")))])])],1)}),i("div",{staticClass:"tokens"},[i("q-input",{ref:"mc-search-input",attrs:{autofocus:!0,placeholder:t.$t("label.searchPlaceholder"),size:"20",id:"mc-search-input",tabindex:t.acceptedTokens.length,"hide-underline":!0},on:{focus:function(e){t.onInputFocus(!0)},blur:function(e){t.onInputFocus(!1)},keydown:t.onKeyPressedOnSearchInput,keyup:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.searchEnd(e):null}},model:{value:t.actualToken,callback:function(e){t.actualToken=e},expression:"actualToken"}},[i("klab-autocomplete",{ref:"mc-autocomplete",class:[t.notChrome()?"not-chrome":""],attrs:{debounce:200,"min-characters":2,"max-results":50,id:"mc-autocomplete"},on:{search:t.search,selected:t.selected,show:t.onAutocompleteShow,hide:t.onAutocompleteHide}})],1)],1)],2)},d=[];l._withStripped=!0;i("ac6a");var h=i("448a"),u=i.n(h),f=(i("386d"),i("7f7f"),i("278c")),p=i.n(f),m=(i("20d6"),i("c5f6"),i("17dc")),v=i("2b0e"),g=(i("6762"),i("2fdb"),i("7ea0")),b=i("b5b8"),y=i("768b"),w=i("1180"),I=i("68c2"),C=i("abcf"),M=C["b"].width,k={name:"KAutocomplete",extends:g["a"],methods:{trigger:function(t){var e=this;if(this.__input&&this.__input.isEditable()&&this.__input.hasFocus()&&this.isWorking()){var i=[null,void 0].includes(this.__input.val)?"":String(this.__input.val),n=i.length,s=Object(I["a"])(),o=this.$refs.popover;if(this.searchId=s,n<this.minCharacters||!0===t&&n>0)return this.searchId="",this.__clearSearch(),void this.hide();if(this.width=M(this.inputEl)+"px",this.staticData)return this.searchId="",this.results=this.filter(i,this.staticData),this.results.length?void this.__showResults():void o.hide();this.$emit("search",i,function(t){if(e.isWorking()&&e.searchId===s){if(e.__clearSearch(),Array.isArray(t)&&t.length>0)return e.results=t,void e.__showResults();e.hide()}})}}},render:function(t){var e=this,i=this.__input.isDark();return t(b["a"],{ref:"popover",class:i?"bg-dark":null,props:{fit:!0,keepOnScreen:!0,anchorClick:!1,maxHeight:this.maxHeight,noFocus:!0,noRefocus:!0},on:{show:function(){e.__input.selectionOpen=!0,e.$emit("show")},hide:function(){e.__input.selectionOpen=!1,e.$emit("hide")}},nativeOn:{mousedown:function(t){t.preventDefault()}}},[t(w["a"],{props:{dark:i,noBorder:!0,separator:this.separator},style:this.computedWidth},this.computedResults.map(function(i,n){return t(y["a"],{key:i.id||n,class:{"q-select-highlight":e.keyboardIndex===n,"cursor-pointer":!i.disable,"text-faded":i.disable},props:{cfg:i},nativeOn:{mousedown:function(t){!i.disable&&(e.keyboardIndex=n),t.preventDefault()},click:function(){!i.disable&&e.setValue(i)}}})}))])}},S={name:"KlabSearch",components:{KlabAutocomplete:k},props:{maxResults:{type:Number,default:-1}},data:function(){return{searchContextId:null,searchRequestId:0,doneFunc:null,result:null,acceptedTokens:[],actualToken:"",actualSearchString:"",noSearch:!1,searchDiv:null,searchInput:null,autocompleteEl:null,scrolled:0,suggestionShowed:!1,searchTimeout:null,searchHistoryIndex:-1,autocompleteSB:null}},computed:a()({},Object(r["c"])("data",["searchResult","contextId"]),Object(r["c"])("view",["spinner","searchIsFocused","searchLostChar","searchHistory"]),{inputSearchColor:{get:function(){return this.searchInput?this.searchInput.$refs.input.style.color:"black"},set:function(t){this.searchInput.$refs.input.style.color=t}}}),methods:a()({},Object(r["b"])("view",["searchStop","setSpinner","searchFocus","resetSearchLostChar","storePreviousSearch"]),{notChrome:function(){return-1===navigator.userAgent.indexOf("Chrome")},onTokenFocus:function(t,e){t.selected="focus"===e.type},onInputFocus:function(t){this.searchFocus({focused:t}),this.actualToken=this.actualSearchString},onAutocompleteShow:function(){this.suggestionShowed=!0},onAutocompleteHide:function(){this.suggestionShowed=!1,this.actualToken!==this.actualSearchString&&(this.noSearch=!0,this.resetSearchInput())},onKeyPressedOnToken:function(t){var e=this;if(37===t.keyCode||39===t.keyCode){t.preventDefault();var i=this.acceptedTokens.findIndex(function(t){return t.selected}),n=null,s=!1;if(37===t.keyCode&&i>0?n="token-".concat(this.acceptedTokens[i-1].index):39===t.keyCode&&i<this.acceptedTokens.length&&(i===this.acceptedTokens.length-1?(n="mc-search-input",s=!0):n="token-".concat(this.acceptedTokens[i+1].index)),null!==n){var o=this.$refs[n];if(Array.isArray(o)){var a=o,r=p()(a,1);o=r[0]}v["a"].nextTick(function(){o.focus();var i=null,n=e.searchDiv.offsetLeft;if(37===t.keyCode){var a=o.offsetLeft+n-e.searchDiv.offsetLeft;e.searchDiv.scrollLeft>=a&&(i=a)}else{var r=s?o.$el:o,c=(s?r.offsetLeft:o.offsetLeft)+n+r.offsetWidth,l=e.searchDiv.offsetWidth+e.searchDiv.scrollLeft;l<=c&&(i=e.searchDiv.scrollLeft+(c-l)-n)}null!==i&&v["a"].nextTick(function(){e.searchDiv.scrollLeft=i})})}}},onKeyPressedOnSearchInput:function(t){var e=this;switch(this.noSearch=!1,t.keyCode){case 8:""===this.actualToken&&0!==this.acceptedTokens.length?(this.acceptedTokens.pop(),this.searchHistoryIndex=-1,t.preventDefault()):""!==this.actualSearchString?(t.preventDefault(),this.actualSearchString=this.actualSearchString.slice(0,-1)):""===this.actualSearchString&&""!==this.actualToken&&(this.actualToken="",t.preventDefault());break;case 9:this.suggestionShowed&&-1!==this.autocompleteEl.keyboardIndex&&(this.autocompleteEl.setValue(this.autocompleteEl.results[this.autocompleteEl.keyboardIndex]),this.searchHistoryIndex=-1),t.preventDefault();break;case 13:this.suggestionShowed||this.searchInKLab(t);break;case 27:this.suggestionShowed?this.autocompleteEl.hide():this.searchEnd(!0),t.preventDefault();break;case 32:t.preventDefault(),this.askForSuggestion()||this.$q.notify({message:this.$t("messages.noSpaceAllowedInSearch"),type:"warning",timeout:1500});break;case 37:if(!this.suggestionShowed&&0===this.searchInput.$refs.input.selectionStart&&this.acceptedTokens.length>0){var i=this.acceptedTokens[this.acceptedTokens.length-1];v["a"].nextTick(function(){e.$refs["token-".concat(i.index)][0].focus()}),t.preventDefault()}break;case 38:this.suggestionShowed||this.searchHistoryEvent(1,t);break;case 40:this.suggestionShowed||this.searchHistoryEvent(-1,t);break;default:t.keyCode<65||t.keyCode>90?39!==t.keyCode&&t.preventDefault():(t.preventDefault(),this.searchHistoryIndex=-1,this.actualSearchString+=t.key);break}},selected:function(t,e){e?this.inputSearchColor=t.rgb:(this.acceptedTokens.push(t),this.actualSearchString="")},search:function(t,e){var i=this;if(this.noSearch)return this.noSearch=!1,void e([]);this.searchRequestId+=1,this.sendStompMessage(m["a"].SEARCH_REQUEST({requestId:this.searchRequestId,contextId:this.searchContextId,maxResults:this.maxResults,cancelSearch:!1,defaultResults:""===t,queryString:this.actualSearchString},this.$store.state.data.session).body),this.setSpinner(a()({},c["h"].SPINNER_LOADING,{owner:this.$options.name})),this.doneFunc=e,this.searchTimeout=setTimeout(function(){i.setSpinner(a()({},c["h"].SPINNER_ERROR,{owner:i.$options.name,errorMessage:i.$t("errors.searchTimeout"),time:2,then:a()({},c["h"].SPINNER_STOPPED)})),i.doneFunc([])},2e3)},searchInKLab:function(){if(this.acceptedTokens.length>0){var t=this.acceptedTokens.map(function(t){return t.id}).join(" ");this.sendStompMessage(m["a"].OBSERVATION_REQUEST({urn:t,contextId:this.contextId,searchContextId:null},this.$store.state.data.session).body);var e=this.acceptedTokens.map(function(t){return t.label}).join(" ");this.$q.notify({message:this.$t("label.askForObservation",{urn:e}),type:"info",timeout:2e3})}else console.info("Nothing to search for");this.searchEnd()},searchEnd:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.suggestionShowed||(!t&&this.acceptedTokens.length>0&&this.storePreviousSearch({acceptedTokens:this.acceptedTokens.slice(0),searchContextId:this.searchContextId,searchRequestId:this.searchRequestId}),this.searchContextId=null,this.searchRequestId=0,this.doneFunc=null,this.result=null,this.acceptedTokens=[],this.searchHistoryIndex=-1,this.actualSearchString="",this.scrolled=0,this.noSearch=!1,this.searchStop())},resetSearchInput:function(){var t=this;this.$nextTick(function(){t.actualToken=t.actualSearchString,t.inputSearchColor="black"})},searchHistoryEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===this.actualToken&&this.searchHistory.length>0&&(0===this.acceptedTokens.length||this.searchHistoryIndex>=0)&&this.searchHistory.length>0&&(t>0||this.searchHistoryIndex>0)&&this.searchHistoryIndex+t<this.searchHistory.length){this.searchHistoryIndex+=t;var i=this.searchHistory[this.searchHistoryIndex];this.acceptedTokens=i.acceptedTokens.slice(0),this.searchContextId=i.searchContextId,this.searchRequestId=i.searchRequestId,null!==e&&e.preventDefault()}},askForSuggestion:function(){var t=this;return 0===this.acceptedTokens.length&&0===this.searchInput.$refs.input.selectionStart&&(this.search("",function(e){t.autocompleteEl.__clearSearch(),Array.isArray(e)&&e.length>0?(t.autocompleteEl.results=e,v["a"].nextTick(function(){t.autocompleteEl.__showResults()})):t.autocompleteEl.hide()}),!0)}}),watch:{actualSearchString:function(){this.resetSearchInput()},searchResult:function(t){var e=this;this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null);var i,n=t.requestId,s=t.contextId;if(null===this.searchContextId)this.searchContextId=s;else if(s!==this.searchContextId)return console.warn("Something strange was happened: differents search context ids:\n\n        actual: ".concat(this.searchContextId," / received: ").concat(s)),void this.setSpinner(a()({},c["h"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search context id"}));if(this.searchRequestId!==n)return console.warn("Result discarded for bad request id:\n\n        actual: ".concat(this.searchRequestId," / received: ").concat(n,"\n")),void this.setSpinner(a()({},c["h"].SPINNER_ERROR,{owner:this.$options.name,errorMessage:"Different search request id"}));null!==this.result&&this.result.requestId===n&&(i=t.matches).push.apply(i,u()(this.result.matches)),this.result=t;var o=this.result.matches,r=[];o.forEach(function(t){var i=c["h"].MATCH_TYPES[t.matchType];if("undefined"!==typeof i){var n=i;if(null!==t.mainSemanticType){var s=c["h"].SEMANTIC_TYPES[t.mainSemanticType];"undefined"!==typeof s&&(n=s)}"SEPARATOR"===t.matchType?r.push({value:t.name,label:t.name,labelLines:1,rgb:n.rgb,selected:!1,disable:!0}):r.push({value:t.name,label:t.name,labelLines:1,sublabel:t.description,sublabelLines:1,letter:n.symbol,leftInverted:!0,leftColor:n.color,rgb:n.rgb,id:t.id,index:e.acceptedTokens.length+1,selected:!1})}else console.warn("Unknown type: ".concat(t.matchType))}),0===r.length&&this.$q.notify({message:this.$t("messages.noSearchResults"),type:"info",timeout:1e3}),this.setSpinner(a()({},c["h"].SPINNER_STOPPED,{owner:this.$options.name})),v["a"].nextTick(function(){e.doneFunc(r),e.autocompleteEl.keyboardIndex=0})},acceptedTokens:function(){var t=this;v["a"].nextTick(function(){var e=t.searchDiv.scrollWidth;t.scrolled!==e&&(t.searchDiv.scrollLeft=e,t.scrolled=e)})},searchIsFocused:function(t){t?(this.searchInput.focus(),this.acceptedTokens.forEach(function(t){t.selected=!1})):this.searchInput.blur()},searchLostChar:function(t){null!==t&&("ArrowUp"===t?this.searchHistoryEvent(1):"ArrowDown"===t?this.searchHistoryEvent(-1):" "===t?this.askForSuggestion():this.actualSearchString=this.actualSearchString+t,this.resetSearchLostChar())}},mounted:function(){this.searchDiv=this.$refs["ks-container"],this.searchInput=this.$refs["mc-search-input"],this.autocompleteEl=this.$refs["mc-autocomplete"],null!==this.searchLostChar?"ArrowUp"===this.searchLostChar?this.searchHistoryEvent(1):"ArrowDown"===this.searchLostChar?this.searchHistoryEvent(-1):" "===this.searchLostChar?this.askForSuggestion():this.actualSearchString=this.searchLostChar:this.actualSearchString="",this.inputSearchColor="black"}},x=S,T=(i("aff7"),i("2877")),N=Object(T["a"])(x,l,d,!1,null,null,null);N.options.__file="KlabSearch.vue";var A=N.exports,E=i("2573"),O=i("cbc9"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-btn",{staticClass:"mcm-menubutton absolute-top-right",attrs:{icon:"mdi-chevron-right",color:"black",size:"sm",round:"",flat:""}},[t.isDrawMode?t._e():i("q-popover",{ref:"mcm-main-popover",attrs:{anchor:"top right",self:"top left",persistent:!0}},[i("q-btn",{staticClass:"mcm-icon-close-popover",attrs:{icon:"mdi-close",color:"grey-8",size:"xs",flat:"",round:""},on:{click:function(e){t.$refs["mcm-main-popover"].hide()}}}),i("q-list",{attrs:{dense:""}},[i("q-list-header",{staticStyle:{padding:"0 16px 0 16px","min-height":"0"}},[t._v("\n        "+t._s(t.$t("label.mcMenuContext"))+"\n        "),t.hasContext?i("q-icon",{staticClass:"mcm-copy-icon",attrs:{name:"mdi-content-copy"},nativeOn:{click:function(e){t.copyContextES(e,t.contextEncodedShape)}}},[i("q-tooltip",{attrs:{delay:1e3,anchor:"center right",self:"center left",offset:[10,10]}},[t._v("\n            "+t._s(t.$t("tooltips.copyEncodedShapeToClipboard"))+"\n          ")])],1):t._e()],1),i("q-item-separator"),t.hasContext?i("q-item",[i("div",{staticClass:"mcm-container"},[i("div",{staticClass:"klab-menuitem klab-clickable",on:{click:function(e){t.closeAndCall(null)}}},[i("div",{staticClass:"klab-item mdi mdi-star-four-points-outline klab-icon"}),i("div",{staticClass:"klab-item klab-text klab-only-text"},[t._v(t._s(t.$t("label.newContext")))])])])]):t._e(),i("q-item",[i("div",{staticClass:"mcm-container"},[i("div",{staticClass:"klab-menuitem klab-clickable",class:{"klab-not-available":0===t.contextsHistory.length},on:{click:t.toggleContextsHistory}},[i("div",{staticClass:"klab-item mdi mdi-history klab-icon"}),i("div",{staticClass:"klab-item klab-text klab-only-text"},[t._v(t._s(t.$t("label.previousContexts")))]),i("div",[i("q-icon",{staticClass:"mcm-contextbutton",attrs:{name:"mdi-chevron-right",color:"black",size:"sm"}}),i("q-popover",{ref:"mcm-contexts-popover",attrs:{anchor:"top right",self:"top left",offset:[18,28]}},[i("q-list",{attrs:{dense:""}},t._l(t.contextsHistory,function(e){return i("q-item",{key:e.id},[i("q-item-main",[i("div",{staticClass:"mcm-container mcm-context-label"},[i("div",{staticClass:"klab-menuitem",class:[e.id===t.contextId?"klab-no-clickable":"klab-clickable"],on:{click:function(i){t.closeAndCall(e.id)}}},[i("div",{staticClass:"klab-item klab-large-text",class:{"mcm-actual-context":e.id===t.contextId},style:{"font-style":t.contextTaskIsAlive(e.id)?"italic":"normal"},on:{mouseover:function(i){t.tooltipIt(i,e.id)}}},[t._v("\n                            "+t._s(t.formatContextTime(e))+": "+t._s(e.label)+"\n                            "),i("q-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.needTooltip(e.id),expression:"needTooltip(context.id)"}],attrs:{anchor:"center right",self:"center left",offset:[10,10]}},[t._v("\n                              "+t._s(e.label)+"\n                            ")])],1)]),i("q-icon",{staticClass:"absolute-right mcm-copy-icon",attrs:{name:"mdi-content-copy"},nativeOn:{click:function(i){t.copyContextES(i,e.spatialProjection+" "+e.encodedShape)}}},[i("q-tooltip",{attrs:{delay:1e3,anchor:"center right",self:"center left",offset:[10,10]}},[t._v("\n                            "+t._s(t.$t("tooltips.copyEncodedShapeToClipboard"))+"\n                          ")])],1)],1)])],1)}))],1)],1)])])]),t.searchIsActive||t.hasContext?t._e():[i("q-item",[i("q-item-main",[i("div",{staticClass:"mcm-container"},[i("div",{staticClass:"klab-menuitem klab-clickable",class:[t.isDrawMode?"klab-select":""],on:{click:function(e){t.startDraw()}}},[i("div",{staticClass:"klab-item mdi mdi-vector-polygon klab-icon"}),i("div",{staticClass:"klab-item klab-text klab-only-text"},[t._v(t._s(t.$t("label.drawCustomContext")))])])])])],1),i("q-list-header",{staticStyle:{padding:"8px 16px 0 16px","min-height":"0"}},[t._v(t._s(t.$t("label.mcMenuScale")))]),i("q-item-separator"),i("q-item",[i("q-item-main",[i("scale-reference",{attrs:{width:"180px",light:!0,scaleType:"space",editable:!0,full:!0}})],1)],1),i("q-item",[i("q-item-main",[i("scale-reference",{attrs:{width:"180px",light:!0,scaleType:"time",editable:!1,full:!0}})],1)],1)],i("q-list-header",{staticStyle:{padding:"8px 16px 0 16px","min-height":"0"}},[t._v(t._s(t.$t("label.mcMenuOption")))]),i("q-item-separator"),t.hasContext&&t.contextReloaded?i("q-item",[i("div",{staticClass:"mcm-container"},[i("div",{staticClass:"klab-menuitem"},[i("div",{staticClass:"klab-item"},[t._v(t._s(t.$t("label.optionShowAll")))])]),i("q-item-side",{attrs:{right:""}},[i("q-toggle",{attrs:{color:"mc-main"},model:{value:t.showAll,callback:function(e){t.showAll=e},expression:"showAll"}})],1)],1)]):t._e(),t.hasContext?t._e():i("q-item",[i("div",{staticClass:"mcm-container"},[i("div",{staticClass:"klab-menuitem"},[i("div",{staticClass:"klab-item"},[t._v(t._s(t.$t("label.optionSaveLocation")))])]),i("q-item-side",{attrs:{right:""}},[i("q-toggle",{attrs:{color:"mc-main"},model:{value:t.saveLocationVar,callback:function(e){t.saveLocationVar=e},expression:"saveLocationVar"}})],1)],1)])],2)],1)],1)},L=[];_._withStripped=!0;i("96cf");var D=i("c973"),j=i.n(D),z=i("c1df"),R=i.n(z),Y=i("8784"),q=i("2cee"),W=i("741d"),B=i("b0b2"),$={name:"MainControlMenu",mixins:[q["a"]],components:{ScaleReference:Y["a"]},data:function(){return{}},computed:a()({},Object(r["c"])("data",["contextsHistory","hasContext","contextId","contextReloaded","contextEncodedShape"]),Object(r["d"])("stomp",["subscriptions"]),Object(r["c"])("stomp",["lastActiveTask","contextTaskIsAlive"]),Object(r["c"])("view",["searchIsActive","isDrawMode"]),Object(r["d"])("view",["showNotified","saveLocation"]),{showAll:{get:function(){return this.showNotified===c["h"].PARAMS_NOTIFIED_ALL},set:function(t){this.changeShowAll(t)}},saveLocationVar:{get:function(){return this.saveLocation},set:function(t){this.changeSaveLocation(t)}}}),methods:a()({},Object(r["b"])("data",["loadContext","setWaitinForReset"]),Object(r["b"])("view",["setDrawMode","setSpinner"]),{startDraw:function(){this.setDrawMode(!this.isDrawMode)},toggleContextsHistory:function(){this.contextsHistory.length>0&&this.$refs["mcm-contexts-popover"].toggle()},closeAndCall:function(){var t=j()(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.contextId!==e){t.next=2;break}return t.abrupt("return");case 2:this.$refs["mcm-main-popover"].hide(),this.$refs["mcm-contexts-popover"].hide(),this.clearTooltip(),null!==e&&this.setSpinner(a()({},c["h"].SPINNER_LOADING,{owner:e})),this.hasContext?(this.sendStompMessage(m["a"].RESET_CONTEXT(this.$store.state.data.session).body),null!==e?this.setWaitinForReset(e):this.$refs["mcm-main-popover"].hide()):this.loadContext(e);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),formatContextTime:function(t){var e=t.lastUpdate;if(0===e&&(e=t.creationTime),e&&null!==e){var i=R()(e),n=0===R()().diff(i,"days");return n?i.format("HH:mm:ss"):i.format("YYYY/mm/dd HH:mm:ss")}return""},changeShowAll:function(t){var e=t?c["h"].PARAMS_NOTIFIED_ALL:c["h"].PARAMS_NOTIFIED_ONLY;this.$store.commit("view/SET_SHOW_NOTIFIED",e,{root:!0}),W["a"].set(c["h"].COOKIE_NOTIFIED,e,{expires:30,path:"/"})},changeSaveLocation:function(t){this.$store.commit("view/SET_SAVE_LOCATION",t,{root:!0}),W["a"].set(c["h"].COOKIE_SAVELOCATION,t,{expires:30,path:"/"})},copyContextES:function(t,e){t.stopPropagation(),Object(B["c"])(e),this.$q.notify({message:Object(B["a"])(this.$t("messages.customCopyToClipboard",{what:this.$t("label.context")})),type:"info",timeout:500})}}),watch:{hasContext:function(){this.$refs["mcm-main-popover"].hide()}}},V=$,F=(i("6774"),Object(T["a"])(V,_,L,!1,null,null,null));F.options.__file="MainControlMenu.vue";var H=F.exports,G={name:"KlabSearchBar",components:{KlabSpinner:E["a"],KlabSearch:A,ScrollingText:O["a"],MainControlMenu:H},data:function(){return{}},computed:a()({},Object(r["c"])("data",["hasContext","contextLabel"]),Object(r["c"])("view",["spinnerColor","searchIsActive","searchIsFocused","hasMainControl","statusTextsString","statusTextsLength"]),{isDocked:function(){return!this.hasMainControl}}),methods:a()({},Object(r["b"])("view",["setMainViewer"]),{getBGColor:function(t){return"rgba(".concat(this.spinnerColor.rgb.r,",").concat(this.spinnerColor.rgb.g,",").concat(this.spinnerColor.rgb.b,", ").concat(t,")")},emitSpinnerDoubleclick:function(){this.$eventBus.$emit(c["a"].SPINNER_DOUBLE_CLICK)},undock:function(){this.setMainViewer(c["g"].DATA_VIEWER)}}),watch:{statusTextsString:function(t){t===c["d"].UNKNOWN_SEARCH_OBSERVATION&&(t=this.$t("messages.unknownSearchObservation")),this.$refs["st-status-text"].changeText(t,5*this.statusTextsLength)},contextLabel:function(t){this.$refs["st-context-text"].changeText(t)}},mounted:function(){}},U=G,X=(i("19f2"),Object(T["a"])(U,n,s,!1,null,null,null));X.options.__file="KlabSearchBar.vue";e["a"]=X.exports},aff7:function(t,e,i){"use strict";var n=i("7bae"),s=i.n(n);s.a},b878:function(t,e,i){},cbc9:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"st-container",class:{marquee:t.needMarquee<0,"hover-active":t.hoverActive}},[i("div",{ref:"st-text",staticClass:"st-text",class:{"st-accentuate":t.accentuate},style:{left:(t.needMarquee<0?t.needMarquee:0)+"px","animation-duration":t.animationDuration+"s"}},[t._v("\n    "+t._s(t.text)+"\n  ")]),t.withEdge?i("div",{staticClass:"st-edges",style:{"background-color":t.getBGColor(t.spinnerColor,t.edgeOpacity)}}):t._e()])},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=(i("c5f6"),i("2f62")),c={name:"ScrollingText",props:{hoverActive:{type:Boolean,default:!1},initialText:{type:String,default:""},duration:{type:Number,default:10},accentuate:{type:Boolean,default:!1},edgeOpacity:{type:Number,default:1},withEdge:{type:Boolean,default:!0}},data:function(){return{needMarquee:0,animationDuration:this.duration,text:this.initialText,edgeBgGradient:""}},computed:a()({},Object(r["c"])("view",["spinnerColor"])),methods:{isNeededMarquee:function(){var t=this.$refs["st-text"];return"undefined"===typeof t?0:t.offsetWidth-t.scrollWidth},changeText:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.needMarquee=0,t!==this.text&&(this.text=null===t?"":t,this.$nextTick(function(){null!==i&&(e.animationDuration=i),e.needMarquee=e.isNeededMarquee(e.ref)}))},getBGColor:function(t,e){return"rgba(".concat(t.rgb.r,",").concat(t.rgb.g,",").concat(t.rgb.b,", ").concat(e,")")},getEdgeGradient:function(){return"linear-gradient(to right,\n        ".concat(this.getBGColor(this.spinnerColor,1)," 0,\n        ").concat(this.getBGColor(this.spinnerColor,0)," 5%,\n        ").concat(this.getBGColor(this.spinnerColor,0)," 95%,\n        ").concat(this.getBGColor(this.spinnerColor,1)," 100%)")}},watch:{spinnerColor:function(){this.edgeBgGradient=this.getEdgeGradient()}},mounted:function(){var t=this;this.$nextTick(function(){t.needMarquee=t.isNeededMarquee(t.ref)}),this.edgeBgGradient=this.getEdgeGradient()}},l=c,d=(i("2590"),i("2877")),h=Object(d["a"])(l,n,s,!1,null,null,null);h.options.__file="ScrollingText.vue";e["a"]=h.exports},cf611:function(t,e,i){"use strict";var n=i("8e08"),s=i.n(n);s.a},db0a:function(t,e,i){"use strict";var n=i("e445"),s=i.n(n);s.a},e445:function(t,e,i){},e464:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"klab-actions",class:t.orientation},[i("div",{staticClass:"klab-main-actions"},[i("div",{staticClass:"klab-button klab-action",class:[{active:t.mainViewerName===t.VIEWERS.DATA_VIEWER.name}],on:{click:function(e){t.mainViewerName!==t.VIEWERS.DATA_VIEWER.name&&t.setMainViewer(t.isMainControlDocked?t.VIEWERS.DOCKED_DATA_VIEWER:t.VIEWERS.DATA_VIEWER)}}},[i("q-icon",{attrs:{name:"mdi-eye-outline"}},[i("q-tooltip",{attrs:{offset:[0,8],self:t.tooltipAnchor("top"),anchor:t.tooltipAnchor("bottom")}},[t._v(t._s(t.$t("tooltips.dataViewer")))])],1)],1),i("div",{staticClass:"klab-button klab-action",class:[{active:t.mainViewerName===t.VIEWERS.REPORT_VIEWER.name,disabled:t.mainViewerName!==t.VIEWERS.REPORT_VIEWER.name&&!t.hasObservations}],on:{click:function(e){t.mainViewerName!==t.VIEWERS.REPORT_VIEWER.name&&t.hasObservations&&t.setMainViewer(t.VIEWERS.REPORT_VIEWER)}}},[i("q-icon",{attrs:{name:"mdi-file-document-box-outline"}},[t.mainViewerName!==t.VIEWERS.REPORT_VIEWER.name&&t.reloadReport?i("span",{staticClass:"klab-button-notification"}):t._e(),i("q-tooltip",{attrs:{offset:[0,8],self:t.tooltipAnchor("top"),anchor:t.tooltipAnchor("bottom")}},[t._v(t._s(t.hasObservations?t.$t("tooltips.reportViewer"):t.$t("tooltips.noReportObservation")))])],1)],1),i("div",{staticClass:"klab-button klab-action",class:[{active:t.mainViewerName===t.VIEWERS.DATAFLOW_VIEWER.name,disabled:t.mainViewerName!==t.VIEWERS.DATAFLOW_VIEWER.name&&!t.hasContext}],on:{click:function(e){t.mainViewerName!==t.VIEWERS.DATAFLOW_VIEWER.name&&t.hasContext&&t.setMainViewer(t.VIEWERS.DATAFLOW_VIEWER)}}},[i("q-icon",{attrs:{name:"mdi-sitemap"}},[t.mainViewerName!==t.VIEWERS.DATAFLOW_VIEWER.name&&t.hasContext&&t.reloadDataflow?i("span",{staticClass:"klab-button-notification"}):t._e(),i("q-tooltip",{attrs:{offset:[0,8],self:t.tooltipAnchor("top"),anchor:t.tooltipAnchor("bottom")}},[t._v(t._s(t.hasDataflow?t.$t("tooltips.dataflowViewer"):t.$t("tooltips.noDataflow")))])],1)],1)]),i("div",{staticClass:"mab-separator",class:t.separatorClass}),i("div",{staticClass:"klab-destructive-actions"},[t.hasTasks(t.contextId)?t._e():i("div",{staticClass:"klab-button klab-reset-context",on:{click:t.resetContext}},[i("q-icon",{attrs:{name:"mdi-close-circle-outline"}},[i("q-tooltip",{attrs:{offset:[0,8],self:t.tooltipAnchor("top"),anchor:t.tooltipAnchor("bottom")}},[t._v(t._s(t.$t("tooltips.resetContext")))])],1)],1),t.hasTasks(t.contextId)?i("div",{staticClass:"klab-button klab-interrupt-task",on:{click:t.interruptTask}},[i("q-icon",{attrs:{name:"mdi-stop-circle-outline"}},[i("q-tooltip",{attrs:{offset:[0,8],self:t.tooltipAnchor("top"),anchor:t.tooltipAnchor("bottom")}},[t._v(t._s(t.$t("tooltips.interruptTask",{taskDescription:t.lastActiveTaskText})))])],1)],1):t._e()])])},s=[];n._withStripped=!0;var o=i("3156"),a=i.n(o),r=i("2f62"),c=i("7cca"),l=i("17dc"),d={name:"MainActionsButtons",props:{orientation:{type:String,default:"horizontal"},separatorClass:{type:String,default:""}},data:function(){return{}},computed:a()({},Object(r["d"])("view",["reloadReport","reloadDataflow"]),Object(r["c"])("data",["hasContext","hasObservations","hasDataflow","contextLabel","contextId"]),Object(r["c"])("view",["spinnerColor","mainViewerName","statusTextsString","statusTextsLength","isMainControlDocked"]),Object(r["c"])("stomp",["hasTasks","lastActiveTask","tasks"]),{lastActiveTaskText:function(){var t=null===this.lastActiveTask(this.contextId)?"":this.lastActiveTask(this.contextId).description;return t===c["d"].UNKNOWN_SEARCH_OBSERVATION?this.$t("messages.unknownSearchObservation"):t}}),methods:a()({},Object(r["b"])("view",["setMainViewer"]),{tooltipAnchor:function(t){return"".concat(t," ").concat("horizontal"===this.orientation?"middle":"left")},resetContext:function(){this.sendStompMessage(l["a"].RESET_CONTEXT(this.$store.state.data.session).body)},interruptTask:function(){var t=this.lastActiveTask(this.contextId);null!==t&&t.alive&&this.sendStompMessage(l["a"].TASK_INTERRUPTED({taskId:t.id},this.$store.state.data.session).body)}}),created:function(){this.VIEWERS=c["g"]}},h=d,u=(i("6208"),i("2877")),f=Object(u["a"])(h,n,s,!1,null,null,null);f.options.__file="MainActionsButtons.vue";e["a"]=f.exports},f1ae:function(t,e,i){"use strict";var n=i("86cc"),s=i("4630");t.exports=function(t,e,i){e in t?n.f(t,e,s(0,i)):t[e]=i}},f58f:function(t,e,i){"use strict";var n=i("15f6"),s=i.n(n);s.a},f7aa:function(t,e,i){"use strict";var n=i("0611"),s=i.n(n);s.a}}]);