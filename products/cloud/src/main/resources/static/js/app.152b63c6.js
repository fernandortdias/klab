(function(e){function t(t){for(var s,o,i=t[0],l=t[1],c=t[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},r={0:0},a=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{2:"f20633ce"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,s){n=r[e]=[t,s]}));t.push(n[2]=s);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",c.name="ChunkLoadError",c.type=s,c.request=a,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/modeler/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;a.push([0,1]),n()})({0:function(e,t,n){e.exports=n("2f39")},"1ccf":function(e,t,n){"use strict";var s=n("78b3"),r=n.n(s);r.a},"1e8d":function(e,t,n){"use strict";var s=n("ba08"),r=n.n(s);r.a},"2f39":function(e,t,n){"use strict";n.r(t);n("e6cf"),n("5319"),n("1867"),n("e54f"),n("7d6e"),n("62f2"),n("7e6d"),n("3bcb");var s=n("2b0e"),r=n("b05d"),a=n("4d5a"),o=n("e359"),i=n("9404"),l=n("09e3"),c=n("9989"),u=n("9c40"),d=n("0016"),p=n("27f9"),f=n("05c0"),m=n("8f8e"),h=n("714f"),g=n("7f67"),b=n("2a19"),E=n("436b"),w=n("515f");s["a"].use(r["a"],{config:{},components:{QLayout:a["a"],QHeader:o["a"],QDrawer:i["a"],QPageContainer:l["a"],QPage:c["a"],QBtn:u["a"],QIcon:d["a"],QInput:p["a"],QTooltip:f["a"],QCheckbox:m["a"]},directives:{Ripple:h["a"],ClosePopup:g["a"]},plugins:{Notify:b["a"],Dialog:E["a"],Cookies:w["a"]}});var N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},O=[],j=n("ded3"),_=n.n(j),R=n("2f62"),v={name:"App",computed:_()({},Object(R["c"])("view",["isConnectionDown"])),watch:{isConnectionDown(e){e&&this.$q.notify({message:this.$t("messages.networkError"),color:"negative"}),this.$store.dispatch("view/setConnectionDown",!1)}}},y=v,A=n("2877"),C=Object(A["a"])(y,N,O,!1,null,null,null),I=C.exports,S={token:null,selectedApp:null},k={token:e=>e.token,selectedApp:e=>e.selectedApp},P={STORE_TOKEN:(e,t)=>{e.token=t},SET_SELECTED_APP:(e,t)=>{e.selectedApp=t}},T=(n("c975"),n("a434"),n("bc78")),L=n("758b"),M=n("a925"),x={commons:{appName:"k.Engine"},menu:{home:"Home"},labels:{warning:"Warning",username:"Username",password:"Password",newPassword:"New password",newPasswordConfirmation:"New password confirmation",btnLogin:"Login",btnRegister:"Register",btnAccept:"Accept",btnCancel:"Cancel",btnGoogle:"Sign in with Google",btnSetPassword:"Set password",forgotPassword:"Forgot password?",btnResetPassword:"Reset password",rememberMe:"Remember me"},messages:{genericError:"There was an error, please try later",networkError:"Network error",fieldRequired:"Field required",passwordValidationError:"Password must be between 8 and 32 characters",passwordUnableToDo:"Unable to change user password",passwordChanged:"Password changed",passwordChangedError:"There was an error, password is not changed",passwordMailError:"There wan an error sending confirmation email, password is changed",passwordDoesNotMatch:"Password does not match the password verification field",changingPassword:"Changing password",userPswInvalid:"Bad Username or password",userAlreadyInUse:"Username or Email already in use!",invalidRedirect:"Redirect error, please contact support",failed:"Action failed",success:"Action was successful",loading:"Loading",acceptEULA:"I have read and accept the END USER LICENSE AGREEMENT (EULA) for individual non-profit use",mustAcceptEULA:"You must read and accept the EULA to download certificate",changePasswordTitle:"Change password",loggingOut:"Logging out"},contents:{registerContent:'\n    <p><strong>ARIES</strong> is an open system where all participants contribute and share knowledge for the common good. For this reason we ask that all accounts are traceable to real people and institutions. Please ensure that:</p>\n    <ul>\n      <li>Your username follows the <code>firstname.lastname</code> pattern, with your real first and last name. All the accounts created from this page are individual. If you need an institutional account (for example to install a public engine) please contact us as this use, while still free for non-profit institutions, is covered by a separate EULA.</li>\n      <li>Your email address is traceable to an institution where you work or study and whose non-profit status is verifiable.</li>\n    </ul>\n    <p>We actively monitor the registration database and we regularly delete or disable accounts that do not match the above conditions. In addition, attempts to make for-profit use of <strong>ARIES</strong> products with a non-profit licensing terms will result in permanent exclusion from the registration system and potential legal prosecution according to the\n     <a href="http://www.integratedmodelling.org/statics/eula/BC3-EULA-Not-For-Profit-Individual_EN.txt" alt="k.LAB EULA" target="_blank">EULA</a>.</p>\n     <p class="rc-lopd">By clicking the registration button you agree that the personal data you provide will be processed by ASOCIACIÃ“N BC3 BASQUE CENTRE FOR CLIMATE CHANGE-KLIMA ALDAKETA IKERGAI with the purpose of\n      managing your registration request and your access to the tool. You may exercise your rights on data protection at <a href="mailto:ARCrights@BC3research.org" target="_blank" title="Mail to ARCrights@BC3research.org">ARCrights@BC3research.org</a>.\n      <br />Additional information in this respect is available in the <a href="http://www.integratedmodelling.org/statics/eula/BC3-EULA-Not-For-Profit-Individual_EN.txt" alt="k.LAB EULA" target="_blank">EULA</a></p>\n    ',forgetPasswordContent:'\n      <p>Insert your email account information.</p><p>Please <a class="k-link" href="mailto:support@integratedmodelling.org" title="Contact us" target="_blank">Contact Us</a> if you require any assistance.</p>\n    ',homeTitle:"Welcome",homeContent:""}},D={"en-us":x};s["a"].use(M["a"]);const $=new M["a"]({locale:"en-us",fallbackLocale:"en-us",messages:D});var G=({app:e})=>{e.i18n=$},U=n("8c4f"),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{id:"au-layout",view:"hHh lpR fFf"}},[n("q-page-container",{class:{"au-loggedin":e.loggedin}},[n("transition",{attrs:{appear:"","appear-class":"custom-appear-class"}},[n("q-page",{staticClass:"au-page"},[n("div",{staticClass:"fixed-center text-center au-container"},[n("div",{staticClass:"au-logo-container"},[n("klab-spinner",{staticClass:"au-logo",attrs:{"store-controlled":!0,ball:e.loggedin?15:12,wrapperId:"au-layout",ballColor:e.COLORS.PRIMARY}}),n("klab-brand",{attrs:{customClasses:["au-app-name"]}})],1),n("div",{staticClass:"au-content"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{on:{loggedin:function(t){e.loggedin=!0}}})],1)],1)])])],1)],1)],1)},q=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"klab-spinner",attrs:{width:e.size,height:e.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{transform:"translate(-100,-100)"}},[n("path",{style:{fill:e.computedLogoColor},attrs:{id:"klab-elephant",d:"m 104.05375,199.87049 c 0,-0.11305 0.4478,-0.91175 0.99511,-1.77528 1.94483,-3.06856 3.27685,-6.78737 3.77047,-10.52665 0.29881,-2.26343 0.15587,-6.37263 -0.29771,-8.55932 -1.14055,-5.49873 -4.29348,-10.90946 -8.574581,-14.71484 -1.82502,-1.62221 -4.999321,-3.76965 -5.572248,-3.76965 -0.228397,0 -0.485155,0.37441 -0.806944,1.17663 -0.259578,0.64714 -0.993903,2.15655 -1.631796,3.35422 -5.200139,9.76333 -14.721978,16.58207 -26.443011,18.93626 -2.371366,0.4763 -2.941693,0.51841 -7.137203,0.52709 -4.783242,0.0107 -5.857508,-0.0987 -9.516261,-0.96376 -1.799531,-0.42535 -5.203264,-1.52911 -6.11334,-1.98244 -0.627576,-0.31261 -0.219288,-0.37068 1.058706,-0.15039 0.677374,0.11665 2.344101,0.28066 3.703835,0.36429 10.383295,0.63949 20.470492,-2.96946 27.828086,-9.95625 2.479314,-2.35433 5.416763,-6.02653 5.078034,-6.34818 -0.06357,-0.0603 -1.212132,0.3144 -2.552334,0.83262 -1.340209,0.51833 -3.150463,1.16092 -4.022785,1.42793 -14.301306,4.3781 -30.19149,2.51194 -42.865512,-5.03412 -4.778105,-2.84486 -9.475427,-6.82887 -12.746105,-10.81051 C 3.0894952,133.49312 -2.9713211,110.14728 1.372762,87.049374 3.5839973,75.292005 9.9956711,60.934413 17.659283,50.579102 25.887885,39.46033 37.060206,29.593487 48.458951,23.378348 c 4.579091,-2.496751 11.085286,-5.456345 11.719117,-5.330872 0.197329,0.03912 -0.08202,0.553358 -0.917964,1.689899 -0.660911,0.898588 -1.201652,1.722991 -1.201652,1.831989 0,0.206729 0.09245,0.231853 2.158878,0.583757 2.629901,0.447841 2.642381,0.410264 -0.679907,2.048445 -9.14284,4.508264 -17.215861,10.30327 -23.728282,17.03279 -13.14446,13.582611 -20.879875,30.2425 -22.564528,48.597667 -0.473537,5.15939 -0.147666,13.878707 0.703556,18.826337 1.668929,9.70024 2.500887,12.58177 5.055057,17.50849 4.266357,8.22937 11.165405,14.83367 19.726673,18.88394 4.280221,2.02494 7.892448,3.12853 10.960162,3.34843 4.57008,0.32768 9.967853,-1.35619 13.248445,-4.13278 2.776638,-2.35007 5.936228,-8.34114 7.511872,-14.24374 1.17168,-4.38929 1.621818,-8.51084 1.870677,-17.12841 0.192643,-6.67166 0.379245,-8.14525 1.502287,-11.86428 3.612223,-11.962124 10.664889,-22.72192 19.5246,-29.787446 5.51291,-4.396501 13.027538,-8.152071 19.517308,-9.754147 7.5408,-1.861492 14.70842,-2.149978 22.52166,-0.906484 l 2.48698,0.395835 1.01714,-0.594345 c 1.80426,-1.054208 3.27792,-1.485395 8.40213,-2.45842 13.57939,-2.578509 20.80031,-5.12687 28.68357,-10.122812 1.34796,-0.854264 2.518,-1.553194 2.60014,-1.553194 0.17639,0 3.04247,3.703853 4.73474,6.118595 14.65078,20.905435 19.96193,46.698271 14.71178,71.445998 -5.62456,26.51255 -22.68674,49.25952 -47.37957,63.16554 -11.99038,6.75246 -26.6627,11.31768 -40.44415,12.58396 -5.31854,0.48868 -6.14592,0.5301 -6.14592,0.30759 z m -9.798702,-86.34916 c 1.261795,-0.58673 2.720523,-1.98517 3.256482,-3.12196 0.463828,-0.98375 0.313172,-1.18937 -1.409661,-1.92354 -3.130575,-1.33412 -7.441006,-0.49436 -9.961047,1.94062 -0.740863,0.71588 -0.932206,1.01901 -0.832158,1.31833 0.153789,0.46008 1.731583,1.59956 2.813677,2.03201 1.78083,0.71171 4.290172,0.61125 6.132707,-0.24549 z"}})]),n("circle",{class:{moving:e.moving},style:{fill:e.computedBallColor},attrs:{id:"spinner-circle",cx:"0",cy:"-90",r:e.ball}})])},V=[];const K={MAIN_COLOR:"rgb(17, 170, 187)",MAIN_GREEN:"rgb(70,161,74)",MAIN_LIGHT_GREEN:"rgb(231,255,219)",MAIN_CYAN:"rgb(0,131,143)",MAIN_LIGHT_CYAN:"rgb(228,253,255)",MAIN_YELLOW:"rgb(255, 195, 0)",MAIN_RED:"rgb(255, 100, 100)",PRIMARY:"#da1f26",SECONDARY:"#26A69A",TERTIARY:"#555",NEUTRAL:"#E0E1E2",POSITIVE:"#19A019",NEGATIVE:"#DB2828",INFO:"#1E88CE",WARNING:"#F2C037",PRIMARY_NAME:"primary",SECONDARY_NAME:"secondary",TERTIARY_NAME:"tertiary",POSITIVE_NAME:"positive",NEGATIVE_NAME:"negative",INFO_NAME:"info",WARNING_NAME:"warning",COLOR_PRIMARY:"primary",COLOR_SECONDARY:"secondary",COLOR_TERTIARY:"tertiary",COLOR_POSITIVE:"positive",COLOR_NEGATIVE:"negative",COLOR_INFO:"info",COLOR_WARNING:"warning",COLOR_LIGHT:"light",COLOR_DARK:"dark",COLOR_FADED:"faded"},F={SPINNER_STOPPED_COLOR:K.MAIN_COLOR,SPINNER_LOADING_COLOR:K.MAIN_YELLOW,SPINNER_MC_RED:K.MAIN_RED,SPINNER_ERROR_COLOR:K.NEGATIVE_NAME,SPINNER_ELEPHANT_DEFAULT_COLOR:"#010102"},H={SPINNER_LOADING:{ballColor:F.SPINNER_LOADING_COLOR,color:F.SPINNER_LOADING_COLOR,animated:!0},SPINNER_STOPPED:{color:F.SPINNER_STOPPED_COLOR,animated:!1},SPINNER_ERROR:{color:F.SPINNER_ERROR_COLOR,animated:!1,time:2,then:{color:F.SPINNER_STOPPED_COLOR,animated:!1}}},W={USERNAME_MIN_LENGTH:6,PSW_MIN_LENGTH:8,PSW_MAX_LENGTH:32,READY:0,WAITING:1,REFRESHING:2,IMAGE_NOT_FOUND_SRC:"image-off-outline.png",COOKIE_TOKEN:"klab_auth",PARAM_TOKEN:"token",PARAM_APP:"app"},Q={WS_USERS:"api/v2/users"},Y={LOG_IN:{method:"POST",url:Q.WS_USERS+"/log-in"},LOG_OUT:{method:"POST",url:Q.WS_USERS+"/log-out"}};var X={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:T["a"].getBrand("k-main")},logoColor:{type:String,default:F.SPINNER_ELEPHANT_DEFAULT_COLOR},ballColor:{type:String,default:T["a"].getBrand("primary")},stroke:{type:String,default:"none"},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!0},wrapperId:{type:String,required:!0}},computed:_()(_()({},Object(R["c"])("view",["spinner"])),{},{computedLogoColor(){return this.storeControlled&&this.spinner.logoColor||this.logoColor},computedBallColor(){return this.storeControlled&&this.spinner.ballColor||this.ballColor},moving(){return this.storeControlled?this.spinner.animated:this.animated},errorMessage(){return this.spinner.errorMessage},isVisible(){let e;return null!==this.wrapperId&&(e=document.getElementById(this.wrapperId),!(!e||null==e||!e.style)&&!("none"===e.style.display))}}),methods:{getBrand(e){return T["a"].getBrand(e)}},watch:{errorMessage(e){if(this.spinner.showNotifications&&this.isVisible&&null!==e){let t;t=e instanceof Error?e.message:e,this.$q.notify({message:t,color:"negative",timeout:1e3})}}}},J=X,Z=(n("fef8"),Object(A["a"])(J,B,V,!1,null,"ecb48f9c",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-name",class:e.customClasses,domProps:{innerHTML:e._s(e.htmlAppName)}})},ne=[],se={appName:"k.LAB Engine",appDescription:"k.LAB Engine",appColor:"#da1f26"},re={props:{customClasses:Array,default:()=>[]},data(){return{appName:se.appName,appColor:se.appColor}},computed:{htmlAppName(){return this.appName.replace(".",`<span style="color: ${this.appColor}">.</span>`)}}},ae=re,oe=(n("4406"),Object(A["a"])(ae,te,ne,!1,null,null,null)),ie=oe.exports,le={name:"Authorization",components:{KlabSpinner:ee,KlabBrand:ie},data(){return{loggedin:!1,COLORS:K}},computed:{spinnerColor(){return this.$store.getters["view/spinnerColor"]}}},ce=le,ue=(n("1ccf"),n("eebe")),de=n.n(ue),pe=Object(A["a"])(ce,z,q,!1,null,null,null),fe=pe.exports;de()(pe,"components",{QLayout:a["a"],QPageContainer:l["a"],QPage:c["a"],QInput:p["a"],QBtn:u["a"]});var me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width column content-center au-form-container"},[n("div",{staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("q-input",{ref:"user-input",attrs:{color:"k-controls","no-error-icon":"",rules:[function(t){return!e.checking&&""===e.$refs["psw-input"].value||e.fieldRequired(t)}],placeholder:e.$t("labels.username"),autocomplete:"username",autofocus:""},on:{keyup:function(t){return e.$refs["psw-input"].resetValidation()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-account-box"}})]},proxy:!0}]),model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("q-input",{ref:"psw-input",attrs:{color:"k-controls",rules:[function(t){return!e.checking&&""===e.$refs["user-input"].value||e.fieldRequired(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:"password",placeholder:e.$t("labels.password"),autocomplete:"current-password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("div",{staticClass:"text-right"},[n("q-checkbox",{attrs:{color:"k-controls","left-label":"",label:e.$t("labels.rememberMe")},on:{input:e.remember},model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}})],1),n("div",{staticClass:"au-btn-container"},[n("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"k-controls",type:"submit",label:e.$t("labels.btnLogin")}})],1)],1)]),n("klab-loading",{attrs:{loading:e.loading}})],1)},he=[],ge={methods:{fieldRequired(e){return!!e||this.$t("messages.fieldRequired")},emailValidation(e){return Ue.email.test(e)||this.$t("messages.emailValidationError")},usernameValidation(e,t=W.USERNAME_MIN_LENGTH){return Ue.username.test(e)?e.length>=t||this.$t("messages.usernameFormatLengthError"):this.$t("messages.usernameFormatValidationError")},passwordValidation(e,t=W.PSW_MIN_LENGTH,n=W.PSW_MAX_LENGTH){return e.length>=t&&e.length<=n||this.$t("messages.passwordValidationError")},phoneValidation(e,t=!1){return!(t||"undefined"!==typeof e&&null!==e&&""!==e)||(Ue.phone.test(e)||this.$t("messages.phoneValidationError"))}}},be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("div",{staticClass:"absolute-center k-loading"},[n("q-spinner",{attrs:{size:"4em",color:e.color}}),""!==e.computedMessage?n("div",[e._v(e._s(e.computedMessage))]):e._e()],1)])},Ee=[],we={name:"KlabLoading",props:{message:{type:String,default:null},loading:{type:Boolean,required:!0},color:{type:String,default:"primary"}},data(){return{}},computed:{computedMessage(){return this.message||this.$t("messages.loading")}}},Ne=we,Oe=(n("1e8d"),n("24e8")),je=n("0d59"),_e=Object(A["a"])(Ne,be,Ee,!1,null,null,null),Re=_e.exports;de()(_e,"components",{QDialog:Oe["a"],QSpinner:je["a"]});var ve={name:"LoginForm",mixins:[ge],components:{KlabLoading:Re},data(){return{user:{username:"",password:""},loading:!1,checking:!1,rememberMe:!1}},computed:_()({},Object(R["c"])("auth",["token","selectedApp"])),methods:_()(_()({},Object(R["b"])("auth",["setToken"])),{},{login(){this.checking=!0,this.$refs["user-input"].validate(),this.$refs["psw-input"].validate(),this.checking=!1,this.$refs["user-input"].hasError||this.$refs["psw-input"].hasError||this.doLogin().then((()=>{this.loading=!1})).catch((e=>{this.$q.notify({message:this.$t("messages.userPswInvalid"),color:"negative",icon:"mdi-alert-circle"}),console.error(`Error ${e.status}: ${e.message}`),this.loading=!1}))},doLogin(){return new Promise(((e,t)=>{this.$store.dispatch("auth/login",{user:this.user,token:this.token}).then((({redirect:t})=>{let n;this.rememberMe&&this.setCookie(),n=-1!==t.indexOf("?")?"&":"?";let s=`${n}${W.PARAM_TOKEN}=${this.token}`;null!==this.selectedApp&&(s=`${s}&app=${this.selectedApp}`),Be(t)?window.location=`${t}${s}`:(this.$q.notify({message:this.$t("messages.invalidRedirect"),color:"negative",icon:"mdi-alert-circle"}),console.error(`Invalid redirect: ${t}${s}`)),e()})).catch((e=>{403===e.status&&(this.removeCookie(),this.setToken(null)),t(e)}))}))},remember(e){e?this.setCookie():this.removeCookie()},setCookie(){this.token&&w["a"].set(W.COOKIE_TOKEN,this.token,{expires:30,path:"/"})},removeCookie(){w["a"].has(W.COOKIE_TOKEN)&&w["a"].remove(W.COOKIE_TOKEN,{path:"/"})}}),mounted(){this.rememberMe=null!==this.token,this.token&&(this.loading=!0,this.doLogin().then((()=>{this.loading=!1})).catch((()=>{console.info("Need login"),this.loading=!1})))}},ye=ve,Ae=(n("b29d8"),Object(A["a"])(ye,me,he,!1,null,null,null)),Ce=Ae.exports;de()(Ae,"components",{QInput:p["a"],QIcon:d["a"],QCheckbox:m["a"],QBtn:u["a"]});const Ie=[{path:"/",redirect:"login",component:fe,children:[{path:"/login",name:"login",component:Ce}]}];Ie.push({path:"*",component:()=>n.e(2).then(n.bind(null,"e51e"))});var Se=Ie;s["a"].use(U["a"]);const ke=new U["a"]({scrollBehavior:()=>({y:0}),routes:Se,mode:"hash",base:"/modeler/"});var Pe=ke;n("c1df");const{hexToRgb:Te,getBrand:Le,rgbToHex:Me}=T["a"],xe=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/,De=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");function $e(e){if("string"!==typeof e)throw new TypeError("Expected a string");const t=xe.exec(e);if(t){const e={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)};return t[4]&&(e.a=parseFloat(t[4])),e}return Te(e)}function Ge(e){let t,n;return 0===e.indexOf("#")?(n=e,t=Te(e)):-1!==e.indexOf(",")?(t=$e(e),n=Me(t)):(n=Le(e),t=Te(n)),{rgb:t,hex:n,color:e}}const Ue={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,username:/^[a-zA-Z0-9_.-]*$/,phone:/^[+]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/};async function ze(e){if(e.response){const t={status:e.response.data.status||e.response.status,message:e.response.data.message||e.response.data||(""!==e.response.statusText?e.response.statusText:"Unknown"),axiosError:e};if(t.message instanceof Blob&&"application/json"===t.message.type){const e=await new Promise((e=>{const n=new FileReader;n.onload=function(){e(JSON.parse(this.result))},n.readAsText(t.message)}));return e}return t}return e.request?{status:e.request.status,message:e.message,axiosError:e}:{status:"UNKNOWN",message:e.message,axiosError:e}}async function qe(e,t,n=null){const{type:s,url:r,params:a={},needAuth:o=!1,owner:i="layout"}=e;if("GET"!==s&&"POST"!==s&&"PUT"!==s&&"DELETE"!==s||null===r||""===r)throw new Error(`Bad axios call, check type and url: ${s} / ${r}`);Je.dispatch("view/setSpinner",_()(_()({},H.SPINNER_LOADING),{},{owner:"layout"}),{root:!0}).then((async()=>{const e="GET"===s?L["a"].get:"POST"===s?L["a"].post:"DELETE"===s?L["a"].delete:L["a"].put;let l;try{l=await e("/modeler/"+r,a),l&&(t?t(l,(()=>{Je.dispatch("view/setSpinner",_()(_()({},H.SPINNER_STOPPED),{},{owner:i}),{root:!0})})):(console.warn("Doing nothing after axios call"),Je.dispatch("view/setSpinner",_()(_()({},H.SPINNER_STOPPED),{},{owner:i}),{root:!0})))}catch(c){const e=await ze(c);if(Je.dispatch("view/setSpinner",_()(_()({},H.SPINNER_ERROR),{},{owner:i,errorMessage:e.message,showNotifications:!1}),{root:!0}),o&&401===e.status)return console.warn("We are logged out from backoffice"),Je.dispatch("auth/logout",!0,{root:!0}),void Pe.push("/login");if(-1!==e.message.toLowerCase().indexOf("network error")&&Je.dispatch("view/setConnectionDown",!0),null===n)throw e;n(e)}}))}function Be(e){return De.open("GET",e,!1),De.send(),404!==De.status}var Ve={login:({commit:e},{user:t={username:null,password:null},token:n=null})=>new Promise(((s,r)=>{null!==t||null!==n?qe({type:Y.LOG_IN.method,url:Y.LOG_IN.url,params:_()(_()({},t),{},{token:n})},(({data:t},n)=>{t&&(t.authorization?e("STORE_TOKEN",t.authorization):console.warn("Unknown answer",t)),s(t),n()}),(e=>{r(e)})):r("Must exists user data or token")})),setToken:({commit:e},t)=>{e("STORE_TOKEN",t)},setSelectedApp:({commit:e},t)=>{e("SET_SELECTED_APP",t)}},Ke={namespaced:!0,state:S,getters:k,mutations:P,actions:Ve},Fe={spinner:H.SPINNER_STOPPED,spinnerOwners:[],connectionDown:!1},He={spinnerIsAnimated:e=>e.spinner.animated,spinner:e=>e.spinner,spinnerOwners:e=>e.spinnerOwners,spinnerColor:e=>"undefined"!==e.spinner&&null!==e.spinner?Ge(e.spinner.color):null,spinnerErrorMessage:e=>"undefined"!==e.spinner&&null!==e.spinner?e.spinner.errorMessage:null,isConnectionDown:e=>e.connectionDown},We={SET_SPINNER_ANIMATED:(e,t)=>{e.spinner.animated=t},SET_SPINNER_COLOR:(e,t)=>{e.spinner.color=t},SET_SPINNER:(e,{animated:t,color:n,errorMessage:s=null,showNotifications:r=!1})=>{e.spinner={animated:t,color:n,errorMessage:s,showNotifications:r}},ADD_TO_SPINNER_OWNERS:(e,t)=>{const n=e.spinnerOwners.indexOf(t);-1===n&&e.spinnerOwners.push(t)},REMOVE_FROM_SPINNER_OWNERS:(e,t)=>{const n=e.spinnerOwners.indexOf(t);-1!==n&&e.spinnerOwners.splice(n,1)},SET_CONNECTION_DOWN:(e,t)=>{e.connectionDown=t}},Qe={setSpinner:({commit:e,getters:t,dispatch:n},{animated:s,color:r,time:a=null,then:o=null,errorMessage:i=null,showNotifications:l=!1,owner:c})=>new Promise(((u,d)=>{c&&null!==c?(s?e("ADD_TO_SPINNER_OWNERS",c):(e("REMOVE_FROM_SPINNER_OWNERS",c),0!==t.spinnerOwners.length&&(s=!0,r!==H.SPINNER_ERROR.color&&({color:r}=H.SPINNER_LOADING))),e("SET_SPINNER",{animated:s,color:r,errorMessage:i,showNotifications:l}),null!==a&&null!==o&&setTimeout((()=>{n("setSpinner",_()(_()({},o),{},{owner:c}))}),1e3*a),u()):d(new Error("No spinner owner!"))})),setConnectionDown:({commit:e},t)=>{e("SET_CONNECTION_DOWN",t)}},Ye={namespaced:!0,state:Fe,getters:He,mutations:We,actions:Qe};s["a"].use(R["a"]);const Xe=new R["a"].Store({modules:{auth:Ke,view:Ye}});var Je=Xe,Ze=async function(){const e="function"===typeof Je?await Je({Vue:s["a"]}):Je,t="function"===typeof Pe?await Pe({Vue:s["a"],store:e}):Pe;e.$router=t;const n={router:t,store:e,render:e=>e(I),el:"#q-app"};return{app:n,store:e,router:t}},et=(n("ddb0"),({store:e})=>{w["a"].has(W.COOKIE_TOKEN)&&(e.state.auth.token=w["a"].get(W.COOKIE_TOKEN));let t=null;const n=window.location.href.split("?");if(2===n.length){const e=n[1].split("&");e.forEach((e=>{const n=e.split("=");if(2===n.length&&"app"===n[0]){const e=n[1].indexOf("#");-1!==e&&(n[1]=n[1].substring(0,e)),[,t]=n}}))}e.state.auth.selectedApp=t});const tt="/modeler/",nt=/\/\//,st=e=>(tt+e).replace(nt,"/");async function rt(){const{app:e,store:t,router:n}=await Ze();let r=!1;const a=e=>{r=!0;const t=Object(e)===e?st(n.resolve(e).route.fullPath):e;window.location.href=t},o=window.location.href.replace(window.location.origin,""),i=[G,et,L["b"]];for(let c=0;!1===r&&c<i.length;c++)if("function"===typeof i[c])try{await i[c]({app:e,router:n,store:t,Vue:s["a"],ssrContext:null,redirect:a,urlPath:o,publicPath:tt})}catch(l){return l&&l.url?void(window.location.href=l.url):void console.error("[Quasar] boot error:",l)}!0!==r&&new s["a"](e)}rt()},"31e4":function(e,t,n){},"3bcb":function(e,t,n){},4406:function(e,t,n){"use strict";var s=n("8ae5"),r=n.n(s);r.a},4678:function(e,t,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id="4678"},"758b":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var s=n("ded3"),r=n.n(s),a=n("bc3a"),o=n.n(a);const i="/modeler",l=o.a.create({baseUrl:i});t["b"]=({Vue:t})=>{t.prototype.$http=l,null!==e.env.X_SERVER_HEADER&&(t.prototype.$http.defaults.headers.common=r()(r()({},t.prototype.$http.defaults.headers.common),{},{"X-Server-Header":e.env.X_SERVER_HEADER}))}}).call(this,n("4362"))},"76eb":function(e,t,n){},"78b3":function(e,t,n){},"7e6d":function(e,t,n){},"8ae5":function(e,t,n){},b29d8:function(e,t,n){"use strict";var s=n("76eb"),r=n.n(s);r.a},ba08:function(e,t,n){},fef8:function(e,t,n){"use strict";var s=n("31e4"),r=n.n(s);r.a}});