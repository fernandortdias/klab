(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("2f39")},"02a7":function(e,t,n){"use strict";var o=n("9d4f"),r=n.n(o);r.a},"1ccf":function(e,t,n){"use strict";var o=n("d5cd"),r=n.n(o);r.a},"1e8d":function(e,t,n){"use strict";var o=n("2a64"),r=n.n(o);r.a},2312:function(e,t,n){"use strict";var o=n("a528"),r=n.n(o);r.a},"26be":function(e,t,n){"use strict";var o=n("3df6"),r=n.n(o);r.a},"2a64":function(e,t,n){},"2f39":function(e,t,n){"use strict";n.r(t);var o=n("967e"),r=n.n(o),a=(n("a481"),n("96cf"),n("fa84")),s=n.n(a),i=(n("1867"),n("e54f"),n("7d6e"),n("62f2"),n("7e6d"),n("3bcb"),n("2b0e")),l=n("b05d"),c=n("4d5a"),u=n("9898"),d=n("f2cc"),p=n("c7a0"),f=n("2ea3"),m=n("65c6"),h=n("6ac5"),g=n("9c40"),w=n("0016"),b=n("497d"),v=n("6ab5"),k=n("033f"),_=n("e208"),E=n("27f9"),y=n("cb32"),P=n("f09f"),O=n("2c91"),N=n("429b"),C=n("7460"),R=n("24e8"),S=n("0d59"),$=n("8c8f"),I=n("8f8e"),A=n("eaac"),q=n("db86"),L=n("bd08"),D=n("a370"),x=n("4b7e"),T=n("714f"),j=n("7f67"),U=n("2a19");i["a"].use(l["a"],{config:{},components:{QLayout:c["a"],QHeader:u["a"],QDrawer:d["a"],QPageContainer:p["a"],QPage:f["a"],QToolbar:m["a"],QToolbarTitle:h["a"],QBtn:g["a"],QIcon:w["a"],QList:b["a"],QItem:v["a"],QItemSection:k["a"],QItemLabel:_["a"],QInput:E["a"],QAvatar:y["a"],QCard:P["a"],QSpace:O["a"],QTabs:N["a"],QTab:C["a"],QDialog:R["a"],QSpinner:S["a"],QBtnGroup:$["a"],QCheckbox:I["a"],QTable:A["a"],QTd:q["a"],QTr:L["a"],QCardSection:D["a"],QCardActions:x["a"]},directives:{Ripple:T["a"],ClosePopup:j["a"]},plugins:{Notify:U["a"]}});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},M=[],B={name:"App"},V=B,H=n("2877"),F=Object(H["a"])(V,G,M,!1,null,null,null),Q=F.exports,W=n("2f62"),K=localStorage.getItem("token"),Y={status:"",token:K||"",profile:{roles:[]},profileLoaded:!1,groups:[],clickback:"",needPassword:!1,admin:!1},z=(n("6762"),n("2fdb"),{isLoggedIn:function(e){return!!e.token},authStatus:function(e){return e.status},profile:function(e){return e.profile},username:function(e){return e.profile&&e.profile.username},profileIsLoad:function(e){return"undefined"!==typeof e.profile.username},groups:function(e){return e.groups},needPassword:function(e){return e.needPassword},admin:function(e){return e.profile.roles.includes("ROLE_ADMINISTRATOR")}}),J={auth_success:function(e,t){var n=t.token,o=t.profile;e.status="success",e.token=n,e.profile=o},auth_error:function(e){e.status="error"},logout:function(e){e.status="",e.token="",e.profile={roles:[],groups:[]},e.clickback=""},groups_success:function(e,t){e.groups=t},groups_error:function(e){e.groups=[]},auth_profile:function(e,t){e.profile=t},groups_request_success:function(e){e.status="success"},groups_request_failure:function(e){e.status="error"},cert_request_success:function(e){e.status="success"},cert_request_failure:function(e){e.status="error"},password_request_success:function(e,t){e.status="success",e.clickback=t},password_request_failure:function(e){e.status="success",e.clickback=""},password_set_success:function(e){e.status="success",e.clickback=""},password_set_failure:function(e){e.status="failure",e.clickback=""},register_success:function(e){e.status="success"},register_failure:function(e){e.status="failure"},activate_success:function(e,t){var n=t.profile,o=t.clickback;e.status="success",e.profile=n,e.clickback=o},activate_failure:function(e){e.status="failure"}},Z=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("456d"),n("4917"),n("f3e3")),X=n.n(Z),ee=(n("551c"),n("06db"),n("c47a")),te=n.n(ee),ne=n("bc3a"),oe=n.n(ne),re="".concat("/hub"),ae=oe.a.create({baseUrl:re}),se=function(e){var t=e.Vue;t.prototype.$http=ae;var n=localStorage.getItem("token");n&&(t.prototype.$http.defaults.headers.common.Authentication=n)},ie={MAIN_COLOR:"rgb(17, 170, 187)",MAIN_GREEN:"rgb(70,161,74)",MAIN_LIGHT_GREEN:"rgb(231,255,219)",MAIN_CYAN:"rgb(0,131,143)",MAIN_LIGHT_CYAN:"rgb(228,253,255)",MAIN_YELLOW:"rgb(255, 195, 0)",MAIN_RED:"rgb(255, 100, 100)",PRIMARY:"#DA1F26",SECONDARY:"#26A69A",TERTIARY:"#555",NEUTRAL:"#E0E1E2",POSITIVE:"#19A019",NEGATIVE:"#DB2828",INFO:"#1E88CE",WARNING:"#F2C037",PRIMARY_NAME:"primary",SECONDARY_NAME:"secondary",TERTIARY_NAME:"tertiary",POSITIVE_NAME:"positive",NEGATIVE_NAME:"negative",INFO_NAME:"info",WARNING_NAME:"warning",COLOR_PRIMARY:"primary",COLOR_SECONDARY:"secondary",COLOR_TERTIARY:"tertiary",COLOR_POSITIVE:"positive",COLOR_NEGATIVE:"negative",COLOR_INFO:"info",COLOR_WARNING:"warning",COLOR_LIGHT:"light",COLOR_DARK:"dark",COLOR_FADED:"faded"},le={SPINNER_STOPPED_COLOR:ie.MAIN_COLOR,SPINNER_LOADING_COLOR:ie.MAIN_YELLOW,SPINNER_MC_RED:ie.MAIN_RED,SPINNER_ERROR_COLOR:ie.NEGATIVE_NAME,SPINNER_ELEPHANT_DEFAULT_COLOR:"#010102"},ce={SPINNER_LOADING:{ballColor:le.SPINNER_LOADING_COLOR,color:le.SPINNER_LOADING_COLOR,animated:!0},SPINNER_STOPPED:{color:le.SPINNER_STOPPED_COLOR,animated:!1},SPINNER_ERROR:{color:le.SPINNER_ERROR_COLOR,animated:!1,time:2,then:{color:le.SPINNER_STOPPED_COLOR,animated:!1}}},ue={USERNAME_MIN_LENGTH:6,PSW_MIN_LENGTH:8,PSW_MAX_LENGTH:32};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe={login:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.post("".concat("/hub","/signin"),t).then((function(t){var o=t.data.Authentication.tokenString,r=t.data.Profile;localStorage.setItem("token",o),ae.defaults.headers.common.Authentication=o,n("auth_success",{token:o,profile:r}),e(t)})).catch((function(e){n("auth_error"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),localStorage.removeItem("token"),r(e)}))}))},logout:function(e){var t=e.commit;localStorage.removeItem("token"),t("logout")},register:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.post("".concat("/hub","/signup"),t).then((function(t){n("register_success"),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){n("register_failure"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),r(e.response.data.message)}))}))},invitedNewUser:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.post("".concat("/hub","/signup?groups=").concat(t.token,"&addGroups=").concat(t.groups.join(",")),{username:t.username,email:t.email}).then((function(t){n("register_success"),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){n("register_failure"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),r(e)}))}))},invitedOAuthUserGroups:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.put("".concat("/hub","/signup?token=").concat(t.authToken,"&groups=").concat(t.token,"&addGroups=").concat(t.addGroups)).then((function(t){n("register_success"),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){n("register_failure"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),r(e)}))}))},oAuthLogin:function(e,t){var n=e.commit,o=e.dispatch;return new Promise((function(e,r){localStorage.setItem("token",t),ae.defaults.headers.common.Authentication=t,ae.get("".concat("/hub","/api/users/me")).then((function(r){var a=r.data;n("auth_success",{token:t,profile:a}),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(r)})).catch((function(e){n("auth_error"),localStorage.removeItem("token"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),r(e)}))}))},getProfile:function(e){var t=e.commit,n=e.dispatch;return n("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,o){ae.get("".concat("/hub","/api/users/me")).then((function(o){var r=o.data;t("auth_profile",r),n("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(o)})).catch((function(e){t("auth_error"),localStorage.removeItem("token"),n("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),o(e)}))}))},getGroups:function(e){var t=e.commit,n=e.dispatch;return n("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,o){ae.get("".concat("/hub","/api/groups")).then((function(o){var r=o.data;t("groups_success",r),n("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(r)})).catch((function(e){t("groups_error"),n("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),o(e)}))}))},getGroup:function(e,t){var n=e.dispatch;return n("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,o){ae.get("".concat("/hub","/api/groups/").concat(t)).then((function(t){n("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t.data)})).catch((function(e){n("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),o(e)}))}))},setGroups:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.get("".concat("/hub","/api/users/").concat(t.user,"?groups=").concat(t.token,"&addGroups=").concat(t.addGroups)).then((function(t){var r=t.data.Groups;n("groups_success",r),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){n("groups_error"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),r(e)}))}))},requestGroups:function(e,t){var n=e.commit,o=e.dispatch,r=X()(t,2),a=r[0],s=r[1];return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,t){ae.get("".concat("/hub","/api/users/").concat(a,"?requestGroups=").concat(s)).then((function(t){var r=t.data;n("groups_request_success",r),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(r)})).catch((function(e){var r=e.data;n("groups_request_failure",r),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),t(r)}))}))},updateProfile:function(e,t){return new Promise((function(e,n){ae.post("".concat("/hub","/api/users/").concat(t.username,"?update"),{profile:t}).then((function(n){console.debug(t),console.debug(n),e()})).catch((function(e){n(e)}))}))},getCertificateClickback:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.get("".concat("/hub","/api/users/").concat(t,"?requestCertificate")).then((function(t){var n=t.data;if(n){var o=n.clickback;o?(console.debug("Received certificate clickback"),e(o)):r(new Error("Unknown error: no clickback attribute"))}else r(new Error("Unknown error: no data attribute"))})).catch((function(e){o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),n("cert_request_failure"),r(e)}))}))},getCertificate:function(e,t){var n=e.commit,o=e.dispatch,r=t.id,a=t.token;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,t){ae.get("".concat("/hub","/api/users/").concat(r,"?certificate=").concat(a),{responseType:"blob"}).then((function(t){var r=new Blob([t.data],{type:t.data.type}),a=window.URL.createObjectURL(r),s=document.createElement("a");s.href=a;var i=t.headers["content-disposition"],l="unknown";if(i){var c=i.match(/filename=(.+)/);if(2===c.length){var u=X()(c,2);l=u[1]}}s.setAttribute("download",l),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(a),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),n("cert_request_success"),e(t)})).catch((function(e){o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),n("cert_request_failure"),t(e)}))}))},getNewPassword:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.get("".concat("/hub","/api/users/").concat(t,"?password")).then((function(t){o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),n("password_request_success",t.data.clickback),e(t.data.clickback)})).catch((function(){o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),n("password_request_failure"),r("failure")}))}))},setNewPassword:function(e,t){var n=e.commit,o=e.dispatch,r=e.state;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,a){ae.post("".concat("/hub","/api/users/").concat(r.profile.username,"?password=").concat(r.clickback),{newPassword:t}).then((function(t){n("password_set_success"),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){var t=e.response;n("password_set_failure"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),a(t.data)}))}))},activateUser:function(e,t){var n=e.commit,o=e.dispatch;return o("view/setSpinner",pe({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,r){ae.get("".concat("/hub","/api/users/").concat(t.user,"?activate=").concat(t.token)).then((function(t){var r=t.data.profile,a=t.data.clickback;console.debug(t),n("activate_success",{profile:r,clickback:a}),o("view/setSpinner",pe({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){var t=e.response;n("activate_failure"),o("view/setSpinner",pe({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),r(t.data.message)}))}))}},me={namespaced:!0,state:Y,getters:z,mutations:J,actions:fe},he={spinner:ce.SPINNER_STOPPED,spinnerOwners:[]},ge=n("bc78"),we=ge["a"].hexToRgb,be=ge["a"].getBrand,ve=ge["a"].rgbToHex,ke=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/;function _e(e){if("string"!==typeof e)throw new TypeError("Expected a string");var t=ke.exec(e);if(t){var n={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)};return t[4]&&(n.a=parseFloat(t[4])),n}return we(e)}function Ee(e){var t,n;return 0===e.indexOf("#")?(n=e,t=we(e)):-1!==e.indexOf(",")?(t=_e(e),n=ve(t)):(n=be(e),t=we(n)),{rgb:t,hex:n,color:e}}var ye={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,username:/^[a-zA-Z0-9_.-]*$/,phone:/^[+]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/},Pe={spinnerIsAnimated:function(e){return e.spinner.animated},spinner:function(e){return e.spinner},spinnerOwners:function(e){return e.spinnerOwners},spinnerColor:function(e){return"undefined"!==e.spinner&&null!==e.spinner?Ee(e.spinner.color):null},spinnerErrorMessage:function(e){return"undefined"!==e.spinner&&null!==e.spinner?e.spinner.errorMessage:null}},Oe={SET_SPINNER_ANIMATED:function(e,t){e.spinner.animated=t},SET_SPINNER_COLOR:function(e,t){e.spinner.color=t},SET_SPINNER:function(e,t){var n=t.animated,o=t.color,r=t.errorMessage,a=void 0===r?null:r;e.spinner={animated:n,color:o,errorMessage:a}},ADD_TO_SPINNER_OWNERS:function(e,t){var n=e.spinnerOwners.indexOf(t);-1===n&&e.spinnerOwners.push(t)},REMOVE_FROM_SPINNER_OWNERS:function(e,t){var n=e.spinnerOwners.indexOf(t);-1!==n&&e.spinnerOwners.splice(n,1)}};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(n,!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re={setSpinner:function(e,t){var n=e.commit,o=e.getters,r=e.dispatch,a=t.animated,s=t.color,i=t.time,l=void 0===i?null:i,c=t.then,u=void 0===c?null:c,d=t.errorMessage,p=void 0===d?null:d,f=t.owner;return new Promise((function(e){if(!f||null===f)throw new Error("No spinner owner!");a?n("ADD_TO_SPINNER_OWNERS",f):(n("REMOVE_FROM_SPINNER_OWNERS",f),0!==o.spinnerOwners.length&&(a=!0,s!==ce.SPINNER_ERROR.color&&(s=ce.SPINNER_LOADING.color))),n("SET_SPINNER",{animated:a,color:s,errorMessage:p}),null!==l&&null!==u&&setTimeout((function(){r("setSpinner",Ce({},u,{owner:f}))}),1e3*l),e()}))}},Se={namespaced:!0,state:he,getters:Pe,mutations:Oe,actions:Re},$e={stats:{},users:[]},Ie={stats:function(e){return e.stats},users:function(e){return e.users}},Ae={stat_success:function(e,t){e.stats=t},load_users:function(e,t){e.users=t}};function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(n,!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={getStats:function(e){var t=e.commit,n=e.dispatch;return n("view/setSpinner",Le({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,o){ae.get("".concat("/hub","/ping")).then((function(o){n("view/setSpinner",Le({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),t("stat_success",o.data),e(o)})).catch((function(e){n("view/setSpinner",Le({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),t("stat_failure"),o(e)}))}))},loadUsers:function(e){var t=e.commit,n=e.dispatch;return n("view/setSpinner",Le({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,o){ae.get("".concat("/hub","/api/users")).then((function(r){var a=r.data;a&&a.Users?(n("view/setSpinner",Le({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),t("load_users",a.Users),e()):o(new Error("Problems retrieving users"))})).catch((function(e){n("view/setSpinner",Le({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),o(e)}))}))},createGroup:function(e,t){var n=e.dispatch;return n("view/setSpinner",Le({},ce.SPINNER_LOADING,{owner:"layout"}),{root:!0}),new Promise((function(e,o){ae.post("".concat("/hub","/api/groups"),t).then((function(t){n("view/setSpinner",Le({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),e(t)})).catch((function(e){n("view/setSpinner",Le({},ce.SPINNER_ERROR,{owner:"layout"}),{root:!0}),o(e)}))}))}},xe={namespaced:!0,state:$e,getters:Ie,mutations:Ae,actions:De};i["a"].use(W["a"]);var Te=new W["a"].Store({modules:{auth:me,view:Se,admin:xe}}),je=Te,Ue=n("8c4f"),Ge=n("1dce"),Me=n.n(Ge),Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{attrs:{id:"au-layout",view:"hHh lpR fFf"}},[n("q-page-container",{class:{"au-loggedin":e.loggedin}},[n("transition",{attrs:{appear:"","appear-class":"custom-appear-class"}},[n("div",{staticClass:"fixed-center text-center au-container"},[n("div",{staticClass:"au-logo-container"},[n("klab-spinner",{staticClass:"au-logo",attrs:{"store-controlled":!0,ball:e.loggedin?15:12,wrapperId:"au-layout",ballColor:"#007eff"}}),n("klab-brand",{attrs:{customClasses:["au-app-name"]}})],1),n("div",{staticClass:"au-content"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{on:{loggedin:function(t){e.loggedin=!0}}})],1)],1)])])],1)],1)},Ve=[],He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"klab-spinner",attrs:{width:e.size,height:e.size,viewBox:"-120 -120 250 250",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{transform:"translate(-100,-100)"}},[n("path",{style:{fill:e.computedLogoColor},attrs:{id:"klab-elephant",d:"m 104.05375,199.87049 c 0,-0.11305 0.4478,-0.91175 0.99511,-1.77528 1.94483,-3.06856 3.27685,-6.78737 3.77047,-10.52665 0.29881,-2.26343 0.15587,-6.37263 -0.29771,-8.55932 -1.14055,-5.49873 -4.29348,-10.90946 -8.574581,-14.71484 -1.82502,-1.62221 -4.999321,-3.76965 -5.572248,-3.76965 -0.228397,0 -0.485155,0.37441 -0.806944,1.17663 -0.259578,0.64714 -0.993903,2.15655 -1.631796,3.35422 -5.200139,9.76333 -14.721978,16.58207 -26.443011,18.93626 -2.371366,0.4763 -2.941693,0.51841 -7.137203,0.52709 -4.783242,0.0107 -5.857508,-0.0987 -9.516261,-0.96376 -1.799531,-0.42535 -5.203264,-1.52911 -6.11334,-1.98244 -0.627576,-0.31261 -0.219288,-0.37068 1.058706,-0.15039 0.677374,0.11665 2.344101,0.28066 3.703835,0.36429 10.383295,0.63949 20.470492,-2.96946 27.828086,-9.95625 2.479314,-2.35433 5.416763,-6.02653 5.078034,-6.34818 -0.06357,-0.0603 -1.212132,0.3144 -2.552334,0.83262 -1.340209,0.51833 -3.150463,1.16092 -4.022785,1.42793 -14.301306,4.3781 -30.19149,2.51194 -42.865512,-5.03412 -4.778105,-2.84486 -9.475427,-6.82887 -12.746105,-10.81051 C 3.0894952,133.49312 -2.9713211,110.14728 1.372762,87.049374 3.5839973,75.292005 9.9956711,60.934413 17.659283,50.579102 25.887885,39.46033 37.060206,29.593487 48.458951,23.378348 c 4.579091,-2.496751 11.085286,-5.456345 11.719117,-5.330872 0.197329,0.03912 -0.08202,0.553358 -0.917964,1.689899 -0.660911,0.898588 -1.201652,1.722991 -1.201652,1.831989 0,0.206729 0.09245,0.231853 2.158878,0.583757 2.629901,0.447841 2.642381,0.410264 -0.679907,2.048445 -9.14284,4.508264 -17.215861,10.30327 -23.728282,17.03279 -13.14446,13.582611 -20.879875,30.2425 -22.564528,48.597667 -0.473537,5.15939 -0.147666,13.878707 0.703556,18.826337 1.668929,9.70024 2.500887,12.58177 5.055057,17.50849 4.266357,8.22937 11.165405,14.83367 19.726673,18.88394 4.280221,2.02494 7.892448,3.12853 10.960162,3.34843 4.57008,0.32768 9.967853,-1.35619 13.248445,-4.13278 2.776638,-2.35007 5.936228,-8.34114 7.511872,-14.24374 1.17168,-4.38929 1.621818,-8.51084 1.870677,-17.12841 0.192643,-6.67166 0.379245,-8.14525 1.502287,-11.86428 3.612223,-11.962124 10.664889,-22.72192 19.5246,-29.787446 5.51291,-4.396501 13.027538,-8.152071 19.517308,-9.754147 7.5408,-1.861492 14.70842,-2.149978 22.52166,-0.906484 l 2.48698,0.395835 1.01714,-0.594345 c 1.80426,-1.054208 3.27792,-1.485395 8.40213,-2.45842 13.57939,-2.578509 20.80031,-5.12687 28.68357,-10.122812 1.34796,-0.854264 2.518,-1.553194 2.60014,-1.553194 0.17639,0 3.04247,3.703853 4.73474,6.118595 14.65078,20.905435 19.96193,46.698271 14.71178,71.445998 -5.62456,26.51255 -22.68674,49.25952 -47.37957,63.16554 -11.99038,6.75246 -26.6627,11.31768 -40.44415,12.58396 -5.31854,0.48868 -6.14592,0.5301 -6.14592,0.30759 z m -9.798702,-86.34916 c 1.261795,-0.58673 2.720523,-1.98517 3.256482,-3.12196 0.463828,-0.98375 0.313172,-1.18937 -1.409661,-1.92354 -3.130575,-1.33412 -7.441006,-0.49436 -9.961047,1.94062 -0.740863,0.71588 -0.932206,1.01901 -0.832158,1.31833 0.153789,0.46008 1.731583,1.59956 2.813677,2.03201 1.78083,0.71171 4.290172,0.61125 6.132707,-0.24549 z"}})]),n("circle",{class:{moving:e.moving},style:{fill:e.computedBallColor},attrs:{id:"spinner-circle",cx:"0",cy:"-90",r:e.ball}})])},Fe=[];n("c5f6");function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke={props:{size:{type:Number,default:200},ball:{type:Number,default:12},color:{type:String,default:ge["a"].getBrand("k-main")},logoColor:{type:String,default:le.SPINNER_ELEPHANT_DEFAULT_COLOR},ballColor:{type:String,default:ge["a"].getBrand("primary")},stroke:{type:String,default:"none"},animated:{type:Boolean,default:!0},storeControlled:{type:Boolean,default:!0},wrapperId:{type:String,required:!0}},computed:We({},Object(W["c"])("view",["spinner"]),{computedLogoColor:function(){return this.storeControlled&&this.spinner.logoColor||this.logoColor},computedBallColor:function(){return this.storeControlled&&this.spinner.ballColor||this.ballColor},moving:function(){return this.storeControlled?this.spinner.animated:this.animated},errorMessage:function(){return this.spinner.errorMessage},isVisible:function(){var e;return null!==this.wrapperId&&(e=document.getElementById(this.wrapperId),!(!e||null==e||!e.style)&&!("none"===e.style.display))}}),methods:{getBrand:function(e){return ge["a"].getBrand(e)}},watch:{errorMessage:function(e){var t;this.isVisible&&null!==e&&(t=e instanceof Error?e.message:e,console.error(t),this.$q.notify({message:t,color:"negative",timeout:1e3}))}}},Ye=Ke,ze=(n("02a7"),Object(H["a"])(Ye,He,Fe,!1,null,"a316b0ac",null)),Je=ze.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-name",class:e.customClasses,domProps:{innerHTML:e._s(e.htmlAppName)}})},Xe=[],et={appName:"k.Hub",appDescription:"k.Hub",appColor:"#007eff"},tt={props:{customClasses:Array,default:function(){return[]}},data:function(){return{appName:et.appName,appColor:et.appColor}},computed:{htmlAppName:function(){return this.appName.replace(".",'<span style="color: '.concat(this.appColor,'">.</span>'))}}},nt=tt,ot=(n("4406"),Object(H["a"])(nt,Ze,Xe,!1,null,null,null)),rt=ot.exports,at={name:"Authorization",components:{KlabSpinner:Je,KlabBrand:rt},data:function(){return{loggedin:!1}},computed:{spinnerColor:function(){return this.$store.getters["view/spinnerColor"]},appName:function(){return this.$t("commons.appName").replace(".","<span>.</span>")}}},st=at,it=(n("1ccf"),Object(H["a"])(st,Be,Ve,!1,null,null,null)),lt=it.exports,ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticClass:"no-scroll kh-layout-page",style:{opacity:e.loggingOut?0:1},attrs:{view:"lHr lpr lfr"}},[n("q-header",{staticClass:"bg-white text-black",attrs:{bordered:""}},[n("q-toolbar",{staticClass:"bg-white text-grey-8 kh-toolbar",attrs:{id:"kh-toolbar"}},[n("q-avatar",[n("klab-spinner",{attrs:{"store-controlled":!0,size:50,ball:20,wrapperId:"kh-toolbar",ballColor:"#007eff"}})],1),n("klab-brand",{attrs:{customClasses:["kh-app-name "]}}),n("div",{staticClass:"kh-menu"},e._l(e.filteredMenu,(function(t,o){return n("div",{key:"kh-menu-"+o,staticClass:"kh-menu-item"},[n("router-link",{attrs:{to:{name:t.route}},scopedSlots:e._u([{key:"default",fn:function(o){o.href;var r=o.route;o.navigate,o.isActive;return[n("q-btn",{class:[e.isRouteActive(r)?"disabled":""],attrs:{to:r,label:t.label,disable:t.route===e.$route.name,flat:""},on:{click:function(t){e.isRouteActive(r)}}})]}}],null,!0)})],1)})),0),n("q-space"),e._l(e.links,(function(t,o){return n("div",{key:"kh-link-"+o,staticClass:"kh-link-container"},[n("a",{staticClass:"kh-link",style:{"border-bottom-color":t.color?t.color:e.COLORS.MAIN_COLOR,color:t.color?t.color:e.COLORS.MAIN_COLOR},attrs:{href:t.url,title:t.title,target:"_blank"}},[t.icon?n("i",{class:t.icon}):e._e(),t.img?n("img",{style:Object.assign({},t.imgWidth&&{width:t.imgWidth}),attrs:{src:t.img,alt:t.title||t.label}}):e._e(),n("span",{domProps:{innerHTML:e._s(t.label)}})])])})),n("q-btn",{staticClass:"small-round",attrs:{round:"",flat:"",icon:"mdi-logout"},on:{click:e.logout}})],2)],1),n("q-page-container",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1),n("klab-loading",{attrs:{loading:e.loading,message:e.loadingMessage}})],1)},ut=[],dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{attrs:{"no-esc-dismiss":"","no-backdrop-dismiss":""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[n("div",{staticClass:"absolute-center kh-loading"},[n("q-spinner",{attrs:{size:"4em"}}),n("div",[e._v(e._s(e.computedMessage))])],1)])},pt=[],ft={name:"KlabLoading",props:{message:{type:String,default:null},loading:{type:Boolean,required:!0}},data:function(){return{}},computed:{computedMessage:function(){return this.message||this.$t("messages.loadingData")}}},mt=ft,ht=(n("1e8d"),Object(H["a"])(mt,dt,pt,!1,null,null,null)),gt=ht.exports,wt=[{name:"aries",label:"ARIES",img:"https://integratedmodelling.org/statics/logos/aries-logo.svg",imgWidth:"16px",title:"ARIES",url:"https://aries.integratedmodelling.org",color:"rgb(70,161,74)"},{name:"integratedModelling",label:"Integrated Modelling",img:"https://integratedmodelling.org/statics/logos/klab-logo.svg",imgWidth:"16px",title:"Integrated Modelling",url:"https://integratedmodelling.org",color:"#666"},{name:"confluence",img:"https://integratedmodelling.org/statics/logos/confluence-logo.svg",label:"Confluence",title:"Integrated modelling confluence",url:"https://integratedmodelling.org/confluence",color:"rgb(7,71,166)"},{name:"bitbucket",img:"https://integratedmodelling.org/statics/logos/bitbucket-logo.svg",label:"Bitbucket",title:"Bitbucket repositories",url:"https://bitbucket.org/integratedmodelling/profile/projects",color:"rgb(7,71,166)"}],bt=n("a925"),vt={commons:{appName:"k.Hub"},menu:{home:"Home",downloads:"Downloads",profile:"Profile",changePassword:"Change password",certificate:"Download certificate",admin:"Admin",users:"Users",groups:"Groups",usersToGroups:"Assign groups"},labels:{username:"Username",password:"Password",newPassword:"New password",newPasswordConfirmation:"New password confirmation",btnLogin:"Login",btnRegister:"Register",btnCancel:"Cancel",btnGoogle:"Sign in with Google",btnSetPassword:"Set password",email:"Email",accountHeader:"Account information",groupsHeader:"Groups",personalHeader:"Personal data",acceptEULA:"Accept",declineEULA:"Decline",changePasswordConfirmation:"Change",firstName:"First name",lastName:"Last name",middleName:"Middle initial",address:"Address",addressPlaceholder:"Address, city, state/region, postal code, country",phone:"Phone number",affiliation:"Affiliation",jobTitle:"Job title",updateProfileBtn:"Update profile",yes:"Yes",no:"No",registrationDate:"Registration date",lastLogin:"Last login",sendUpdates:"Send updates?"},messages:{fieldRequired:"Field required",passwordValidationError:"Password must be between 6 and 32 characters",passwordUnableToDo:"Unable to change user password",passwordChanged:"Password changed",passwordChangedError:"There was an error, password is not changed",passwordMailError:"There wan an error sending confirmation email, password is changed",passwordDoesNotMatch:"Password does not match the password verification field",changingPassword:"Changing password",downloadingCertificate:"Downloading certificate",emailValidationError:"Invalid email format",usernameFormatLengthError:"Username must be more than 6 characters",usernameFormatValidationError:"Username must contains only letter, numbers and . (period) - (hyphen or dash) _ (underscore)",phoneValidationError:"Phone seems not valid",userPswInvalid:"Bad Username or password",userAlreadyInUse:"Username or Email already in use!",failed:"Action failed",success:"Action was successful",loadingData:"Loading data",acceptEULA:"I have read and accept the END USER LICENSE AGREEMENT (EULA) for individual non-profit use",mustAcceptEULA:"You must read and accept the EULA to download certificate",changePasswordTitle:"Change password",loggingOut:"Logging out",sendUpdates:"Should we send you important updates and announcements?",profileUpdated:"Profile updated",errorUpdatingProfile:"Error updating profile",errorRegistering:"Error when registering, please try later",activateSuccess:"User activated successfully",activateFailure:"Error activating user",unknownDate:"n.a."},contents:{registerContent:'\n    <p><strong>ARIES</strong> is an open system where all participants contribute and share knowledge for the common good. For this reason we ask that all accounts are traceable to real people and institutions. Please ensure that:</p>\n    <ul>\n      <li>Your username follows the <code>firstname.lastname</code> pattern, with your real first and last name. All the accounts created from this page are individual. If you need an institutional account (for example to install a public engine) please contact us as this use, while still free for non-profit institutions, is covered by a separate EULA.</li>\n      <li>Your email address is traceable to an institution where you work or study and whose non-profit status is verifiable.</li>\n    </ul>\n    <p>We actively monitor the registration database and we regularly delete or disable accounts that do not match the above conditions. In addition, attempts to make for-profit use of <strong>ARIES</strong> products with a non-profit licensing terms will result in permanent exclusion from the registration system and potential legal prosecution according to the\n     <a href="http://localhost/statics/eula/BC3-EULA-Not-For-Profit-Individual_EN.txt" alt="k.LAB EULA" target="_blank">EULA</a>.</p>\n    ',homeTitle:"Welcome",homeContent:'\n      <p>This site is the central authentication hub for all users of the k.LAB semantic web. At the\n        moment we support only <em>local</em> use of the k.LAB network, using a modeling engine installed\n        locally on the user computer. In the future we will also offer direct access through a browser, with\n        no software installations needed.</p>\n      <h3>Getting Started</h3>\n      <p>\n        To use k.LAB in a modeler configuration, you will need a certificate\n        file and the modeling software, consisting of a modeling engine to access\n        the k.LAB semantic web and run models, and an\n        integrated developing environment (IDE) used to annotate your own data and models.\n        You can download a certificate (for non-profit use only) using the link on the\n        left.\n      </p>\n      <p>\n        To ease the installation of k.LAB for local use, we distribute a Control Center software that will manage the remaining\n        steps for you. Please see\n        <a class="kh-link" target="_blank" href="https://www.integratedmodelling.org/statics/pages/gettingstarted.html"> to complete the remaining steps of a modeler setup.</a>.\n      </p>\n    ',downloadTitle:"",downloadContent:"",adminHomeTitle:"Administration",adminHomeContent:"\n      <p>This page permits manage k.LAB users and groups.</p>\n      <p>Select an option from the left menu</p>\n    ",adminUsersTitle:"Users"}},kt={"en-us":vt};i["a"].use(bt["a"]);var _t=new bt["a"]({locale:"en-us",fallbackLocale:"en-us",messages:kt}),Et=function(e){var t=e.app;t.i18n=_t},yt=[{name:"home",label:_t.tc("menu.home"),route:"home"},{name:"download",label:_t.tc("menu.downloads"),route:"downloads"},{name:"profile",label:_t.tc("menu.profile"),route:"profileView"},{name:"adminHome",label:_t.tc("menu.admin"),route:"adminHome",admin:!0}],Pt=[{name:"profile",label:_t.tc("menu.profile"),route:"profileView"},{name:"changePassword",label:_t.tc("menu.changePassword"),route:"changePassword"},{name:"certificate",label:_t.tc("menu.certificate"),route:"certificate"}],Ot=[{name:"users",label:_t.tc("menu.users"),route:"adminUsers"},{name:"groups",label:"Groups",route:"adminGroups",disabled:!0}];function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt={name:"Default",components:{KlabSpinner:Je,KlabBrand:rt,KlabLoading:gt},data:function(){return{tab:"",menu:yt,links:wt,COLORS:ie,loggingOut:!1}},computed:Ct({},Object(W["c"])("view",["spinnerColor"]),{loading:{get:function(){return this.loggingOut||!this.$store.getters["auth/profileIsLoad"]},set:function(){}},loadingMessage:function(){return this.loggingOut?this.$t("messages.loggingOut"):this.$t("messages.loadingData")},filteredMenu:function(){var e=this;return this.menu.filter((function(t){return!t.admin||e.$store.getters["auth/admin"]}))}}),methods:{getStartPath:function(e){if(e&&""!==e){var t=e.lastIndexOf("/");return 0===t?e:e.substring(0,t)}return""},isRouteActive:function(e){return this.getStartPath(this.$router.currentRoute.path)===this.getStartPath(e.path)},getProfile:function(){var e=this;this.$store.dispatch("auth/getProfile").then((function(){console.debug("Profile loaded")})).catch((function(t){console.error(t),e.$router.go()}))},logout:function(){var e=this;this.loggingOut=!0,setTimeout((function(){e.$store.dispatch("auth/logout").then((function(){e.$router.push("/login")}))}),500)}},mounted:function(){var e=this;this.$store.dispatch("view/setSpinner",Ct({},ce.SPINNER_STOPPED,{owner:"layout"}),{root:!0}),this.$store.getters["auth/profileIsLoad"]||setTimeout((function(){e.getProfile()}),500)},beforeRouteUpdate:function(e,t,n){t.path===e.path?n(!1):n()}},St=Rt,$t=(n("3a30"),Object(H["a"])(St,ct,ut,!1,null,null,null)),It=$t.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("khub-default-container",[e._t("default",[n("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.homeTitle")))]),n("div",{domProps:{innerHTML:e._s(e.$t("contents.homeContent"))}})])],2)},qt=[],Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"kdc-container"},[e.menuItems.length>0?n("div",{staticClass:"kdc-menu-container"},[n("div",{staticClass:"kdc-menu"},e._l(e.menuItems,(function(t,o){return n("div",{key:o,staticClass:"kdc-menu-item"},[n("router-link",{staticClass:"kh-link",attrs:{to:{name:t.route},"active-class":"disabled"}},[e._v(e._s(t.label))])],1)})),0)]):e._e(),n("div",{staticClass:"kdc-content",class:[0===e.menuItems.length&&"kdc-no-menu"]},[e._t("default")],2)])},Dt=[],xt={name:"KhubDefaultContainer",props:{menuItems:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{}},Tt=xt,jt=(n("c8d1"),Object(H["a"])(Tt,Lt,Dt,!1,null,null,null)),Ut=jt.exports,Gt={name:"KhubHome",components:{KhubDefaultContainer:Ut},data:function(){return{}}},Mt=Gt,Bt=Object(H["a"])(Mt,At,qt,!1,null,null,null),Vt=Bt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("khub-default-container",{attrs:{"menu-items":e.menuItems}},[n("h2",{staticClass:"kh-h-first"},[e._v("Downloads")]),n("h3",[e._v("You can find instructions to download, install and launch k.LAB "),n("a",{staticClass:"kh-link",attrs:{href:"https://www.integratedmodelling.org/statics/pages/gettingstarted.html",target:"_blank"}},[e._v("here")]),e._v(".")])])},Ft=[],Qt={name:"Downloads",components:{KhubDefaultContainer:Ut},data:function(){return{menuItems:[]}}},Wt=Qt,Kt=Object(H["a"])(Wt,Ht,Ft,!1,null,null,null),Yt=Kt.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width column content-center au-form-container"},[n("div",{staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[n("form",[n("q-input",{ref:"user-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return e.fieldRequired(t)},function(t){return e.usernameValidation(t)}],placeholder:e.$t("labels.username"),autocomplete:"username",autofocus:""},on:{keyup:function(t){return e.$refs["psw-input"].resetValidation()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-account-box"}})]},proxy:!0}]),model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),n("q-input",{ref:"psw-input",attrs:{color:"k-main",rules:[function(t){return e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:"password",placeholder:e.$t("labels.password"),autocomplete:"current-password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0}]),model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("div",{staticClass:"au-btn-container"},[n("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"k-main",label:e.$t("labels.btnLogin")},on:{click:e.login}}),n("q-btn",{staticClass:"full-width",attrs:{unelevated:"",flat:"",color:"k-main",label:e.$t("labels.btnRegister")},on:{click:e.register}}),n("klab-google-button")],1)],1)])])},Jt=[],Zt={methods:{fieldRequired:function(e){return!!e||this.$t("messages.fieldRequired")},emailValidation:function(e){return ye.email.test(e)||this.$t("messages.emailValidationError")},usernameValidation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.USERNAME_MIN_LENGTH;return ye.username.test(e)?e.length>=t||this.$t("messages.usernameFormatLengthError"):this.$t("messages.usernameFormatValidationError")},passwordValidation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue.PSW_MIN_LENGTH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.PSW_MAX_LENGTH;return e.length>=t&&e.length<=n||this.$t("messages.passwordValidationError")},phoneValidation:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||"undefined"!==typeof e&&null!==e&&""!==e)||(ye.phone.test(e)||this.$t("messages.phoneValidationError"))}}},Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-btn",{staticClass:"full-width no-padding relative-position k-google-btn",attrs:{unelevated:"",align:"left",title:"Coming soonsy"},on:{click:e.googleLogin}},[n("div",{staticClass:"k-google-btn-inner"},[n("img",{staticClass:"k-google-btn-img",attrs:{src:"statics/btn_google_light_normal_ios_no_border.svg"}}),n("div",{staticClass:"k-google-btn-text"},[e._v(e._s(e.$t("labels.btnGoogle")))])])])},en=[],tn={name:"KlabGoogleButton",data:function(){return{}},methods:{googleLogin:function(){return!0}}},nn=tn,on=(n("26be"),Object(H["a"])(nn,Xt,en,!1,null,null,null)),rn=on.exports,an={name:"LoginForm",components:{KlabGoogleButton:rn},mixins:[Zt],data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var e=this;this.$refs["user-input"].validate(),this.$refs["psw-input"].validate(),this.$refs["user-input"].hasError||this.$refs["psw-input"].hasError||this.$store.dispatch("auth/login",this.user).then((function(){e.$emit("loggedin",{}),setTimeout((function(){e.$router.push({name:"home"})}),500)})).catch((function(){e.$q.notify({message:e.$t("messages.userPswInvalid"),color:"negative",icon:"mdi-alert-circle"})}))},register:function(){this.$router.push({name:"register"})}}},sn=an,ln=Object(H["a"])(sn,zt,Jt,!1,null,null,null),cn=ln.exports,un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width column content-center au-form-container"},[n("div",{staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[n("form",[n("q-input",{ref:"email-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return 0===t.length&&!e.checking||e.emailValidation(t)}],placeholder:e.$t("labels.email"),autocomplete:"email",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-email"}})]},proxy:!0}]),model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}}),n("q-input",{ref:"username-input",attrs:{color:"k-main","no-error-icon":"",rules:[function(t){return 0===t.length&&!e.checking||e.usernameValidation(t)}],placeholder:e.$t("labels.username"),autocomplete:"username"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-account-box"}})]},proxy:!0}]),model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}}),n("div",{staticClass:"au-btn-container"},[n("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"k-main",label:e.$t("labels.btnRegister")},on:{click:e.submit}}),n("q-btn",{staticClass:"full-width",attrs:{unelevated:"",flat:"",color:"k-main",label:e.$t("labels.btnLogin")},on:{click:e.login}}),n("klab-google-button")],1)],1)]),n("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[n("q-card",[n("q-card-section",{staticClass:"row items-center"},[n("div",[n("i",{staticClass:"mdi mdi-48px mdi-alert text-k-yellow"})]),n("div",{staticClass:"q-ml-sm",domProps:{innerHTML:e._s(e.$t("contents.registerContent"))}})]),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:e.$t("labels.btnCancel"),color:"k-main"}}),n("q-btn",{attrs:{label:e.$t("labels.btnRegister"),color:"k-main"},on:{click:e.submit}})],1)],1)],1)],1)},dn=[],pn={name:"RegisterForm",components:{KlabGoogleButton:rn},mixins:[Zt],props:{invite:{type:Boolean,default:!1}},data:function(){return{register:{email:"",username:""},confirm:!1,checking:!1}},methods:{checkFields:function(){return this.checking=!0,this.$refs["email-input"].validate(),this.$refs["username-input"].validate(),this.checking=!1,!(this.$refs["email-input"].hasError||this.$refs["username-input"].hasError)},submit:function(){var e=this;this.checkFields()?this.invite?this.$emit("clicked",this.register):this.confirm?(this.confirm=!1,this.$store.dispatch("auth/register",this.register).then((function(t){e.$router.push("/"),e.$q.notify({message:t.data,color:"positive"})})).catch((function(t){console.error("Error on register: ".concat(t)),e.$q.notify({message:e.$t("messages.errorRegistering"),color:"negative"})}))):this.confirm=!0:this.confirm=!1},login:function(){this.$router.push({name:"login"})}}},fn=pn,mn=Object(H["a"])(fn,un,dn,!1,null,null,null),hn=mn.exports,gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("khub-default-container",{attrs:{"menu-items":e.menuItems}},[n("div",{staticClass:"full-width row"},[n("div",{staticClass:"col kp-col kp-border-col"},[n("h3",{staticClass:"kp-header row kh-h-first"},[e._v(e._s(e.$t("labels.accountHeader")))]),n("div",{staticClass:"kp-content col"},[n("div",{staticClass:"row kp-text-row"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.username")))]),n("div",{staticClass:"kd-field col"},[e._v(e._s(e.profile.username))])]),n("div",{staticClass:"row kp-text-row"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.email")))]),n("div",{staticClass:"kd-field col"},[e._v(e._s(e.profile.email))])])]),n("h3",{staticClass:"kp-header row"},[e._v(e._s(e.$t("labels.personalHeader")))]),n("div",{staticClass:"kp-content col"},[n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.firstName")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"first-name",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.firstName"),rules:[function(t){return t&&0===t.length&&!e.checking||e.fieldRequired(t)}],"no-error-icon":"",autocomplete:"given-name",autofocus:""},model:{value:e.profile.firstName,callback:function(t){e.$set(e.profile,"firstName",t)},expression:"profile.firstName"}})],1)]),n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.lastName")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"last-name",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.lastName"),rules:[function(t){return t&&0===t.length&&!e.checking||e.fieldRequired(t)}],"no-error-icon":"",autocomplete:"family-name"},model:{value:e.profile.lastName,callback:function(t){e.$set(e.profile,"lastName",t)},expression:"profile.lastName"}})],1)]),n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.middleName")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"last-name",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.middleName"),rules:[function(e){return!0}],autocomplete:"middle-name"},model:{value:e.profile.middleName,callback:function(t){e.$set(e.profile,"middleName",t)},expression:"profile.middleName"}})],1)]),n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.address")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"address",attrs:{color:"k-main",rules:[function(e){return!0}],"no-error-icon":"",dense:"",placeholder:e.$t("labels.addressPlaceholder"),autocomplete:"street-address"},model:{value:e.profile.address,callback:function(t){e.$set(e.profile,"address",t)},expression:"profile.address"}})],1)]),n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.phone")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"phone",attrs:{color:"k-main",dense:"",placeholder:e.$t("labels.phone"),rules:[function(t){return 0===t.length&&!e.checking||e.phoneValidation(t)}],"no-error-icon":"",autocomplete:"tel"},model:{value:e.profile.phone,callback:function(t){e.$set(e.profile,"phone",t)},expression:"profile.phone"}})],1)]),n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.affiliation")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"affiliation",attrs:{color:"k-main",rules:[function(e){return!0}],dense:"","no-error-icon":"",placeholder:e.$t("labels.affiliation")},model:{value:e.profile.affiliation,callback:function(t){e.$set(e.profile,"affiliation",t)},expression:"profile.affiliation"}})],1)]),n("div",{staticClass:"row kp-input-row items-baseline justify-start"},[n("div",{staticClass:"kd-label"},[e._v(e._s(e.$t("labels.jobTitle")))]),n("div",{staticClass:"kd-field col"},[n("q-input",{ref:"job-title",attrs:{color:"k-main",rules:[function(e){return!0}],dense:"","no-error-icon":"",placeholder:e.$t("labels.jobTitle"),autocomplete:"organization-title"},model:{value:e.profile.jobTitle,callback:function(t){e.$set(e.profile,"jobTitle",t)},expression:"profile.jobTitle"}})],1)])]),n("div",{staticClass:"kp-send-updates row"},[n("q-checkbox",{attrs:{color:"k-main",label:e.$t("messages.sendUpdates")},model:{value:e.profile.sendUpdates,callback:function(t){e.$set(e.profile,"sendUpdates",t)},expression:"profile.sendUpdates"}})],1),n("div",{staticClass:"row kp-update-btn justify-end"},[n("q-btn",{attrs:{color:"k-main",label:e.$t("labels.updateProfileBtn"),disabled:!e.modified},on:{click:e.updateProfile}})],1)]),n("div",{staticClass:"col kp-col"},[n("h4",{staticClass:"kp-header row kh-h-first"},[e._v(e._s(e.$t("labels.groupsHeader")))]),e._l(e.profile.groups,(function(t,o){return n("div",{key:o,staticClass:"kp-group"},[n("img",{staticClass:"kp-group-icon",attrs:{valign:"middle",src:t.iconUrl,title:t.id,width:"20"}}),n("span",{staticClass:"kp-group-name"},[e._v(e._s(t.id))])])}))],2)])])},wn=[],bn={name:"ProfileView",components:{KhubDefaultContainer:Ut},mixins:[Zt],data:function(){return{menuItems:Pt,edit:!1,groupAdd:!1,modified:!1,checking:!1}},computed:{profile:function(){return this.$store.getters["auth/profile"]}},methods:{updateProfile:function(){var e=this;this.checking=!0,this.$refs["first-name"].validate(),this.$refs["last-name"].validate(),this.$refs.phone.validate(),this.checking=!1,this.$refs["first-name"].hasError||this.$refs["last-name"].hasError||this.$refs.phone.hasError||this.$store.dispatch("auth/updateProfile",this.profile).then((function(){e.$q.notify({message:e.$t("messages.profileUpdated"),color:"positive"})})).catch((function(t){console.error("Problem updating profile: ".concat(t.message)),e.$q.notify({message:e.$t("messages.errorUpdatingProfile"),color:"negative"})}))}},watch:{profile:{handler:function(){this.modified=!0},deep:!0}}},vn=bn,kn=(n("8bf4"),Object(H["a"])(vn,gn,wn,!1,null,null,null)),_n=kn.exports,En=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("khub-default-container",{attrs:{"menu-items":e.menuItems}},[n("div",{staticClass:"kh-cp-container"},[n("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("messages.changePasswordTitle")))]),n("form",{on:{submit:function(t){return t.preventDefault(),e.doChange()}}},[n("input",{staticStyle:{display:"none"},attrs:{type:"text",name:"username",autocomplete:"username"},domProps:{value:e.username}}),n("q-input",{ref:"psw-input",staticClass:"kh-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwd?"password":"text",placeholder:e.$t("labels.newPassword"),autocomplete:"current-password",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwd=!1},mouseup:function(t){e.isPwd=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.password,callback:function(t){e.$set(e.passwordRequest,"password",t)},expression:"passwordRequest.password"}}),n("q-input",{ref:"conf-input",staticClass:"kh-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwdConfirm?"password":"text",placeholder:e.$t("labels.newPasswordConfirmation"),autocomplete:"current-password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwdConfirm?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwdConfirm=!1},mouseup:function(t){e.isPwdConfirm=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.confirmation,callback:function(t){e.$set(e.passwordRequest,"confirmation",t)},expression:"passwordRequest.confirmation"}}),n("div",{staticClass:"cp-button-container col text-right"},[n("q-btn",{staticClass:"right",attrs:{type:"submit",color:"k-main",label:e.$t("labels.changePasswordConfirmation"),disabled:""===e.passwordRequest.password||""===e.passwordRequest.confirmation}})],1)],1)]),n("klab-loading",{attrs:{loading:e.changingPassword,message:e.$t("messages.changingPassword")}})],1)},yn=[],Pn=(n("f559"),{name:"ChangePassword",components:{KhubDefaultContainer:Ut,KlabLoading:gt},mixins:[Zt],data:function(){return{menuItems:Pt,passwordRequest:{password:"",confirmation:""},isPwd:!0,isPwdConfirm:!0,changingPassword:!1,checking:!1}},computed:{username:function(){return this.$store.getters["auth/username"]},profileIsLoad:function(){return this.$store.getters["auth/profileIsLoad"]}},methods:{resetValidation:function(e){e.target.resetValidation()},doChange:function(){var e=this;this.checking=!0,this.$refs["psw-input"].validate(),this.$refs["conf-input"].validate(),this.checking=!1,this.$refs["psw-input"].hasError||this.$refs["conf-input"].hasError||(this.passwordRequest.password===this.passwordRequest.confirmation?this.profileIsLoad&&this.username?(this.changingPassword=!0,this.$store.dispatch("auth/getNewPassword",this.username).then((function(){console.debug("Token loaded"),e.$store.dispatch("auth/setNewPassword",e.passwordRequest.password).then((function(){e.changingPassword=!1,e.$q.notify({message:e.$t("messages.passwordChanged"),color:"positive"})})).catch((function(t){e.changingPassword=!1,console.error("Error changing password: ".concat(t)),t.message.startsWith("Error sending email")?e.$q.notify({message:e.$t("messages.passwordMailError"),color:"warning"}):e.$q.notify({message:e.$t("messages.passwordChangedError"),color:"negative"})}))})).catch((function(){console.error("Problem retrieving token"),e.changingPassword=!1,e.$q.notify({message:e.$t("messages.passwordUnableToDo"),color:"negative"})}))):(console.error("Problems loading token: profile is".concat(this.profileIsLoad?"":"n't"," loaded and username is not set")),this.$q.notify({message:"Unable to change user password",color:"negative"})):this.$q.notify({message:this.$t("messages.passwordDoesNotMatch"),color:"negative"}))}},watch:{}}),On=Pn,Nn=(n("4405"),Object(H["a"])(On,En,yn,!1,null,null,null)),Cn=Nn.exports,Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("khub-default-container",{attrs:{"menu-items":e.menuItems}},[n("h2",{staticClass:"kh-h-first"},[e._v("Certificate")]),n("p",[e._v("By downloading the certificate, you are accepting the END USER LICENSE AGREEMENT (EULA) for individual non-profit use")]),n("h4",[e._v("Individual non-profit EULA in a nutshell:")]),n("ul",[n("li",[e._v("This EULA gives you access to the data and models served via our semantic web for non-profit purposes")]),n("li",[e._v("For other purposes please get in touch with us at "),n("a",{staticClass:"kh-link",attrs:{href:"http://www.integratedmodelling.org",title:"integratedmodelling.org",target:"_blank"}},[e._v("integratedmodelling.org")])]),n("li",[e._v("Access is granted via individual and non-transferable certificates, which have the validity of 1 year")]),n("li",[e._v("User maintains the ownership of newly created data and models, but has the option to grant the right to operate them via our semantics web")])]),n("p",[e._v("In addition and outside the EULA, the USER may obtain an open source license of the k.Lab SOFTWARE under the terms of the\n    "),n("a",{staticClass:"kh-link",attrs:{href:"https://www.gnu.org/licenses/agpl-3.0-standalone.html",title:"Affero General Public License 3.0",target:"_blank"}},[e._v("Affero General Public License 3.0")]),e._v("\n    or any higher version through the website "),n("a",{staticClass:"kh-link",attrs:{href:"http://www.integratedmodelling.org",title:"integratedmodelling.org",target:"_blank"}},[e._v("integratedmodelling.org")]),e._v(", which will allow you to exploit the k.Lab SOFTWARE under the terms of that license.")]),n("h4",{staticClass:"kh-eula-title"},[e._v("k.LAB End user license agreement\n    "),n("span",{staticClass:"kh-lang-selection"},[e._v("["),n("em",{staticClass:"kh-link",class:{disabled:"en"===e.eulaLang},on:{click:function(t){e.eulaLang="en"}}},[e._v("English")]),e._v("]\n    / ["),n("em",{staticClass:"kh-link",class:{disabled:"es"===e.eulaLang},on:{click:function(t){e.eulaLang="es"}}},[e._v("Español")]),e._v("]")])]),n("div",{staticClass:"kh-eula-container"},[n("iframe",{attrs:{id:"kh-eula",width:"100%",height:"300px",frameBorder:"0",src:"https://integratedmodelling.org/statics/eula/BC3-EULA-Not-For-Profit-Individual_"+e.eulaLang.toUpperCase()+".txt"}})]),n("p",[n("em",[e._v("Clarification: the EULA regulates the access and use of the k.LAB System hosted in the BC3 INFRASTRUCTURE, including the semantic web of data, models powered by the SOFTWARE and other data and resources made available to the USER through the BC3 INFRASTRUCTURE.\n  See the complete terms of use "),n("a",{staticClass:"kh-link",attrs:{href:"https://integratedmodelling.org/statics/terms/terms.html",title:"See the complete terms of use",target:"_blank"}},[e._v("here")])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("q-checkbox",{attrs:{color:"k-main",label:e.$t("messages.acceptEULA")},on:{input:e.getClickbackTocken},model:{value:e.accept,callback:function(t){e.accept=t},expression:"accept"}})],1),n("div",{staticClass:"col text-right"},[n("q-btn",{attrs:{color:"k-main",label:e.$t("labels.acceptEULA"),disabled:!e.accept||null===e.clickback},on:{click:e.downloadCertificate}}),n("q-btn",{attrs:{color:"k-main",outline:"",label:e.$t("labels.declineEULA")},on:{click:e.mustAccept}})],1)]),n("klab-loading",{attrs:{loading:e.downloading,message:e.$t("messages.downloadingCertificate")}})],1)},Sn=[],$n={name:"Certificate",components:{KhubDefaultContainer:Ut,KlabLoading:gt},data:function(){return{menuItems:Pt,eulaLang:"en",accept:!1,downloading:!1,clickback:null}},computed:{profile:function(){return this.$store.getters["auth/profile"]}},methods:{getClickbackTocken:function(e){var t=this;e?this.$store.dispatch("auth/getCertificateClickback",this.profile.username).then((function(e){t.clickback=e})).catch((function(e){var n=e.message;console.error("Error retrieving token: ".concat(n)),t.$q.notify({message:n,color:"negative"}),t.$nextTick((function(){t.accept=!1}))})):this.clickback=null},downloadCertificate:function(){var e=this;this.accept&&null!==this.clickback?(this.downloading=!0,this.$store.dispatch("auth/getCertificate",{id:this.profile.username,token:this.clickback}).then((function(){e.downloading=!1})).catch((function(t){e.$q.notify({message:t,color:"negative"})}))):this.mustAccept()},mustAccept:function(){this.$q.notify({message:this.$t("messages.mustAcceptEULA"),color:"negative"})}},mounted:function(){}},In=$n,An=(n("7187"),Object(H["a"])(In,Rn,Sn,!1,null,null,null)),qn=An.exports,Ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("google")],1)},Dn=[],xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"callback"})},Tn=[],jn=(n("386d"),n("28a5"),n("7f7f"),{name:"google",mounted:function(){var e=this;if("googleCallback"===this.$route.name){var t=new URL(window.opener.location.href.split("#")),n=new URL(window.location.href.split("#").join(""));if(-1!==t.href.search("invite")){var o={};t.searchParams.forEach((function(e,t){o[t]=e})),o.authToken=n.searchParams.get("token"),this.$store.dispatch("auth/invitedOAuthUserGroups",o).then((function(){window.opener.location.hash="#/callback?token=".concat(o.authToken),window.close()})).catch((function(){e.$q.notify({message:"Something went wrong in adding the groups to User",color:"negative"})}))}else{var r=n.searchParams.get("token");window.opener.location.hash="#/callback?token=".concat(r),window.close()}}}}),Un=jn,Gn=Object(H["a"])(Un,xn,Tn,!1,null,"35377a84",null),Mn=Gn.exports,Bn={name:"Callback",components:{Google:Mn}},Vn=Bn,Hn=Object(H["a"])(Vn,Ln,Dn,!1,null,"4b4ca6a3",null),Fn=Hn.exports,Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("token")],1)},Wn=[],Kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"callback"})},Yn=[],zn={name:"Token",mounted:function(){var e=this;if("tokenCallback"===this.$route.name){var t=this.$route.query;this.$store.dispatch("auth/oAuthLogin",t.token).then((function(t){e.$q.notify({message:"Login Success".concat(t.data.username),color:"positive"}),e.$router.push({name:"home"})})).catch((function(){e.$q.notify({message:"Login Failure",color:"negative"})}))}}},Jn=zn,Zn=Object(H["a"])(Jn,Kn,Yn,!1,null,"332e8f00",null),Xn=Zn.exports,eo={name:"TokenCallback",components:{Token:Xn}},to=eo,no=Object(H["a"])(to,Qn,Wn,!1,null,"9d569b98",null),oo=no.exports,ro=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width column content-center au-form-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"q-col-gutter-y-md",staticStyle:{"min-width":"70%","max-width":"70%"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.doChange()}}},[n("q-input",{ref:"psw-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwd?"password":"text",placeholder:e.$t("labels.newPassword"),autocomplete:"current-password",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwd=!1},mouseup:function(t){e.isPwd=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.password,callback:function(t){e.$set(e.passwordRequest,"password",t)},expression:"passwordRequest.password"}}),n("q-input",{ref:"conf-input",attrs:{color:"k-main",rules:[function(t){return 0===t.length&&!e.checking||e.passwordValidation(t)}],"no-error-icon":"","min-length":"8","max-length":"32",type:e.isPwdConfirm?"password":"text",placeholder:e.$t("labels.newPasswordConfirmation"),autocomplete:"current-password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-key"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwdConfirm?"mdi-eye-off-outline":"mdi-eye-outline"},on:{mousedown:function(t){e.isPwdConfirm=!1},mouseup:function(t){e.isPwdConfirm=!0}}})]},proxy:!0}]),model:{value:e.passwordRequest.confirmation,callback:function(t){e.$set(e.passwordRequest,"confirmation",t)},expression:"passwordRequest.confirmation"}}),n("div",{staticClass:"cp-button-container col text-right"},[n("q-btn",{staticClass:"right",attrs:{type:"submit",color:"k-main",label:e.$t("labels.changePasswordConfirmation"),disabled:""===e.passwordRequest.password||""===e.passwordRequest.confirmation}})],1)],1)])])},ao=[],so={name:"Activate",mixins:[Zt],data:function(){return{username:"",show:!1,passwordRequest:{password:"",confirmation:""},isPwd:!0,isPwdConfirm:!0,checking:!1}},methods:{doChange:function(){var e=this;this.checking=!0,this.$refs["psw-input"].validate(),this.$refs["conf-input"].validate(),this.checking=!1,this.$refs["psw-input"].hasError||this.$refs["conf-input"].hasError||(this.passwordRequest.password===this.passwordRequest.confirmation?this.$store.dispatch("auth/setNewPassword",this.passwordRequest.password).then((function(){e.$q.notify({message:e.$t("messages.passwordChanged"),color:"positive"}),e.$router.push("/login")})).catch((function(t){console.error("Error changing password: ".concat(t)),t.message.startsWith("Error sending email")?e.$q.notify({message:e.$t("messages.passwordMailError"),color:"warning"}):e.$q.notify({message:e.$t("messages.passwordChangedError"),color:"negative"})})):this.$q.notify({message:this.$t("messages.passwordDoesNotMatch"),color:"negative"}))}},mounted:function(){var e=this;if("activateCallback"===this.$route.name){var t=this.$route.query;this.username=t.user,this.$store.dispatch("auth/activateUser",t).then((function(){e.show=!0,e.$q.notify({message:e.$t("messages.activateSuccess"),color:"positive"})})).catch((function(t){console.error("Error activating: ".concat(t)),e.$q.notify({message:e.$t("messages.activateFailure"),color:"negative"})}))}else this.$router.push("/login")}},io=so,lo=Object(H["a"])(io,ro,ao,!1,null,"638af02c",null),co=lo.exports,uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("groups")],1)},po=[],fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"callback"})},mo=[],ho={name:"Groups",mounted:function(){var e=this;if("groupsCallback"===this.$route.name){var t=this.$route.query;this.$store.dispatch("auth/setGroups",t).then((function(t){e.$q.notify({message:"Groups added for ".concat(t.data.username),color:"positive"}),e.$router.push({name:"/"}),window.location.reload()})).catch((function(){e.$q.notify({message:"Groups were not added",color:"negative"})}))}}},go=ho,wo=Object(H["a"])(go,fo,mo,!1,null,"549f63e4",null),bo=wo.exports,vo={name:"Callback",components:{Groups:bo}},ko=vo,_o=Object(H["a"])(ko,uo,po,!1,null,"4121fba6",null),Eo=_o.exports,yo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("invited-user")],1)},Po=[],Oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("register-form",{attrs:{invite:"true"},on:{clicked:e.submit}})},No=[],Co={name:"InvitedUser",components:{RegisterForm:hn},data:function(){return{form:{username:"",email:"",token:"",groups:[]}}},methods:{submit:function(e){var t=this;this.form.username=e.username,this.$store.dispatch("auth/invitedNewUser",this.form).then((function(){t.$q.notify({message:"Please check your email for the activation link.",color:"positive"}),t.$router.push("/")})).catch((function(){t.$q.notify("Please review fields again.")}))}},mounted:function(){this.form.email=this.$route.query.user,this.form.token=this.$route.query.token,this.form.groups=this.$route.query.addGroups.split(",")}},Ro=Co,So=Object(H["a"])(Ro,Oo,No,!1,null,"6e650241",null),$o=So.exports,Io={name:"InivtedUserCallback",components:{InvitedUser:$o}},Ao=Io,qo=Object(H["a"])(Ao,yo,Po,!1,null,"ba0638d2",null),Lo=qo.exports,Do=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("khub-default-container",{attrs:{"menu-items":e.menuItems}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},xo=[],To={name:"AdminPage",components:{KhubDefaultContainer:Ut},data:function(){return{menuItems:Ot}}},jo=To,Uo=(n("38c2"),Object(H["a"])(jo,Do,xo,!1,null,null,null)),Go=Uo.exports,Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ka-content"},[n("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.adminHomeTitle")))]),n("div",{domProps:{innerHTML:e._s(e.$t("contents.adminHomeContent"))}})])},Bo=[],Vo={data:function(){return{}}},Ho=Vo,Fo=Object(H["a"])(Ho,Mo,Bo,!1,null,null,null),Qo=Fo.exports,Wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ka-content"},[n("h2",{staticClass:"kh-h-first"},[e._v(e._s(e.$t("contents.adminUsersTitle")))]),e.users.length>0?n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{data:e.users,columns:e.columns,"row-key":"id",selection:"multiple",selected:e.selected},on:{"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t}},[n("q-td",{attrs:{align:"center"}},[n("q-checkbox",{attrs:{dense:""},model:{value:t.selected,callback:function(n){e.$set(t,"selected",n)},expression:"props.selected"}})],1),n("q-td",{key:"username",attrs:{props:t}},[e._v("\n            "+e._s(t.row.username)+"\n          ")]),n("q-td",{key:"email",attrs:{props:t}},[e._v("\n            "+e._s(t.row.email)+"\n          ")]),n("q-td",{key:"groups",attrs:{props:t}},e._l(t.row.groupsIcons,(function(e,o){return n("div",{key:o,style:{width:t.row.groupsIcons.length>0?22*t.row.groupsIcons.length+"px":"autoquas"}},[n("img",{staticClass:"ka-group-icon",attrs:{src:e.iconUrl,width:"20",alt:e.groupId}})])})),0),n("q-td",{key:"registrationDate",class:{"ka-not-available":!t.row.registrationDate},attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.registrationDate))+"\n          ")]),n("q-td",{key:"lastLogin",attrs:{props:t}},[e._v("\n            "+e._s(e.formatDate(t.row.lastLogin))+"\n          ")]),n("q-td",{key:"sendUpdates",attrs:{props:t}},[e._v("\n            "+e._s(t.row.sendUpdates?e.$t("labels.yes"):e.$t("labels.no"))+"\n          ")])],1)]}}],null,!1,2067742267)})],1):e._e()])},Ko=[];n("7514");function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(n,!0).forEach((function(t){te()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jo={name:"UsersComponent",data:function(){var e=this;return{selected:[],columns:[{name:"username",required:!0,label:this.$t("labels.username"),align:"left",sortable:!0},{name:"email",required:!0,label:this.$t("labels.email"),align:"left",sortable:!0},{name:"groups",required:!0,label:this.$t("labels.groupsHeader"),align:"left",sortable:!0},{name:"registrationDate",required:!0,label:this.$t("labels.registrationDate"),align:"left",sortable:!0,sort:function(t,n){return e.sortDate(t,n)}},{name:"lastLogin",required:!0,label:this.$t("labels.lastLogin"),align:"left",sortable:!0,sort:function(t,n){return e.sortDate(t,n)}},{name:"sendUpdates",required:!0,label:this.$t("labels.sendUpdates"),align:"center",sortable:!0}],groups:[]}},computed:zo({},Object(W["c"])("admin",["users"])),methods:zo({},Object(W["b"])("admin",["loadUsers"]),{},Object(W["b"])("auth",["getGroups"]),{formatDate:function(e){if(e&&""!==e){var t=new Date(e);return"".concat(t.getFullYear(),"/").concat(t.getMonth()+1<10?"0":"").concat(t.getMonth()+1,"/").concat(t.getDate<10?"0":"").concat(t.getDate(),"\n         - ").concat(t.getHours()<10?"0":"").concat(t.getHours(),":").concat(t.getMinutes()<10?"0":"").concat(t.getMinutes())}return this.$t("messages.unknownDate")},dateSort:function(e,t){return e?t?e.getMilliseconds()-t.getMilliseconds():1:-1},getGroupImage:function(e){if(this.groups.length>0){var t=this.groups.find((function(t){return t.id===e}));return t?t.iconUrl:null}return null}}),mounted:function(){var e=this;this.loadUsers().then((function(){e.getGroups().then((function(t){e.groups=t,e.users.forEach((function(t){t.groupsIcons=[],t.groups&&t.groups.length>0&&t.groups.forEach((function(n){t.groupsIcons.push({iconUrl:e.getGroupImage(n),groupId:n})}))}))}))}))}},Zo=Jo,Xo=(n("2312"),Object(H["a"])(Zo,Wo,Ko,!1,null,null,null)),er=Xo.exports,tr=[{path:"/login",component:lt,children:[{path:"/login",name:"login",component:cn,meta:{skipIfAuth:!0}},{path:"/register",name:"register",component:hn,meta:{skipIfAuth:!0}},{path:"/callback/activate",name:"activateCallback",component:co}]},{path:"/",redirect:"/home",component:It,children:[{path:"/home",name:"home",component:Vt,meta:{requiresAuth:!0,default:!0}},{path:"/profile/view",name:"profileView",component:_n,meta:{requiresAuth:!0}},{path:"/profile/password",name:"changePassword",component:Cn,meta:{requiresAuth:!0}},{path:"/profile/certificate",name:"certificate",component:qn,meta:{requiresAuth:!0}},{path:"/downloads",name:"downloads",component:Yt,meta:{requiresAuth:!0}},{path:"/admin",component:Go,meta:{requiresAuth:!0,requiresAdmin:!0},children:[{path:"",name:"adminHome",component:Qo},{path:"users",name:"adminUsers",component:er},{path:"users",name:"adminGroups",component:er}]},{path:"/callback/google",name:"googleCallback",component:Fn},{path:"/callback",name:"tokenCallback",component:oo},{path:"/callback/groups",name:"groupsCallback",component:Eo},{path:"/callback/invite",name:"invitedUserCallback",component:Lo}]}];tr.push({path:"*",component:function(){return n.e("4b47640d").then(n.bind(null,"e51e"))}});var nr=tr;i["a"].use(Ue["a"]),i["a"].use(Me.a);var or=function(e){var t=e.store,n=new Ue["a"]({scrollBehavior:function(){return{y:0}},routes:nr,mode:"hash",base:"/hub/ui/"});return n.beforeEach((function(e,n,o){t.getters["auth/isLoggedIn"]&&e.matched.some((function(e){return e.meta.skipIfAuth}))?o("/home"):e.matched.some((function(e){return e.meta.requiresAuth}))?t.getters["auth/isLoggedIn"]?o():o("/login"):e.matched.some((function(e){return e.meta.requiresAdmin}))?t.getters["auth/admin"]?o():o("/home"):o()})),n},rr=function(){var e="function"===typeof je?je({Vue:i["a"]}):je,t="function"===typeof or?or({Vue:i["a"],store:e}):or;e.$router=t;var n={el:"#q-app",router:t,store:e,render:function(e){return e(Q)}};return{app:n,store:e,router:t}},ar=rr(),sr=ar.app,ir=ar.store,lr=ar.router;function cr(){return ur.apply(this,arguments)}function ur(){return ur=s()(r.a.mark((function e(){var t,n,o,a,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!0,n=function(e){t=!1,window.location.href=e},o=window.location.href.replace(window.location.origin,""),a=[Et,se],s=0;case 5:if(!(!0===t&&s<a.length)){e.next=23;break}if("function"===typeof a[s]){e.next=8;break}return e.abrupt("continue",20);case 8:return e.prev=8,e.next=11,a[s]({app:sr,router:lr,store:ir,Vue:i["a"],ssrContext:null,redirect:n,urlPath:o});case 11:e.next=20;break;case 13:if(e.prev=13,e.t0=e["catch"](8),!e.t0||!e.t0.url){e.next=18;break}return window.location.href=e.t0.url,e.abrupt("return");case 18:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 20:s++,e.next=5;break;case 23:if(!1!==t){e.next=25;break}return e.abrupt("return");case 25:new i["a"](sr);case 26:case"end":return e.stop()}}),e,null,[[8,13]])}))),ur.apply(this,arguments)}cr()},"35b3":function(e,t,n){},"38c2":function(e,t,n){"use strict";var o=n("f2b7"),r=n.n(o);r.a},"3a30":function(e,t,n){"use strict";var o=n("35b3"),r=n.n(o);r.a},"3bcb":function(e,t,n){},"3df6":function(e,t,n){},"42b4":function(e,t,n){},4405:function(e,t,n){"use strict";var o=n("b83c"),r=n.n(o);r.a},4406:function(e,t,n){"use strict";var o=n("42b4"),r=n.n(o);r.a},"616c":function(e,t,n){},7187:function(e,t,n){"use strict";var o=n("af95"),r=n.n(o);r.a},"7e6d":function(e,t,n){},"8bf4":function(e,t,n){"use strict";var o=n("e157"),r=n.n(o);r.a},"9d4f":function(e,t,n){},a528:function(e,t,n){},af95:function(e,t,n){},b83c:function(e,t,n){},c8d1:function(e,t,n){"use strict";var o=n("616c"),r=n.n(o);r.a},d5cd:function(e,t,n){},e157:function(e,t,n){},f2b7:function(e,t,n){}},[[0,"runtime","vendor"]]]);